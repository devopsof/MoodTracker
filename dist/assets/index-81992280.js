var Wb=Object.defineProperty;var $b=(e,t,n)=>t in e?Wb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var G=(e,t,n)=>($b(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function Kb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ah(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var s=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:function(){return e[i]}})}),n}var ky={exports:{}},Fl={},Py={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eo=Symbol.for("react.element"),Gb=Symbol.for("react.portal"),Yb=Symbol.for("react.fragment"),qb=Symbol.for("react.strict_mode"),Xb=Symbol.for("react.profiler"),Jb=Symbol.for("react.provider"),Qb=Symbol.for("react.context"),Zb=Symbol.for("react.forward_ref"),eS=Symbol.for("react.suspense"),tS=Symbol.for("react.memo"),nS=Symbol.for("react.lazy"),vp=Symbol.iterator;function iS(e){return e===null||typeof e!="object"?null:(e=vp&&e[vp]||e["@@iterator"],typeof e=="function"?e:null)}var Ay={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ny=Object.assign,jy={};function Ks(e,t,n){this.props=e,this.context=t,this.refs=jy,this.updater=n||Ay}Ks.prototype.isReactComponent={};Ks.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ks.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Dy(){}Dy.prototype=Ks.prototype;function lh(e,t,n){this.props=e,this.context=t,this.refs=jy,this.updater=n||Ay}var ch=lh.prototype=new Dy;ch.constructor=lh;Ny(ch,Ks.prototype);ch.isPureReactComponent=!0;var wp=Array.isArray,My=Object.prototype.hasOwnProperty,uh={current:null},Ry={key:!0,ref:!0,__self:!0,__source:!0};function Iy(e,t,n){var i,s={},r=null,o=null;if(t!=null)for(i in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(r=""+t.key),t)My.call(t,i)&&!Ry.hasOwnProperty(i)&&(s[i]=t[i]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(i in a=e.defaultProps,a)s[i]===void 0&&(s[i]=a[i]);return{$$typeof:Eo,type:e,key:r,ref:o,props:s,_owner:uh.current}}function sS(e,t){return{$$typeof:Eo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function dh(e){return typeof e=="object"&&e!==null&&e.$$typeof===Eo}function rS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var bp=/\/+/g;function Sc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?rS(""+e.key):t.toString(36)}function Ta(e,t,n,i,s){var r=typeof e;(r==="undefined"||r==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Eo:case Gb:o=!0}}if(o)return o=e,s=s(o),e=i===""?"."+Sc(o,0):i,wp(s)?(n="",e!=null&&(n=e.replace(bp,"$&/")+"/"),Ta(s,t,n,"",function(c){return c})):s!=null&&(dh(s)&&(s=sS(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(bp,"$&/")+"/")+e)),t.push(s)),1;if(o=0,i=i===""?".":i+":",wp(e))for(var a=0;a<e.length;a++){r=e[a];var l=i+Sc(r,a);o+=Ta(r,t,n,l,s)}else if(l=iS(e),typeof l=="function")for(e=l.call(e),a=0;!(r=e.next()).done;)r=r.value,l=i+Sc(r,a++),o+=Ta(r,t,n,l,s);else if(r==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Vo(e,t,n){if(e==null)return e;var i=[],s=0;return Ta(e,i,"","",function(r){return t.call(n,r,s++)}),i}function oS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var st={current:null},ka={transition:null},aS={ReactCurrentDispatcher:st,ReactCurrentBatchConfig:ka,ReactCurrentOwner:uh};function Ly(){throw Error("act(...) is not supported in production builds of React.")}te.Children={map:Vo,forEach:function(e,t,n){Vo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Vo(e,function(){t++}),t},toArray:function(e){return Vo(e,function(t){return t})||[]},only:function(e){if(!dh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};te.Component=Ks;te.Fragment=Yb;te.Profiler=Xb;te.PureComponent=lh;te.StrictMode=qb;te.Suspense=eS;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aS;te.act=Ly;te.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=Ny({},e.props),s=e.key,r=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(r=t.ref,o=uh.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)My.call(t,l)&&!Ry.hasOwnProperty(l)&&(i[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:Eo,type:e.type,key:s,ref:r,props:i,_owner:o}};te.createContext=function(e){return e={$$typeof:Qb,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Jb,_context:e},e.Consumer=e};te.createElement=Iy;te.createFactory=function(e){var t=Iy.bind(null,e);return t.type=e,t};te.createRef=function(){return{current:null}};te.forwardRef=function(e){return{$$typeof:Zb,render:e}};te.isValidElement=dh;te.lazy=function(e){return{$$typeof:nS,_payload:{_status:-1,_result:e},_init:oS}};te.memo=function(e,t){return{$$typeof:tS,type:e,compare:t===void 0?null:t}};te.startTransition=function(e){var t=ka.transition;ka.transition={};try{e()}finally{ka.transition=t}};te.unstable_act=Ly;te.useCallback=function(e,t){return st.current.useCallback(e,t)};te.useContext=function(e){return st.current.useContext(e)};te.useDebugValue=function(){};te.useDeferredValue=function(e){return st.current.useDeferredValue(e)};te.useEffect=function(e,t){return st.current.useEffect(e,t)};te.useId=function(){return st.current.useId()};te.useImperativeHandle=function(e,t,n){return st.current.useImperativeHandle(e,t,n)};te.useInsertionEffect=function(e,t){return st.current.useInsertionEffect(e,t)};te.useLayoutEffect=function(e,t){return st.current.useLayoutEffect(e,t)};te.useMemo=function(e,t){return st.current.useMemo(e,t)};te.useReducer=function(e,t,n){return st.current.useReducer(e,t,n)};te.useRef=function(e){return st.current.useRef(e)};te.useState=function(e){return st.current.useState(e)};te.useSyncExternalStore=function(e,t,n){return st.current.useSyncExternalStore(e,t,n)};te.useTransition=function(){return st.current.useTransition()};te.version="18.3.1";Py.exports=te;var C=Py.exports;const Gt=Kb(C);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lS=C,cS=Symbol.for("react.element"),uS=Symbol.for("react.fragment"),dS=Object.prototype.hasOwnProperty,hS=lS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fS={key:!0,ref:!0,__self:!0,__source:!0};function Fy(e,t,n){var i,s={},r=null,o=null;n!==void 0&&(r=""+n),t.key!==void 0&&(r=""+t.key),t.ref!==void 0&&(o=t.ref);for(i in t)dS.call(t,i)&&!fS.hasOwnProperty(i)&&(s[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)s[i]===void 0&&(s[i]=t[i]);return{$$typeof:cS,type:e,key:r,ref:o,props:s,_owner:hS.current}}Fl.Fragment=uS;Fl.jsx=Fy;Fl.jsxs=Fy;ky.exports=Fl;var h=ky.exports,Eu={},Oy={exports:{}},St={},Uy={exports:{}},By={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(U,$){var W=U.length;U.push($);e:for(;0<W;){var K=W-1>>>1,M=U[K];if(0<s(M,$))U[K]=$,U[W]=M,W=K;else break e}}function n(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var $=U[0],W=U.pop();if(W!==$){U[0]=W;e:for(var K=0,M=U.length,J=M>>>1;K<J;){var le=2*(K+1)-1,Ct=U[le],Fe=le+1,xi=U[Fe];if(0>s(Ct,W))Fe<M&&0>s(xi,Ct)?(U[K]=xi,U[Fe]=W,K=Fe):(U[K]=Ct,U[le]=W,K=le);else if(Fe<M&&0>s(xi,W))U[K]=xi,U[Fe]=W,K=Fe;else break e}}return $}function s(U,$){var W=U.sortIndex-$.sortIndex;return W!==0?W:U.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,p=!1,m=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(U){for(var $=n(c);$!==null;){if($.callback===null)i(c);else if($.startTime<=U)i(c),$.sortIndex=$.expirationTime,t(l,$);else break;$=n(c)}}function E(U){if(g=!1,S(U),!m)if(n(l)!==null)m=!0,ne(k);else{var $=n(c);$!==null&&Q(E,$.startTime-U)}}function k(U,$){m=!1,g&&(g=!1,y(P),P=-1),p=!0;var W=f;try{for(S($),d=n(l);d!==null&&(!(d.expirationTime>$)||U&&!D());){var K=d.callback;if(typeof K=="function"){d.callback=null,f=d.priorityLevel;var M=K(d.expirationTime<=$);$=e.unstable_now(),typeof M=="function"?d.callback=M:d===n(l)&&i(l),S($)}else i(l);d=n(l)}if(d!==null)var J=!0;else{var le=n(c);le!==null&&Q(E,le.startTime-$),J=!1}return J}finally{d=null,f=W,p=!1}}var N=!1,j=null,P=-1,R=5,F=-1;function D(){return!(e.unstable_now()-F<R)}function B(){if(j!==null){var U=e.unstable_now();F=U;var $=!0;try{$=j(!0,U)}finally{$?V():(N=!1,j=null)}}else N=!1}var V;if(typeof w=="function")V=function(){w(B)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,X=Z.port2;Z.port1.onmessage=B,V=function(){X.postMessage(null)}}else V=function(){b(B,0)};function ne(U){j=U,N||(N=!0,V())}function Q(U,$){P=b(function(){U(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,ne(k))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(U){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var W=f;f=$;try{return U()}finally{f=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,$){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var W=f;f=U;try{return $()}finally{f=W}},e.unstable_scheduleCallback=function(U,$,W){var K=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?K+W:K):W=K,U){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=W+M,U={id:u++,callback:$,priorityLevel:U,startTime:W,expirationTime:M,sortIndex:-1},W>K?(U.sortIndex=W,t(c,U),n(l)===null&&U===n(c)&&(g?(y(P),P=-1):g=!0,Q(E,W-K))):(U.sortIndex=M,t(l,U),m||p||(m=!0,ne(k))),U},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(U){var $=f;return function(){var W=f;f=$;try{return U.apply(this,arguments)}finally{f=W}}}})(By);Uy.exports=By;var pS=Uy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mS=C,wt=pS;function O(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vy=new Set,Wr={};function Xi(e,t){Ds(e,t),Ds(e+"Capture",t)}function Ds(e,t){for(Wr[e]=t,e=0;e<t.length;e++)Vy.add(t[e])}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tu=Object.prototype.hasOwnProperty,gS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Sp={},_p={};function yS(e){return Tu.call(_p,e)?!0:Tu.call(Sp,e)?!1:gS.test(e)?_p[e]=!0:(Sp[e]=!0,!1)}function xS(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function vS(e,t,n,i){if(t===null||typeof t>"u"||xS(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function rt(e,t,n,i,s,r,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=r,this.removeEmptyString=o}var $e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$e[e]=new rt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];$e[t]=new rt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){$e[e]=new rt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$e[e]=new rt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$e[e]=new rt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){$e[e]=new rt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){$e[e]=new rt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){$e[e]=new rt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){$e[e]=new rt(e,5,!1,e.toLowerCase(),null,!1,!1)});var hh=/[\-:]([a-z])/g;function fh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(hh,fh);$e[t]=new rt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(hh,fh);$e[t]=new rt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(hh,fh);$e[t]=new rt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){$e[e]=new rt(e,1,!1,e.toLowerCase(),null,!1,!1)});$e.xlinkHref=new rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){$e[e]=new rt(e,1,!1,e.toLowerCase(),null,!0,!0)});function ph(e,t,n,i){var s=$e.hasOwnProperty(t)?$e[t]:null;(s!==null?s.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(vS(t,n,s,i)&&(n=null),i||s===null?yS(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,i=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var Mn=mS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zo=Symbol.for("react.element"),os=Symbol.for("react.portal"),as=Symbol.for("react.fragment"),mh=Symbol.for("react.strict_mode"),ku=Symbol.for("react.profiler"),zy=Symbol.for("react.provider"),Hy=Symbol.for("react.context"),gh=Symbol.for("react.forward_ref"),Pu=Symbol.for("react.suspense"),Au=Symbol.for("react.suspense_list"),yh=Symbol.for("react.memo"),On=Symbol.for("react.lazy"),Wy=Symbol.for("react.offscreen"),Cp=Symbol.iterator;function nr(e){return e===null||typeof e!="object"?null:(e=Cp&&e[Cp]||e["@@iterator"],typeof e=="function"?e:null)}var Ee=Object.assign,_c;function yr(e){if(_c===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);_c=t&&t[1]||""}return`
`+_c+e}var Cc=!1;function Ec(e,t){if(!e||Cc)return"";Cc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var i=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){i=c}e.call(t.prototype)}else{try{throw Error()}catch(c){i=c}e()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),r=i.stack.split(`
`),o=s.length-1,a=r.length-1;1<=o&&0<=a&&s[o]!==r[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==r[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==r[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Cc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?yr(e):""}function wS(e){switch(e.tag){case 5:return yr(e.type);case 16:return yr("Lazy");case 13:return yr("Suspense");case 19:return yr("SuspenseList");case 0:case 2:case 15:return e=Ec(e.type,!1),e;case 11:return e=Ec(e.type.render,!1),e;case 1:return e=Ec(e.type,!0),e;default:return""}}function Nu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case as:return"Fragment";case os:return"Portal";case ku:return"Profiler";case mh:return"StrictMode";case Pu:return"Suspense";case Au:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Hy:return(e.displayName||"Context")+".Consumer";case zy:return(e._context.displayName||"Context")+".Provider";case gh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case yh:return t=e.displayName||null,t!==null?t:Nu(e.type)||"Memo";case On:t=e._payload,e=e._init;try{return Nu(e(t))}catch{}}return null}function bS(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Nu(t);case 8:return t===mh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ri(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $y(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function SS(e){var t=$y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,r=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){i=""+o,r.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ho(e){e._valueTracker||(e._valueTracker=SS(e))}function Ky(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=$y(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Xa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ju(e,t){var n=t.checked;return Ee({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ep(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=ri(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Gy(e,t){t=t.checked,t!=null&&ph(e,"checked",t,!1)}function Du(e,t){Gy(e,t);var n=ri(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Mu(e,t.type,n):t.hasOwnProperty("defaultValue")&&Mu(e,t.type,ri(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Tp(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Mu(e,t,n){(t!=="number"||Xa(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var xr=Array.isArray;function _s(e,t,n,i){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&i&&(e[n].defaultSelected=!0)}else{for(n=""+ri(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,i&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ru(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(O(91));return Ee({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function kp(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(O(92));if(xr(n)){if(1<n.length)throw Error(O(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ri(n)}}function Yy(e,t){var n=ri(t.value),i=ri(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function Pp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function qy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Iu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?qy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Wo,Xy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Wo=Wo||document.createElement("div"),Wo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Wo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function $r(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Pr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_S=["Webkit","ms","Moz","O"];Object.keys(Pr).forEach(function(e){_S.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Pr[t]=Pr[e]})});function Jy(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Pr.hasOwnProperty(e)&&Pr[e]?(""+t).trim():t+"px"}function Qy(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,s=Jy(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,s):e[n]=s}}var CS=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lu(e,t){if(t){if(CS[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(O(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(O(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(O(61))}if(t.style!=null&&typeof t.style!="object")throw Error(O(62))}}function Fu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ou=null;function xh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Uu=null,Cs=null,Es=null;function Ap(e){if(e=Po(e)){if(typeof Uu!="function")throw Error(O(280));var t=e.stateNode;t&&(t=zl(t),Uu(e.stateNode,e.type,t))}}function Zy(e){Cs?Es?Es.push(e):Es=[e]:Cs=e}function ex(){if(Cs){var e=Cs,t=Es;if(Es=Cs=null,Ap(e),t)for(e=0;e<t.length;e++)Ap(t[e])}}function tx(e,t){return e(t)}function nx(){}var Tc=!1;function ix(e,t,n){if(Tc)return e(t,n);Tc=!0;try{return tx(e,t,n)}finally{Tc=!1,(Cs!==null||Es!==null)&&(nx(),ex())}}function Kr(e,t){var n=e.stateNode;if(n===null)return null;var i=zl(n);if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(O(231,t,typeof n));return n}var Bu=!1;if(Pn)try{var ir={};Object.defineProperty(ir,"passive",{get:function(){Bu=!0}}),window.addEventListener("test",ir,ir),window.removeEventListener("test",ir,ir)}catch{Bu=!1}function ES(e,t,n,i,s,r,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Ar=!1,Ja=null,Qa=!1,Vu=null,TS={onError:function(e){Ar=!0,Ja=e}};function kS(e,t,n,i,s,r,o,a,l){Ar=!1,Ja=null,ES.apply(TS,arguments)}function PS(e,t,n,i,s,r,o,a,l){if(kS.apply(this,arguments),Ar){if(Ar){var c=Ja;Ar=!1,Ja=null}else throw Error(O(198));Qa||(Qa=!0,Vu=c)}}function Ji(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function sx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Np(e){if(Ji(e)!==e)throw Error(O(188))}function AS(e){var t=e.alternate;if(!t){if(t=Ji(e),t===null)throw Error(O(188));return t!==e?null:e}for(var n=e,i=t;;){var s=n.return;if(s===null)break;var r=s.alternate;if(r===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===n)return Np(s),e;if(r===i)return Np(s),t;r=r.sibling}throw Error(O(188))}if(n.return!==i.return)n=s,i=r;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o){for(a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o)throw Error(O(189))}}if(n.alternate!==i)throw Error(O(190))}if(n.tag!==3)throw Error(O(188));return n.stateNode.current===n?e:t}function rx(e){return e=AS(e),e!==null?ox(e):null}function ox(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ox(e);if(t!==null)return t;e=e.sibling}return null}var ax=wt.unstable_scheduleCallback,jp=wt.unstable_cancelCallback,NS=wt.unstable_shouldYield,jS=wt.unstable_requestPaint,je=wt.unstable_now,DS=wt.unstable_getCurrentPriorityLevel,vh=wt.unstable_ImmediatePriority,lx=wt.unstable_UserBlockingPriority,Za=wt.unstable_NormalPriority,MS=wt.unstable_LowPriority,cx=wt.unstable_IdlePriority,Ol=null,rn=null;function RS(e){if(rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(Ol,e,void 0,(e.current.flags&128)===128)}catch{}}var $t=Math.clz32?Math.clz32:FS,IS=Math.log,LS=Math.LN2;function FS(e){return e>>>=0,e===0?32:31-(IS(e)/LS|0)|0}var $o=64,Ko=4194304;function vr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function el(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,s=e.suspendedLanes,r=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?i=vr(a):(r&=o,r!==0&&(i=vr(r)))}else o=n&~s,o!==0?i=vr(o):r!==0&&(i=vr(r));if(i===0)return 0;if(t!==0&&t!==i&&!(t&s)&&(s=i&-i,r=t&-t,s>=r||s===16&&(r&4194240)!==0))return t;if(i&4&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-$t(t),s=1<<n,i|=e[n],t&=~s;return i}function OS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function US(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,r=e.pendingLanes;0<r;){var o=31-$t(r),a=1<<o,l=s[o];l===-1?(!(a&n)||a&i)&&(s[o]=OS(a,t)):l<=t&&(e.expiredLanes|=a),r&=~a}}function zu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ux(){var e=$o;return $o<<=1,!($o&4194240)&&($o=64),e}function kc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function To(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-$t(t),e[t]=n}function BS(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-$t(n),r=1<<s;t[s]=0,i[s]=-1,e[s]=-1,n&=~r}}function wh(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-$t(n),s=1<<i;s&t|e[i]&t&&(e[i]|=t),n&=~s}}var ue=0;function dx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var hx,bh,fx,px,mx,Hu=!1,Go=[],qn=null,Xn=null,Jn=null,Gr=new Map,Yr=new Map,Bn=[],VS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dp(e,t){switch(e){case"focusin":case"focusout":qn=null;break;case"dragenter":case"dragleave":Xn=null;break;case"mouseover":case"mouseout":Jn=null;break;case"pointerover":case"pointerout":Gr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yr.delete(t.pointerId)}}function sr(e,t,n,i,s,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},t!==null&&(t=Po(t),t!==null&&bh(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function zS(e,t,n,i,s){switch(t){case"focusin":return qn=sr(qn,e,t,n,i,s),!0;case"dragenter":return Xn=sr(Xn,e,t,n,i,s),!0;case"mouseover":return Jn=sr(Jn,e,t,n,i,s),!0;case"pointerover":var r=s.pointerId;return Gr.set(r,sr(Gr.get(r)||null,e,t,n,i,s)),!0;case"gotpointercapture":return r=s.pointerId,Yr.set(r,sr(Yr.get(r)||null,e,t,n,i,s)),!0}return!1}function gx(e){var t=ji(e.target);if(t!==null){var n=Ji(t);if(n!==null){if(t=n.tag,t===13){if(t=sx(n),t!==null){e.blockedOn=t,mx(e.priority,function(){fx(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Pa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Wu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Ou=i,n.target.dispatchEvent(i),Ou=null}else return t=Po(n),t!==null&&bh(t),e.blockedOn=n,!1;t.shift()}return!0}function Mp(e,t,n){Pa(e)&&n.delete(t)}function HS(){Hu=!1,qn!==null&&Pa(qn)&&(qn=null),Xn!==null&&Pa(Xn)&&(Xn=null),Jn!==null&&Pa(Jn)&&(Jn=null),Gr.forEach(Mp),Yr.forEach(Mp)}function rr(e,t){e.blockedOn===t&&(e.blockedOn=null,Hu||(Hu=!0,wt.unstable_scheduleCallback(wt.unstable_NormalPriority,HS)))}function qr(e){function t(s){return rr(s,e)}if(0<Go.length){rr(Go[0],e);for(var n=1;n<Go.length;n++){var i=Go[n];i.blockedOn===e&&(i.blockedOn=null)}}for(qn!==null&&rr(qn,e),Xn!==null&&rr(Xn,e),Jn!==null&&rr(Jn,e),Gr.forEach(t),Yr.forEach(t),n=0;n<Bn.length;n++)i=Bn[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<Bn.length&&(n=Bn[0],n.blockedOn===null);)gx(n),n.blockedOn===null&&Bn.shift()}var Ts=Mn.ReactCurrentBatchConfig,tl=!0;function WS(e,t,n,i){var s=ue,r=Ts.transition;Ts.transition=null;try{ue=1,Sh(e,t,n,i)}finally{ue=s,Ts.transition=r}}function $S(e,t,n,i){var s=ue,r=Ts.transition;Ts.transition=null;try{ue=4,Sh(e,t,n,i)}finally{ue=s,Ts.transition=r}}function Sh(e,t,n,i){if(tl){var s=Wu(e,t,n,i);if(s===null)Fc(e,t,i,nl,n),Dp(e,i);else if(zS(s,e,t,n,i))i.stopPropagation();else if(Dp(e,i),t&4&&-1<VS.indexOf(e)){for(;s!==null;){var r=Po(s);if(r!==null&&hx(r),r=Wu(e,t,n,i),r===null&&Fc(e,t,i,nl,n),r===s)break;s=r}s!==null&&i.stopPropagation()}else Fc(e,t,i,null,n)}}var nl=null;function Wu(e,t,n,i){if(nl=null,e=xh(i),e=ji(e),e!==null)if(t=Ji(e),t===null)e=null;else if(n=t.tag,n===13){if(e=sx(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return nl=e,null}function yx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(DS()){case vh:return 1;case lx:return 4;case Za:case MS:return 16;case cx:return 536870912;default:return 16}default:return 16}}var zn=null,_h=null,Aa=null;function xx(){if(Aa)return Aa;var e,t=_h,n=t.length,i,s="value"in zn?zn.value:zn.textContent,r=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(i=1;i<=o&&t[n-i]===s[r-i];i++);return Aa=s.slice(e,1<i?1-i:void 0)}function Na(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Yo(){return!0}function Rp(){return!1}function _t(e){function t(n,i,s,r,o){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(r):r[a]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Yo:Rp,this.isPropagationStopped=Rp,this}return Ee(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yo)},persist:function(){},isPersistent:Yo}),t}var Gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ch=_t(Gs),ko=Ee({},Gs,{view:0,detail:0}),KS=_t(ko),Pc,Ac,or,Ul=Ee({},ko,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Eh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==or&&(or&&e.type==="mousemove"?(Pc=e.screenX-or.screenX,Ac=e.screenY-or.screenY):Ac=Pc=0,or=e),Pc)},movementY:function(e){return"movementY"in e?e.movementY:Ac}}),Ip=_t(Ul),GS=Ee({},Ul,{dataTransfer:0}),YS=_t(GS),qS=Ee({},ko,{relatedTarget:0}),Nc=_t(qS),XS=Ee({},Gs,{animationName:0,elapsedTime:0,pseudoElement:0}),JS=_t(XS),QS=Ee({},Gs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ZS=_t(QS),e_=Ee({},Gs,{data:0}),Lp=_t(e_),t_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},n_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},i_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function s_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=i_[e])?!!t[e]:!1}function Eh(){return s_}var r_=Ee({},ko,{key:function(e){if(e.key){var t=t_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Na(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?n_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Eh,charCode:function(e){return e.type==="keypress"?Na(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Na(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),o_=_t(r_),a_=Ee({},Ul,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fp=_t(a_),l_=Ee({},ko,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Eh}),c_=_t(l_),u_=Ee({},Gs,{propertyName:0,elapsedTime:0,pseudoElement:0}),d_=_t(u_),h_=Ee({},Ul,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),f_=_t(h_),p_=[9,13,27,32],Th=Pn&&"CompositionEvent"in window,Nr=null;Pn&&"documentMode"in document&&(Nr=document.documentMode);var m_=Pn&&"TextEvent"in window&&!Nr,vx=Pn&&(!Th||Nr&&8<Nr&&11>=Nr),Op=String.fromCharCode(32),Up=!1;function wx(e,t){switch(e){case"keyup":return p_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ls=!1;function g_(e,t){switch(e){case"compositionend":return bx(t);case"keypress":return t.which!==32?null:(Up=!0,Op);case"textInput":return e=t.data,e===Op&&Up?null:e;default:return null}}function y_(e,t){if(ls)return e==="compositionend"||!Th&&wx(e,t)?(e=xx(),Aa=_h=zn=null,ls=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vx&&t.locale!=="ko"?null:t.data;default:return null}}var x_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!x_[e.type]:t==="textarea"}function Sx(e,t,n,i){Zy(i),t=il(t,"onChange"),0<t.length&&(n=new Ch("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var jr=null,Xr=null;function v_(e){Mx(e,0)}function Bl(e){var t=ds(e);if(Ky(t))return e}function w_(e,t){if(e==="change")return t}var _x=!1;if(Pn){var jc;if(Pn){var Dc="oninput"in document;if(!Dc){var Vp=document.createElement("div");Vp.setAttribute("oninput","return;"),Dc=typeof Vp.oninput=="function"}jc=Dc}else jc=!1;_x=jc&&(!document.documentMode||9<document.documentMode)}function zp(){jr&&(jr.detachEvent("onpropertychange",Cx),Xr=jr=null)}function Cx(e){if(e.propertyName==="value"&&Bl(Xr)){var t=[];Sx(t,Xr,e,xh(e)),ix(v_,t)}}function b_(e,t,n){e==="focusin"?(zp(),jr=t,Xr=n,jr.attachEvent("onpropertychange",Cx)):e==="focusout"&&zp()}function S_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bl(Xr)}function __(e,t){if(e==="click")return Bl(t)}function C_(e,t){if(e==="input"||e==="change")return Bl(t)}function E_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Yt=typeof Object.is=="function"?Object.is:E_;function Jr(e,t){if(Yt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!Tu.call(t,s)||!Yt(e[s],t[s]))return!1}return!0}function Hp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wp(e,t){var n=Hp(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Hp(n)}}function Ex(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ex(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Tx(){for(var e=window,t=Xa();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Xa(e.document)}return t}function kh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function T_(e){var t=Tx(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ex(n.ownerDocument.documentElement,n)){if(i!==null&&kh(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,r=Math.min(i.start,s);i=i.end===void 0?r:Math.min(i.end,s),!e.extend&&r>i&&(s=i,i=r,r=s),s=Wp(n,r);var o=Wp(n,i);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),r>i?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var k_=Pn&&"documentMode"in document&&11>=document.documentMode,cs=null,$u=null,Dr=null,Ku=!1;function $p(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ku||cs==null||cs!==Xa(i)||(i=cs,"selectionStart"in i&&kh(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Dr&&Jr(Dr,i)||(Dr=i,i=il($u,"onSelect"),0<i.length&&(t=new Ch("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=cs)))}function qo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var us={animationend:qo("Animation","AnimationEnd"),animationiteration:qo("Animation","AnimationIteration"),animationstart:qo("Animation","AnimationStart"),transitionend:qo("Transition","TransitionEnd")},Mc={},kx={};Pn&&(kx=document.createElement("div").style,"AnimationEvent"in window||(delete us.animationend.animation,delete us.animationiteration.animation,delete us.animationstart.animation),"TransitionEvent"in window||delete us.transitionend.transition);function Vl(e){if(Mc[e])return Mc[e];if(!us[e])return e;var t=us[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in kx)return Mc[e]=t[n];return e}var Px=Vl("animationend"),Ax=Vl("animationiteration"),Nx=Vl("animationstart"),jx=Vl("transitionend"),Dx=new Map,Kp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function di(e,t){Dx.set(e,t),Xi(t,[e])}for(var Rc=0;Rc<Kp.length;Rc++){var Ic=Kp[Rc],P_=Ic.toLowerCase(),A_=Ic[0].toUpperCase()+Ic.slice(1);di(P_,"on"+A_)}di(Px,"onAnimationEnd");di(Ax,"onAnimationIteration");di(Nx,"onAnimationStart");di("dblclick","onDoubleClick");di("focusin","onFocus");di("focusout","onBlur");di(jx,"onTransitionEnd");Ds("onMouseEnter",["mouseout","mouseover"]);Ds("onMouseLeave",["mouseout","mouseover"]);Ds("onPointerEnter",["pointerout","pointerover"]);Ds("onPointerLeave",["pointerout","pointerover"]);Xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),N_=new Set("cancel close invalid load scroll toggle".split(" ").concat(wr));function Gp(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,PS(i,t,void 0,e),e.currentTarget=null}function Mx(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],s=i.event;i=i.listeners;e:{var r=void 0;if(t)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==r&&s.isPropagationStopped())break e;Gp(s,a,c),r=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==r&&s.isPropagationStopped())break e;Gp(s,a,c),r=l}}}if(Qa)throw e=Vu,Qa=!1,Vu=null,e}function ge(e,t){var n=t[Ju];n===void 0&&(n=t[Ju]=new Set);var i=e+"__bubble";n.has(i)||(Rx(t,e,2,!1),n.add(i))}function Lc(e,t,n){var i=0;t&&(i|=4),Rx(n,e,i,t)}var Xo="_reactListening"+Math.random().toString(36).slice(2);function Qr(e){if(!e[Xo]){e[Xo]=!0,Vy.forEach(function(n){n!=="selectionchange"&&(N_.has(n)||Lc(n,!1,e),Lc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xo]||(t[Xo]=!0,Lc("selectionchange",!1,t))}}function Rx(e,t,n,i){switch(yx(t)){case 1:var s=WS;break;case 4:s=$S;break;default:s=Sh}n=s.bind(null,t,n,e),s=void 0,!Bu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),i?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Fc(e,t,n,i,s){var r=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ji(a),o===null)return;if(l=o.tag,l===5||l===6){i=r=o;continue e}a=a.parentNode}}i=i.return}ix(function(){var c=r,u=xh(n),d=[];e:{var f=Dx.get(e);if(f!==void 0){var p=Ch,m=e;switch(e){case"keypress":if(Na(n)===0)break e;case"keydown":case"keyup":p=o_;break;case"focusin":m="focus",p=Nc;break;case"focusout":m="blur",p=Nc;break;case"beforeblur":case"afterblur":p=Nc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Ip;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=YS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=c_;break;case Px:case Ax:case Nx:p=JS;break;case jx:p=d_;break;case"scroll":p=KS;break;case"wheel":p=f_;break;case"copy":case"cut":case"paste":p=ZS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Fp}var g=(t&4)!==0,b=!g&&e==="scroll",y=g?f!==null?f+"Capture":null:f;g=[];for(var w=c,S;w!==null;){S=w;var E=S.stateNode;if(S.tag===5&&E!==null&&(S=E,y!==null&&(E=Kr(w,y),E!=null&&g.push(Zr(w,E,S)))),b)break;w=w.return}0<g.length&&(f=new p(f,m,null,n,u),d.push({event:f,listeners:g}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&n!==Ou&&(m=n.relatedTarget||n.fromElement)&&(ji(m)||m[An]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?ji(m):null,m!==null&&(b=Ji(m),m!==b||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(g=Ip,E="onMouseLeave",y="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(g=Fp,E="onPointerLeave",y="onPointerEnter",w="pointer"),b=p==null?f:ds(p),S=m==null?f:ds(m),f=new g(E,w+"leave",p,n,u),f.target=b,f.relatedTarget=S,E=null,ji(u)===c&&(g=new g(y,w+"enter",m,n,u),g.target=S,g.relatedTarget=b,E=g),b=E,p&&m)t:{for(g=p,y=m,w=0,S=g;S;S=es(S))w++;for(S=0,E=y;E;E=es(E))S++;for(;0<w-S;)g=es(g),w--;for(;0<S-w;)y=es(y),S--;for(;w--;){if(g===y||y!==null&&g===y.alternate)break t;g=es(g),y=es(y)}g=null}else g=null;p!==null&&Yp(d,f,p,g,!1),m!==null&&b!==null&&Yp(d,b,m,g,!0)}}e:{if(f=c?ds(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var k=w_;else if(Bp(f))if(_x)k=C_;else{k=S_;var N=b_}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=__);if(k&&(k=k(e,c))){Sx(d,k,n,u);break e}N&&N(e,f,c),e==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&Mu(f,"number",f.value)}switch(N=c?ds(c):window,e){case"focusin":(Bp(N)||N.contentEditable==="true")&&(cs=N,$u=c,Dr=null);break;case"focusout":Dr=$u=cs=null;break;case"mousedown":Ku=!0;break;case"contextmenu":case"mouseup":case"dragend":Ku=!1,$p(d,n,u);break;case"selectionchange":if(k_)break;case"keydown":case"keyup":$p(d,n,u)}var j;if(Th)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else ls?wx(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(vx&&n.locale!=="ko"&&(ls||P!=="onCompositionStart"?P==="onCompositionEnd"&&ls&&(j=xx()):(zn=u,_h="value"in zn?zn.value:zn.textContent,ls=!0)),N=il(c,P),0<N.length&&(P=new Lp(P,e,null,n,u),d.push({event:P,listeners:N}),j?P.data=j:(j=bx(n),j!==null&&(P.data=j)))),(j=m_?g_(e,n):y_(e,n))&&(c=il(c,"onBeforeInput"),0<c.length&&(u=new Lp("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=j))}Mx(d,t)})}function Zr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function il(e,t){for(var n=t+"Capture",i=[];e!==null;){var s=e,r=s.stateNode;s.tag===5&&r!==null&&(s=r,r=Kr(e,n),r!=null&&i.unshift(Zr(e,r,s)),r=Kr(e,t),r!=null&&i.push(Zr(e,r,s))),e=e.return}return i}function es(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Yp(e,t,n,i,s){for(var r=t._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,s?(l=Kr(n,r),l!=null&&o.unshift(Zr(n,l,a))):s||(l=Kr(n,r),l!=null&&o.push(Zr(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var j_=/\r\n?/g,D_=/\u0000|\uFFFD/g;function qp(e){return(typeof e=="string"?e:""+e).replace(j_,`
`).replace(D_,"")}function Jo(e,t,n){if(t=qp(t),qp(e)!==t&&n)throw Error(O(425))}function sl(){}var Gu=null,Yu=null;function qu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Xu=typeof setTimeout=="function"?setTimeout:void 0,M_=typeof clearTimeout=="function"?clearTimeout:void 0,Xp=typeof Promise=="function"?Promise:void 0,R_=typeof queueMicrotask=="function"?queueMicrotask:typeof Xp<"u"?function(e){return Xp.resolve(null).then(e).catch(I_)}:Xu;function I_(e){setTimeout(function(){throw e})}function Oc(e,t){var n=t,i=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(i===0){e.removeChild(s),qr(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=s}while(n);qr(t)}function Qn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Jp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ys=Math.random().toString(36).slice(2),nn="__reactFiber$"+Ys,eo="__reactProps$"+Ys,An="__reactContainer$"+Ys,Ju="__reactEvents$"+Ys,L_="__reactListeners$"+Ys,F_="__reactHandles$"+Ys;function ji(e){var t=e[nn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[An]||n[nn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Jp(e);e!==null;){if(n=e[nn])return n;e=Jp(e)}return t}e=n,n=e.parentNode}return null}function Po(e){return e=e[nn]||e[An],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ds(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(O(33))}function zl(e){return e[eo]||null}var Qu=[],hs=-1;function hi(e){return{current:e}}function ye(e){0>hs||(e.current=Qu[hs],Qu[hs]=null,hs--)}function me(e,t){hs++,Qu[hs]=e.current,e.current=t}var oi={},Ze=hi(oi),ut=hi(!1),Hi=oi;function Ms(e,t){var n=e.type.contextTypes;if(!n)return oi;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var s={},r;for(r in n)s[r]=t[r];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function dt(e){return e=e.childContextTypes,e!=null}function rl(){ye(ut),ye(Ze)}function Qp(e,t,n){if(Ze.current!==oi)throw Error(O(168));me(Ze,t),me(ut,n)}function Ix(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var s in i)if(!(s in t))throw Error(O(108,bS(e)||"Unknown",s));return Ee({},n,i)}function ol(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||oi,Hi=Ze.current,me(Ze,e),me(ut,ut.current),!0}function Zp(e,t,n){var i=e.stateNode;if(!i)throw Error(O(169));n?(e=Ix(e,t,Hi),i.__reactInternalMemoizedMergedChildContext=e,ye(ut),ye(Ze),me(Ze,e)):ye(ut),me(ut,n)}var yn=null,Hl=!1,Uc=!1;function Lx(e){yn===null?yn=[e]:yn.push(e)}function O_(e){Hl=!0,Lx(e)}function fi(){if(!Uc&&yn!==null){Uc=!0;var e=0,t=ue;try{var n=yn;for(ue=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}yn=null,Hl=!1}catch(s){throw yn!==null&&(yn=yn.slice(e+1)),ax(vh,fi),s}finally{ue=t,Uc=!1}}return null}var fs=[],ps=0,al=null,ll=0,Nt=[],jt=0,Wi=null,vn=1,wn="";function Ei(e,t){fs[ps++]=ll,fs[ps++]=al,al=e,ll=t}function Fx(e,t,n){Nt[jt++]=vn,Nt[jt++]=wn,Nt[jt++]=Wi,Wi=e;var i=vn;e=wn;var s=32-$t(i)-1;i&=~(1<<s),n+=1;var r=32-$t(t)+s;if(30<r){var o=s-s%5;r=(i&(1<<o)-1).toString(32),i>>=o,s-=o,vn=1<<32-$t(t)+s|n<<s|i,wn=r+e}else vn=1<<r|n<<s|i,wn=e}function Ph(e){e.return!==null&&(Ei(e,1),Fx(e,1,0))}function Ah(e){for(;e===al;)al=fs[--ps],fs[ps]=null,ll=fs[--ps],fs[ps]=null;for(;e===Wi;)Wi=Nt[--jt],Nt[jt]=null,wn=Nt[--jt],Nt[jt]=null,vn=Nt[--jt],Nt[jt]=null}var vt=null,gt=null,ve=!1,Wt=null;function Ox(e,t){var n=Mt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function em(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,vt=e,gt=Qn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,vt=e,gt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Wi!==null?{id:vn,overflow:wn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Mt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,vt=e,gt=null,!0):!1;default:return!1}}function Zu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ed(e){if(ve){var t=gt;if(t){var n=t;if(!em(e,t)){if(Zu(e))throw Error(O(418));t=Qn(n.nextSibling);var i=vt;t&&em(e,t)?Ox(i,n):(e.flags=e.flags&-4097|2,ve=!1,vt=e)}}else{if(Zu(e))throw Error(O(418));e.flags=e.flags&-4097|2,ve=!1,vt=e}}}function tm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;vt=e}function Qo(e){if(e!==vt)return!1;if(!ve)return tm(e),ve=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!qu(e.type,e.memoizedProps)),t&&(t=gt)){if(Zu(e))throw Ux(),Error(O(418));for(;t;)Ox(e,t),t=Qn(t.nextSibling)}if(tm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(O(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){gt=Qn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}gt=null}}else gt=vt?Qn(e.stateNode.nextSibling):null;return!0}function Ux(){for(var e=gt;e;)e=Qn(e.nextSibling)}function Rs(){gt=vt=null,ve=!1}function Nh(e){Wt===null?Wt=[e]:Wt.push(e)}var U_=Mn.ReactCurrentBatchConfig;function ar(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(O(309));var i=n.stateNode}if(!i)throw Error(O(147,e));var s=i,r=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===r?t.ref:(t=function(o){var a=s.refs;o===null?delete a[r]:a[r]=o},t._stringRef=r,t)}if(typeof e!="string")throw Error(O(284));if(!n._owner)throw Error(O(290,e))}return e}function Zo(e,t){throw e=Object.prototype.toString.call(t),Error(O(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function nm(e){var t=e._init;return t(e._payload)}function Bx(e){function t(y,w){if(e){var S=y.deletions;S===null?(y.deletions=[w],y.flags|=16):S.push(w)}}function n(y,w){if(!e)return null;for(;w!==null;)t(y,w),w=w.sibling;return null}function i(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function s(y,w){return y=ni(y,w),y.index=0,y.sibling=null,y}function r(y,w,S){return y.index=S,e?(S=y.alternate,S!==null?(S=S.index,S<w?(y.flags|=2,w):S):(y.flags|=2,w)):(y.flags|=1048576,w)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,w,S,E){return w===null||w.tag!==6?(w=Kc(S,y.mode,E),w.return=y,w):(w=s(w,S),w.return=y,w)}function l(y,w,S,E){var k=S.type;return k===as?u(y,w,S.props.children,E,S.key):w!==null&&(w.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===On&&nm(k)===w.type)?(E=s(w,S.props),E.ref=ar(y,w,S),E.return=y,E):(E=Fa(S.type,S.key,S.props,null,y.mode,E),E.ref=ar(y,w,S),E.return=y,E)}function c(y,w,S,E){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=Gc(S,y.mode,E),w.return=y,w):(w=s(w,S.children||[]),w.return=y,w)}function u(y,w,S,E,k){return w===null||w.tag!==7?(w=Oi(S,y.mode,E,k),w.return=y,w):(w=s(w,S),w.return=y,w)}function d(y,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Kc(""+w,y.mode,S),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case zo:return S=Fa(w.type,w.key,w.props,null,y.mode,S),S.ref=ar(y,null,w),S.return=y,S;case os:return w=Gc(w,y.mode,S),w.return=y,w;case On:var E=w._init;return d(y,E(w._payload),S)}if(xr(w)||nr(w))return w=Oi(w,y.mode,S,null),w.return=y,w;Zo(y,w)}return null}function f(y,w,S,E){var k=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return k!==null?null:a(y,w,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case zo:return S.key===k?l(y,w,S,E):null;case os:return S.key===k?c(y,w,S,E):null;case On:return k=S._init,f(y,w,k(S._payload),E)}if(xr(S)||nr(S))return k!==null?null:u(y,w,S,E,null);Zo(y,S)}return null}function p(y,w,S,E,k){if(typeof E=="string"&&E!==""||typeof E=="number")return y=y.get(S)||null,a(w,y,""+E,k);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case zo:return y=y.get(E.key===null?S:E.key)||null,l(w,y,E,k);case os:return y=y.get(E.key===null?S:E.key)||null,c(w,y,E,k);case On:var N=E._init;return p(y,w,S,N(E._payload),k)}if(xr(E)||nr(E))return y=y.get(S)||null,u(w,y,E,k,null);Zo(w,E)}return null}function m(y,w,S,E){for(var k=null,N=null,j=w,P=w=0,R=null;j!==null&&P<S.length;P++){j.index>P?(R=j,j=null):R=j.sibling;var F=f(y,j,S[P],E);if(F===null){j===null&&(j=R);break}e&&j&&F.alternate===null&&t(y,j),w=r(F,w,P),N===null?k=F:N.sibling=F,N=F,j=R}if(P===S.length)return n(y,j),ve&&Ei(y,P),k;if(j===null){for(;P<S.length;P++)j=d(y,S[P],E),j!==null&&(w=r(j,w,P),N===null?k=j:N.sibling=j,N=j);return ve&&Ei(y,P),k}for(j=i(y,j);P<S.length;P++)R=p(j,y,P,S[P],E),R!==null&&(e&&R.alternate!==null&&j.delete(R.key===null?P:R.key),w=r(R,w,P),N===null?k=R:N.sibling=R,N=R);return e&&j.forEach(function(D){return t(y,D)}),ve&&Ei(y,P),k}function g(y,w,S,E){var k=nr(S);if(typeof k!="function")throw Error(O(150));if(S=k.call(S),S==null)throw Error(O(151));for(var N=k=null,j=w,P=w=0,R=null,F=S.next();j!==null&&!F.done;P++,F=S.next()){j.index>P?(R=j,j=null):R=j.sibling;var D=f(y,j,F.value,E);if(D===null){j===null&&(j=R);break}e&&j&&D.alternate===null&&t(y,j),w=r(D,w,P),N===null?k=D:N.sibling=D,N=D,j=R}if(F.done)return n(y,j),ve&&Ei(y,P),k;if(j===null){for(;!F.done;P++,F=S.next())F=d(y,F.value,E),F!==null&&(w=r(F,w,P),N===null?k=F:N.sibling=F,N=F);return ve&&Ei(y,P),k}for(j=i(y,j);!F.done;P++,F=S.next())F=p(j,y,P,F.value,E),F!==null&&(e&&F.alternate!==null&&j.delete(F.key===null?P:F.key),w=r(F,w,P),N===null?k=F:N.sibling=F,N=F);return e&&j.forEach(function(B){return t(y,B)}),ve&&Ei(y,P),k}function b(y,w,S,E){if(typeof S=="object"&&S!==null&&S.type===as&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case zo:e:{for(var k=S.key,N=w;N!==null;){if(N.key===k){if(k=S.type,k===as){if(N.tag===7){n(y,N.sibling),w=s(N,S.props.children),w.return=y,y=w;break e}}else if(N.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===On&&nm(k)===N.type){n(y,N.sibling),w=s(N,S.props),w.ref=ar(y,N,S),w.return=y,y=w;break e}n(y,N);break}else t(y,N);N=N.sibling}S.type===as?(w=Oi(S.props.children,y.mode,E,S.key),w.return=y,y=w):(E=Fa(S.type,S.key,S.props,null,y.mode,E),E.ref=ar(y,w,S),E.return=y,y=E)}return o(y);case os:e:{for(N=S.key;w!==null;){if(w.key===N)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){n(y,w.sibling),w=s(w,S.children||[]),w.return=y,y=w;break e}else{n(y,w);break}else t(y,w);w=w.sibling}w=Gc(S,y.mode,E),w.return=y,y=w}return o(y);case On:return N=S._init,b(y,w,N(S._payload),E)}if(xr(S))return m(y,w,S,E);if(nr(S))return g(y,w,S,E);Zo(y,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(n(y,w.sibling),w=s(w,S),w.return=y,y=w):(n(y,w),w=Kc(S,y.mode,E),w.return=y,y=w),o(y)):n(y,w)}return b}var Is=Bx(!0),Vx=Bx(!1),cl=hi(null),ul=null,ms=null,jh=null;function Dh(){jh=ms=ul=null}function Mh(e){var t=cl.current;ye(cl),e._currentValue=t}function td(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function ks(e,t){ul=e,jh=ms=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ct=!0),e.firstContext=null)}function Ot(e){var t=e._currentValue;if(jh!==e)if(e={context:e,memoizedValue:t,next:null},ms===null){if(ul===null)throw Error(O(308));ms=e,ul.dependencies={lanes:0,firstContext:e}}else ms=ms.next=e;return t}var Di=null;function Rh(e){Di===null?Di=[e]:Di.push(e)}function zx(e,t,n,i){var s=t.interleaved;return s===null?(n.next=n,Rh(t)):(n.next=s.next,s.next=n),t.interleaved=n,Nn(e,i)}function Nn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Un=!1;function Ih(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hx(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _n(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Zn(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,re&2){var s=i.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),i.pending=t,Nn(e,n)}return s=i.interleaved,s===null?(t.next=t,Rh(i)):(t.next=s.next,s.next=t),i.interleaved=t,Nn(e,n)}function ja(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,wh(e,n)}}function im(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};r===null?s=r=o:r=r.next=o,n=n.next}while(n!==null);r===null?s=r=t:r=r.next=t}else s=r=t;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function dl(e,t,n,i){var s=e.updateQueue;Un=!1;var r=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?r=c:o.next=c,o=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(r!==null){var d=s.baseState;o=0,u=c=l=null,a=r;do{var f=a.lane,p=a.eventTime;if((i&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=e,g=a;switch(f=t,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){d=m.call(p,d,f);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,f=typeof m=="function"?m.call(p,d,f):m,f==null)break e;d=Ee({},d,f);break e;case 2:Un=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(1);if(u===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else r===null&&(s.shared.lanes=0);Ki|=o,e.lanes=o,e.memoizedState=d}}function sm(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],s=i.callback;if(s!==null){if(i.callback=null,i=n,typeof s!="function")throw Error(O(191,s));s.call(i)}}}var Ao={},on=hi(Ao),to=hi(Ao),no=hi(Ao);function Mi(e){if(e===Ao)throw Error(O(174));return e}function Lh(e,t){switch(me(no,t),me(to,e),me(on,Ao),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Iu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Iu(t,e)}ye(on),me(on,t)}function Ls(){ye(on),ye(to),ye(no)}function Wx(e){Mi(no.current);var t=Mi(on.current),n=Iu(t,e.type);t!==n&&(me(to,e),me(on,n))}function Fh(e){to.current===e&&(ye(on),ye(to))}var Se=hi(0);function hl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bc=[];function Oh(){for(var e=0;e<Bc.length;e++)Bc[e]._workInProgressVersionPrimary=null;Bc.length=0}var Da=Mn.ReactCurrentDispatcher,Vc=Mn.ReactCurrentBatchConfig,$i=0,Ce=null,Re=null,Oe=null,fl=!1,Mr=!1,io=0,B_=0;function Ge(){throw Error(O(321))}function Uh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Yt(e[n],t[n]))return!1;return!0}function Bh(e,t,n,i,s,r){if($i=r,Ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Da.current=e===null||e.memoizedState===null?W_:$_,e=n(i,s),Mr){r=0;do{if(Mr=!1,io=0,25<=r)throw Error(O(301));r+=1,Oe=Re=null,t.updateQueue=null,Da.current=K_,e=n(i,s)}while(Mr)}if(Da.current=pl,t=Re!==null&&Re.next!==null,$i=0,Oe=Re=Ce=null,fl=!1,t)throw Error(O(300));return e}function Vh(){var e=io!==0;return io=0,e}function Zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?Ce.memoizedState=Oe=e:Oe=Oe.next=e,Oe}function Ut(){if(Re===null){var e=Ce.alternate;e=e!==null?e.memoizedState:null}else e=Re.next;var t=Oe===null?Ce.memoizedState:Oe.next;if(t!==null)Oe=t,Re=e;else{if(e===null)throw Error(O(310));Re=e,e={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},Oe===null?Ce.memoizedState=Oe=e:Oe=Oe.next=e}return Oe}function so(e,t){return typeof t=="function"?t(e):t}function zc(e){var t=Ut(),n=t.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=e;var i=Re,s=i.baseQueue,r=n.pending;if(r!==null){if(s!==null){var o=s.next;s.next=r.next,r.next=o}i.baseQueue=s=r,n.pending=null}if(s!==null){r=s.next,i=i.baseState;var a=o=null,l=null,c=r;do{var u=c.lane;if(($i&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:e(i,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=i):l=l.next=d,Ce.lanes|=u,Ki|=u}c=c.next}while(c!==null&&c!==r);l===null?o=i:l.next=a,Yt(i,t.memoizedState)||(ct=!0),t.memoizedState=i,t.baseState=o,t.baseQueue=l,n.lastRenderedState=i}if(e=n.interleaved,e!==null){s=e;do r=s.lane,Ce.lanes|=r,Ki|=r,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Hc(e){var t=Ut(),n=t.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=e;var i=n.dispatch,s=n.pending,r=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do r=e(r,o.action),o=o.next;while(o!==s);Yt(r,t.memoizedState)||(ct=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),n.lastRenderedState=r}return[r,i]}function $x(){}function Kx(e,t){var n=Ce,i=Ut(),s=t(),r=!Yt(i.memoizedState,s);if(r&&(i.memoizedState=s,ct=!0),i=i.queue,zh(qx.bind(null,n,i,e),[e]),i.getSnapshot!==t||r||Oe!==null&&Oe.memoizedState.tag&1){if(n.flags|=2048,ro(9,Yx.bind(null,n,i,s,t),void 0,null),Be===null)throw Error(O(349));$i&30||Gx(n,t,s)}return s}function Gx(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Yx(e,t,n,i){t.value=n,t.getSnapshot=i,Xx(t)&&Jx(e)}function qx(e,t,n){return n(function(){Xx(t)&&Jx(e)})}function Xx(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Yt(e,n)}catch{return!0}}function Jx(e){var t=Nn(e,1);t!==null&&Kt(t,e,1,-1)}function rm(e){var t=Zt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:so,lastRenderedState:e},t.queue=e,e=e.dispatch=H_.bind(null,Ce,e),[t.memoizedState,e]}function ro(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function Qx(){return Ut().memoizedState}function Ma(e,t,n,i){var s=Zt();Ce.flags|=e,s.memoizedState=ro(1|t,n,void 0,i===void 0?null:i)}function Wl(e,t,n,i){var s=Ut();i=i===void 0?null:i;var r=void 0;if(Re!==null){var o=Re.memoizedState;if(r=o.destroy,i!==null&&Uh(i,o.deps)){s.memoizedState=ro(t,n,r,i);return}}Ce.flags|=e,s.memoizedState=ro(1|t,n,r,i)}function om(e,t){return Ma(8390656,8,e,t)}function zh(e,t){return Wl(2048,8,e,t)}function Zx(e,t){return Wl(4,2,e,t)}function ev(e,t){return Wl(4,4,e,t)}function tv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function nv(e,t,n){return n=n!=null?n.concat([e]):null,Wl(4,4,tv.bind(null,t,e),n)}function Hh(){}function iv(e,t){var n=Ut();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&Uh(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function sv(e,t){var n=Ut();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&Uh(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function rv(e,t,n){return $i&21?(Yt(n,t)||(n=ux(),Ce.lanes|=n,Ki|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ct=!0),e.memoizedState=n)}function V_(e,t){var n=ue;ue=n!==0&&4>n?n:4,e(!0);var i=Vc.transition;Vc.transition={};try{e(!1),t()}finally{ue=n,Vc.transition=i}}function ov(){return Ut().memoizedState}function z_(e,t,n){var i=ti(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},av(e))lv(t,n);else if(n=zx(e,t,n,i),n!==null){var s=nt();Kt(n,e,i,s),cv(n,t,i)}}function H_(e,t,n){var i=ti(e),s={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(av(e))lv(t,s);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var o=t.lastRenderedState,a=r(o,n);if(s.hasEagerState=!0,s.eagerState=a,Yt(a,o)){var l=t.interleaved;l===null?(s.next=s,Rh(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=zx(e,t,s,i),n!==null&&(s=nt(),Kt(n,e,i,s),cv(n,t,i))}}function av(e){var t=e.alternate;return e===Ce||t!==null&&t===Ce}function lv(e,t){Mr=fl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function cv(e,t,n){if(n&4194240){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,wh(e,n)}}var pl={readContext:Ot,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useInsertionEffect:Ge,useLayoutEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useMutableSource:Ge,useSyncExternalStore:Ge,useId:Ge,unstable_isNewReconciler:!1},W_={readContext:Ot,useCallback:function(e,t){return Zt().memoizedState=[e,t===void 0?null:t],e},useContext:Ot,useEffect:om,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ma(4194308,4,tv.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ma(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ma(4,2,e,t)},useMemo:function(e,t){var n=Zt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Zt();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=z_.bind(null,Ce,e),[i.memoizedState,e]},useRef:function(e){var t=Zt();return e={current:e},t.memoizedState=e},useState:rm,useDebugValue:Hh,useDeferredValue:function(e){return Zt().memoizedState=e},useTransition:function(){var e=rm(!1),t=e[0];return e=V_.bind(null,e[1]),Zt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=Ce,s=Zt();if(ve){if(n===void 0)throw Error(O(407));n=n()}else{if(n=t(),Be===null)throw Error(O(349));$i&30||Gx(i,t,n)}s.memoizedState=n;var r={value:n,getSnapshot:t};return s.queue=r,om(qx.bind(null,i,r,e),[e]),i.flags|=2048,ro(9,Yx.bind(null,i,r,n,t),void 0,null),n},useId:function(){var e=Zt(),t=Be.identifierPrefix;if(ve){var n=wn,i=vn;n=(i&~(1<<32-$t(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=io++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=B_++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$_={readContext:Ot,useCallback:iv,useContext:Ot,useEffect:zh,useImperativeHandle:nv,useInsertionEffect:Zx,useLayoutEffect:ev,useMemo:sv,useReducer:zc,useRef:Qx,useState:function(){return zc(so)},useDebugValue:Hh,useDeferredValue:function(e){var t=Ut();return rv(t,Re.memoizedState,e)},useTransition:function(){var e=zc(so)[0],t=Ut().memoizedState;return[e,t]},useMutableSource:$x,useSyncExternalStore:Kx,useId:ov,unstable_isNewReconciler:!1},K_={readContext:Ot,useCallback:iv,useContext:Ot,useEffect:zh,useImperativeHandle:nv,useInsertionEffect:Zx,useLayoutEffect:ev,useMemo:sv,useReducer:Hc,useRef:Qx,useState:function(){return Hc(so)},useDebugValue:Hh,useDeferredValue:function(e){var t=Ut();return Re===null?t.memoizedState=e:rv(t,Re.memoizedState,e)},useTransition:function(){var e=Hc(so)[0],t=Ut().memoizedState;return[e,t]},useMutableSource:$x,useSyncExternalStore:Kx,useId:ov,unstable_isNewReconciler:!1};function Vt(e,t){if(e&&e.defaultProps){t=Ee({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function nd(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Ee({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var $l={isMounted:function(e){return(e=e._reactInternals)?Ji(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=nt(),s=ti(e),r=_n(i,s);r.payload=t,n!=null&&(r.callback=n),t=Zn(e,r,s),t!==null&&(Kt(t,e,s,i),ja(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=nt(),s=ti(e),r=_n(i,s);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=Zn(e,r,s),t!==null&&(Kt(t,e,s,i),ja(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=nt(),i=ti(e),s=_n(n,i);s.tag=2,t!=null&&(s.callback=t),t=Zn(e,s,i),t!==null&&(Kt(t,e,i,n),ja(t,e,i))}};function am(e,t,n,i,s,r,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,r,o):t.prototype&&t.prototype.isPureReactComponent?!Jr(n,i)||!Jr(s,r):!0}function uv(e,t,n){var i=!1,s=oi,r=t.contextType;return typeof r=="object"&&r!==null?r=Ot(r):(s=dt(t)?Hi:Ze.current,i=t.contextTypes,r=(i=i!=null)?Ms(e,s):oi),t=new t(n,r),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=$l,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=r),t}function lm(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&$l.enqueueReplaceState(t,t.state,null)}function id(e,t,n,i){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Ih(e);var r=t.contextType;typeof r=="object"&&r!==null?s.context=Ot(r):(r=dt(t)?Hi:Ze.current,s.context=Ms(e,r)),s.state=e.memoizedState,r=t.getDerivedStateFromProps,typeof r=="function"&&(nd(e,t,r,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&$l.enqueueReplaceState(s,s.state,null),dl(e,n,s,i),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Fs(e,t){try{var n="",i=t;do n+=wS(i),i=i.return;while(i);var s=n}catch(r){s=`
Error generating stack: `+r.message+`
`+r.stack}return{value:e,source:t,stack:s,digest:null}}function Wc(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function sd(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var G_=typeof WeakMap=="function"?WeakMap:Map;function dv(e,t,n){n=_n(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){gl||(gl=!0,pd=i),sd(e,t)},n}function hv(e,t,n){n=_n(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var s=t.value;n.payload=function(){return i(s)},n.callback=function(){sd(e,t)}}var r=e.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(n.callback=function(){sd(e,t),typeof i!="function"&&(ei===null?ei=new Set([this]):ei.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function cm(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new G_;var s=new Set;i.set(t,s)}else s=i.get(t),s===void 0&&(s=new Set,i.set(t,s));s.has(n)||(s.add(n),e=aC.bind(null,e,t,n),t.then(e,e))}function um(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function dm(e,t,n,i,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=_n(-1,1),t.tag=2,Zn(n,t,1))),n.lanes|=1),e)}var Y_=Mn.ReactCurrentOwner,ct=!1;function tt(e,t,n,i){t.child=e===null?Vx(t,null,n,i):Is(t,e.child,n,i)}function hm(e,t,n,i,s){n=n.render;var r=t.ref;return ks(t,s),i=Bh(e,t,n,i,r,s),n=Vh(),e!==null&&!ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,jn(e,t,s)):(ve&&n&&Ph(t),t.flags|=1,tt(e,t,i,s),t.child)}function fm(e,t,n,i,s){if(e===null){var r=n.type;return typeof r=="function"&&!Jh(r)&&r.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=r,fv(e,t,r,i,s)):(e=Fa(n.type,null,i,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!(e.lanes&s)){var o=r.memoizedProps;if(n=n.compare,n=n!==null?n:Jr,n(o,i)&&e.ref===t.ref)return jn(e,t,s)}return t.flags|=1,e=ni(r,i),e.ref=t.ref,e.return=t,t.child=e}function fv(e,t,n,i,s){if(e!==null){var r=e.memoizedProps;if(Jr(r,i)&&e.ref===t.ref)if(ct=!1,t.pendingProps=i=r,(e.lanes&s)!==0)e.flags&131072&&(ct=!0);else return t.lanes=e.lanes,jn(e,t,s)}return rd(e,t,n,i,s)}function pv(e,t,n){var i=t.pendingProps,s=i.children,r=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},me(ys,pt),pt|=n;else{if(!(n&1073741824))return e=r!==null?r.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,me(ys,pt),pt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=r!==null?r.baseLanes:n,me(ys,pt),pt|=i}else r!==null?(i=r.baseLanes|n,t.memoizedState=null):i=n,me(ys,pt),pt|=i;return tt(e,t,s,n),t.child}function mv(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function rd(e,t,n,i,s){var r=dt(n)?Hi:Ze.current;return r=Ms(t,r),ks(t,s),n=Bh(e,t,n,i,r,s),i=Vh(),e!==null&&!ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,jn(e,t,s)):(ve&&i&&Ph(t),t.flags|=1,tt(e,t,n,s),t.child)}function pm(e,t,n,i,s){if(dt(n)){var r=!0;ol(t)}else r=!1;if(ks(t,s),t.stateNode===null)Ra(e,t),uv(t,n,i),id(t,n,i,s),i=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ot(c):(c=dt(n)?Hi:Ze.current,c=Ms(t,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&lm(t,o,i,c),Un=!1;var f=t.memoizedState;o.state=f,dl(t,i,o,s),l=t.memoizedState,a!==i||f!==l||ut.current||Un?(typeof u=="function"&&(nd(t,n,u,i),l=t.memoizedState),(a=Un||am(t,n,a,i,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,Hx(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Vt(t.type,a),o.props=c,d=t.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ot(l):(l=dt(n)?Hi:Ze.current,l=Ms(t,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&lm(t,o,i,l),Un=!1,f=t.memoizedState,o.state=f,dl(t,i,o,s);var m=t.memoizedState;a!==d||f!==m||ut.current||Un?(typeof p=="function"&&(nd(t,n,p,i),m=t.memoizedState),(c=Un||am(t,n,c,i,f,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,m,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=m),o.props=i,o.state=m,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),i=!1)}return od(e,t,n,i,r,s)}function od(e,t,n,i,s,r){mv(e,t);var o=(t.flags&128)!==0;if(!i&&!o)return s&&Zp(t,n,!1),jn(e,t,r);i=t.stateNode,Y_.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&o?(t.child=Is(t,e.child,null,r),t.child=Is(t,null,a,r)):tt(e,t,a,r),t.memoizedState=i.state,s&&Zp(t,n,!0),t.child}function gv(e){var t=e.stateNode;t.pendingContext?Qp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Qp(e,t.context,!1),Lh(e,t.containerInfo)}function mm(e,t,n,i,s){return Rs(),Nh(s),t.flags|=256,tt(e,t,n,i),t.child}var ad={dehydrated:null,treeContext:null,retryLane:0};function ld(e){return{baseLanes:e,cachePool:null,transitions:null}}function yv(e,t,n){var i=t.pendingProps,s=Se.current,r=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(r=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),me(Se,s&1),e===null)return ed(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=i.children,e=i.fallback,r?(i=t.mode,r=t.child,o={mode:"hidden",children:o},!(i&1)&&r!==null?(r.childLanes=0,r.pendingProps=o):r=Yl(o,i,0,null),e=Oi(e,i,n,null),r.return=t,e.return=t,r.sibling=e,t.child=r,t.child.memoizedState=ld(n),t.memoizedState=ad,e):Wh(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return q_(e,t,o,i,a,s,n);if(r){r=i.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&t.child!==s?(i=t.child,i.childLanes=0,i.pendingProps=l,t.deletions=null):(i=ni(s,l),i.subtreeFlags=s.subtreeFlags&14680064),a!==null?r=ni(a,r):(r=Oi(r,o,n,null),r.flags|=2),r.return=t,i.return=t,i.sibling=r,t.child=i,i=r,r=t.child,o=e.child.memoizedState,o=o===null?ld(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},r.memoizedState=o,r.childLanes=e.childLanes&~n,t.memoizedState=ad,i}return r=e.child,e=r.sibling,i=ni(r,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Wh(e,t){return t=Yl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ea(e,t,n,i){return i!==null&&Nh(i),Is(t,e.child,null,n),e=Wh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function q_(e,t,n,i,s,r,o){if(n)return t.flags&256?(t.flags&=-257,i=Wc(Error(O(422))),ea(e,t,o,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(r=i.fallback,s=t.mode,i=Yl({mode:"visible",children:i.children},s,0,null),r=Oi(r,s,o,null),r.flags|=2,i.return=t,r.return=t,i.sibling=r,t.child=i,t.mode&1&&Is(t,e.child,null,o),t.child.memoizedState=ld(o),t.memoizedState=ad,r);if(!(t.mode&1))return ea(e,t,o,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var a=i.dgst;return i=a,r=Error(O(419)),i=Wc(r,i,void 0),ea(e,t,o,i)}if(a=(o&e.childLanes)!==0,ct||a){if(i=Be,i!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|o)?0:s,s!==0&&s!==r.retryLane&&(r.retryLane=s,Nn(e,s),Kt(i,e,s,-1))}return Xh(),i=Wc(Error(O(421))),ea(e,t,o,i)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=lC.bind(null,e),s._reactRetry=t,null):(e=r.treeContext,gt=Qn(s.nextSibling),vt=t,ve=!0,Wt=null,e!==null&&(Nt[jt++]=vn,Nt[jt++]=wn,Nt[jt++]=Wi,vn=e.id,wn=e.overflow,Wi=t),t=Wh(t,i.children),t.flags|=4096,t)}function gm(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),td(e.return,t,n)}function $c(e,t,n,i,s){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=s)}function xv(e,t,n){var i=t.pendingProps,s=i.revealOrder,r=i.tail;if(tt(e,t,i.children,n),i=Se.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gm(e,n,t);else if(e.tag===19)gm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(me(Se,i),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&hl(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),$c(t,!1,s,n,r);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&hl(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}$c(t,!0,n,null,r);break;case"together":$c(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ra(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function jn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ki|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(O(153));if(t.child!==null){for(e=t.child,n=ni(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ni(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function X_(e,t,n){switch(t.tag){case 3:gv(t),Rs();break;case 5:Wx(t);break;case 1:dt(t.type)&&ol(t);break;case 4:Lh(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,s=t.memoizedProps.value;me(cl,i._currentValue),i._currentValue=s;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(me(Se,Se.current&1),t.flags|=128,null):n&t.child.childLanes?yv(e,t,n):(me(Se,Se.current&1),e=jn(e,t,n),e!==null?e.sibling:null);me(Se,Se.current&1);break;case 19:if(i=(n&t.childLanes)!==0,e.flags&128){if(i)return xv(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),me(Se,Se.current),i)break;return null;case 22:case 23:return t.lanes=0,pv(e,t,n)}return jn(e,t,n)}var vv,cd,wv,bv;vv=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};cd=function(){};wv=function(e,t,n,i){var s=e.memoizedProps;if(s!==i){e=t.stateNode,Mi(on.current);var r=null;switch(n){case"input":s=ju(e,s),i=ju(e,i),r=[];break;case"select":s=Ee({},s,{value:void 0}),i=Ee({},i,{value:void 0}),r=[];break;case"textarea":s=Ru(e,s),i=Ru(e,i),r=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=sl)}Lu(n,i);var o;n=null;for(c in s)if(!i.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Wr.hasOwnProperty(c)?r||(r=[]):(r=r||[]).push(c,null));for(c in i){var l=i[c];if(a=s!=null?s[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(r||(r=[]),r.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(r=r||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(r=r||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Wr.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ge("scroll",e),r||a===l||(r=[])):(r=r||[]).push(c,l))}n&&(r=r||[]).push("style",n);var c=r;(t.updateQueue=c)&&(t.flags|=4)}};bv=function(e,t,n,i){n!==i&&(t.flags|=4)};function lr(e,t){if(!ve)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function J_(e,t,n){var i=t.pendingProps;switch(Ah(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(t),null;case 1:return dt(t.type)&&rl(),Ye(t),null;case 3:return i=t.stateNode,Ls(),ye(ut),ye(Ze),Oh(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Qo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Wt!==null&&(yd(Wt),Wt=null))),cd(e,t),Ye(t),null;case 5:Fh(t);var s=Mi(no.current);if(n=t.type,e!==null&&t.stateNode!=null)wv(e,t,n,i,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(O(166));return Ye(t),null}if(e=Mi(on.current),Qo(t)){i=t.stateNode,n=t.type;var r=t.memoizedProps;switch(i[nn]=t,i[eo]=r,e=(t.mode&1)!==0,n){case"dialog":ge("cancel",i),ge("close",i);break;case"iframe":case"object":case"embed":ge("load",i);break;case"video":case"audio":for(s=0;s<wr.length;s++)ge(wr[s],i);break;case"source":ge("error",i);break;case"img":case"image":case"link":ge("error",i),ge("load",i);break;case"details":ge("toggle",i);break;case"input":Ep(i,r),ge("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!r.multiple},ge("invalid",i);break;case"textarea":kp(i,r),ge("invalid",i)}Lu(n,r),s=null;for(var o in r)if(r.hasOwnProperty(o)){var a=r[o];o==="children"?typeof a=="string"?i.textContent!==a&&(r.suppressHydrationWarning!==!0&&Jo(i.textContent,a,e),s=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(r.suppressHydrationWarning!==!0&&Jo(i.textContent,a,e),s=["children",""+a]):Wr.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ge("scroll",i)}switch(n){case"input":Ho(i),Tp(i,r,!0);break;case"textarea":Ho(i),Pp(i);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(i.onclick=sl)}i=s,t.updateQueue=i,i!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=qy(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=o.createElement(n,{is:i.is}):(e=o.createElement(n),n==="select"&&(o=e,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):e=o.createElementNS(e,n),e[nn]=t,e[eo]=i,vv(e,t,!1,!1),t.stateNode=e;e:{switch(o=Fu(n,i),n){case"dialog":ge("cancel",e),ge("close",e),s=i;break;case"iframe":case"object":case"embed":ge("load",e),s=i;break;case"video":case"audio":for(s=0;s<wr.length;s++)ge(wr[s],e);s=i;break;case"source":ge("error",e),s=i;break;case"img":case"image":case"link":ge("error",e),ge("load",e),s=i;break;case"details":ge("toggle",e),s=i;break;case"input":Ep(e,i),s=ju(e,i),ge("invalid",e);break;case"option":s=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},s=Ee({},i,{value:void 0}),ge("invalid",e);break;case"textarea":kp(e,i),s=Ru(e,i),ge("invalid",e);break;default:s=i}Lu(n,s),a=s;for(r in a)if(a.hasOwnProperty(r)){var l=a[r];r==="style"?Qy(e,l):r==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Xy(e,l)):r==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&$r(e,l):typeof l=="number"&&$r(e,""+l):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(Wr.hasOwnProperty(r)?l!=null&&r==="onScroll"&&ge("scroll",e):l!=null&&ph(e,r,l,o))}switch(n){case"input":Ho(e),Tp(e,i,!1);break;case"textarea":Ho(e),Pp(e);break;case"option":i.value!=null&&e.setAttribute("value",""+ri(i.value));break;case"select":e.multiple=!!i.multiple,r=i.value,r!=null?_s(e,!!i.multiple,r,!1):i.defaultValue!=null&&_s(e,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=sl)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ye(t),null;case 6:if(e&&t.stateNode!=null)bv(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(O(166));if(n=Mi(no.current),Mi(on.current),Qo(t)){if(i=t.stateNode,n=t.memoizedProps,i[nn]=t,(r=i.nodeValue!==n)&&(e=vt,e!==null))switch(e.tag){case 3:Jo(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Jo(i.nodeValue,n,(e.mode&1)!==0)}r&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[nn]=t,t.stateNode=i}return Ye(t),null;case 13:if(ye(Se),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ve&&gt!==null&&t.mode&1&&!(t.flags&128))Ux(),Rs(),t.flags|=98560,r=!1;else if(r=Qo(t),i!==null&&i.dehydrated!==null){if(e===null){if(!r)throw Error(O(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(O(317));r[nn]=t}else Rs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ye(t),r=!1}else Wt!==null&&(yd(Wt),Wt=null),r=!0;if(!r)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||Se.current&1?Ie===0&&(Ie=3):Xh())),t.updateQueue!==null&&(t.flags|=4),Ye(t),null);case 4:return Ls(),cd(e,t),e===null&&Qr(t.stateNode.containerInfo),Ye(t),null;case 10:return Mh(t.type._context),Ye(t),null;case 17:return dt(t.type)&&rl(),Ye(t),null;case 19:if(ye(Se),r=t.memoizedState,r===null)return Ye(t),null;if(i=(t.flags&128)!==0,o=r.rendering,o===null)if(i)lr(r,!1);else{if(Ie!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=hl(e),o!==null){for(t.flags|=128,lr(r,!1),i=o.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)r=n,e=i,r.flags&=14680066,o=r.alternate,o===null?(r.childLanes=0,r.lanes=e,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,e=o.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return me(Se,Se.current&1|2),t.child}e=e.sibling}r.tail!==null&&je()>Os&&(t.flags|=128,i=!0,lr(r,!1),t.lanes=4194304)}else{if(!i)if(e=hl(o),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),lr(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!ve)return Ye(t),null}else 2*je()-r.renderingStartTime>Os&&n!==1073741824&&(t.flags|=128,i=!0,lr(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(n=r.last,n!==null?n.sibling=o:t.child=o,r.last=o)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=je(),t.sibling=null,n=Se.current,me(Se,i?n&1|2:n&1),t):(Ye(t),null);case 22:case 23:return qh(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?pt&1073741824&&(Ye(t),t.subtreeFlags&6&&(t.flags|=8192)):Ye(t),null;case 24:return null;case 25:return null}throw Error(O(156,t.tag))}function Q_(e,t){switch(Ah(t),t.tag){case 1:return dt(t.type)&&rl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ls(),ye(ut),ye(Ze),Oh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Fh(t),null;case 13:if(ye(Se),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(O(340));Rs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ye(Se),null;case 4:return Ls(),null;case 10:return Mh(t.type._context),null;case 22:case 23:return qh(),null;case 24:return null;default:return null}}var ta=!1,Je=!1,Z_=typeof WeakSet=="function"?WeakSet:Set,z=null;function gs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Pe(e,t,i)}else n.current=null}function ud(e,t,n){try{n()}catch(i){Pe(e,t,i)}}var ym=!1;function eC(e,t){if(Gu=tl,e=Tx(),kh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=e,f=null;t:for(;;){for(var p;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==r||i!==0&&d.nodeType!==3||(l=o+i),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++c===s&&(a=o),f===r&&++u===i&&(l=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yu={focusedElem:e,selectionRange:n},tl=!1,z=t;z!==null;)if(t=z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,z=e;else for(;z!==null;){t=z;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,b=m.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:Vt(t.type,g),b);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(E){Pe(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,z=e;break}z=t.return}return m=ym,ym=!1,m}function Rr(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&e)===e){var r=s.destroy;s.destroy=void 0,r!==void 0&&ud(t,n,r)}s=s.next}while(s!==i)}}function Kl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function dd(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Sv(e){var t=e.alternate;t!==null&&(e.alternate=null,Sv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[nn],delete t[eo],delete t[Ju],delete t[L_],delete t[F_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function _v(e){return e.tag===5||e.tag===3||e.tag===4}function xm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_v(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hd(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=sl));else if(i!==4&&(e=e.child,e!==null))for(hd(e,t,n),e=e.sibling;e!==null;)hd(e,t,n),e=e.sibling}function fd(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(fd(e,t,n),e=e.sibling;e!==null;)fd(e,t,n),e=e.sibling}var Ve=null,zt=!1;function Rn(e,t,n){for(n=n.child;n!==null;)Cv(e,t,n),n=n.sibling}function Cv(e,t,n){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(Ol,n)}catch{}switch(n.tag){case 5:Je||gs(n,t);case 6:var i=Ve,s=zt;Ve=null,Rn(e,t,n),Ve=i,zt=s,Ve!==null&&(zt?(e=Ve,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ve.removeChild(n.stateNode));break;case 18:Ve!==null&&(zt?(e=Ve,n=n.stateNode,e.nodeType===8?Oc(e.parentNode,n):e.nodeType===1&&Oc(e,n),qr(e)):Oc(Ve,n.stateNode));break;case 4:i=Ve,s=zt,Ve=n.stateNode.containerInfo,zt=!0,Rn(e,t,n),Ve=i,zt=s;break;case 0:case 11:case 14:case 15:if(!Je&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var r=s,o=r.destroy;r=r.tag,o!==void 0&&(r&2||r&4)&&ud(n,t,o),s=s.next}while(s!==i)}Rn(e,t,n);break;case 1:if(!Je&&(gs(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Pe(n,t,a)}Rn(e,t,n);break;case 21:Rn(e,t,n);break;case 22:n.mode&1?(Je=(i=Je)||n.memoizedState!==null,Rn(e,t,n),Je=i):Rn(e,t,n);break;default:Rn(e,t,n)}}function vm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Z_),t.forEach(function(i){var s=cC.bind(null,e,i);n.has(i)||(n.add(i),i.then(s,s))})}}function Bt(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];try{var r=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ve=a.stateNode,zt=!1;break e;case 3:Ve=a.stateNode.containerInfo,zt=!0;break e;case 4:Ve=a.stateNode.containerInfo,zt=!0;break e}a=a.return}if(Ve===null)throw Error(O(160));Cv(r,o,s),Ve=null,zt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Pe(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ev(t,e),t=t.sibling}function Ev(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Bt(t,e),Jt(e),i&4){try{Rr(3,e,e.return),Kl(3,e)}catch(g){Pe(e,e.return,g)}try{Rr(5,e,e.return)}catch(g){Pe(e,e.return,g)}}break;case 1:Bt(t,e),Jt(e),i&512&&n!==null&&gs(n,n.return);break;case 5:if(Bt(t,e),Jt(e),i&512&&n!==null&&gs(n,n.return),e.flags&32){var s=e.stateNode;try{$r(s,"")}catch(g){Pe(e,e.return,g)}}if(i&4&&(s=e.stateNode,s!=null)){var r=e.memoizedProps,o=n!==null?n.memoizedProps:r,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&r.type==="radio"&&r.name!=null&&Gy(s,r),Fu(a,o);var c=Fu(a,r);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?Qy(s,d):u==="dangerouslySetInnerHTML"?Xy(s,d):u==="children"?$r(s,d):ph(s,u,d,c)}switch(a){case"input":Du(s,r);break;case"textarea":Yy(s,r);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!r.multiple;var p=r.value;p!=null?_s(s,!!r.multiple,p,!1):f!==!!r.multiple&&(r.defaultValue!=null?_s(s,!!r.multiple,r.defaultValue,!0):_s(s,!!r.multiple,r.multiple?[]:"",!1))}s[eo]=r}catch(g){Pe(e,e.return,g)}}break;case 6:if(Bt(t,e),Jt(e),i&4){if(e.stateNode===null)throw Error(O(162));s=e.stateNode,r=e.memoizedProps;try{s.nodeValue=r}catch(g){Pe(e,e.return,g)}}break;case 3:if(Bt(t,e),Jt(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{qr(t.containerInfo)}catch(g){Pe(e,e.return,g)}break;case 4:Bt(t,e),Jt(e);break;case 13:Bt(t,e),Jt(e),s=e.child,s.flags&8192&&(r=s.memoizedState!==null,s.stateNode.isHidden=r,!r||s.alternate!==null&&s.alternate.memoizedState!==null||(Gh=je())),i&4&&vm(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Je=(c=Je)||u,Bt(t,e),Je=c):Bt(t,e),Jt(e),i&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(z=e,u=e.child;u!==null;){for(d=z=u;z!==null;){switch(f=z,p=f.child,f.tag){case 0:case 11:case 14:case 15:Rr(4,f,f.return);break;case 1:gs(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){i=f,n=f.return;try{t=i,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Pe(i,n,g)}}break;case 5:gs(f,f.return);break;case 22:if(f.memoizedState!==null){bm(d);continue}}p!==null?(p.return=f,z=p):bm(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,c?(r=s.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Jy("display",o))}catch(g){Pe(e,e.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){Pe(e,e.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Bt(t,e),Jt(e),i&4&&vm(e);break;case 21:break;default:Bt(t,e),Jt(e)}}function Jt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(_v(n)){var i=n;break e}n=n.return}throw Error(O(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&($r(s,""),i.flags&=-33);var r=xm(e);fd(e,r,s);break;case 3:case 4:var o=i.stateNode.containerInfo,a=xm(e);hd(e,a,o);break;default:throw Error(O(161))}}catch(l){Pe(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function tC(e,t,n){z=e,Tv(e)}function Tv(e,t,n){for(var i=(e.mode&1)!==0;z!==null;){var s=z,r=s.child;if(s.tag===22&&i){var o=s.memoizedState!==null||ta;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Je;a=ta;var c=Je;if(ta=o,(Je=l)&&!c)for(z=s;z!==null;)o=z,l=o.child,o.tag===22&&o.memoizedState!==null?Sm(s):l!==null?(l.return=o,z=l):Sm(s);for(;r!==null;)z=r,Tv(r),r=r.sibling;z=s,ta=a,Je=c}wm(e)}else s.subtreeFlags&8772&&r!==null?(r.return=s,z=r):wm(e)}}function wm(e){for(;z!==null;){var t=z;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Je||Kl(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!Je)if(n===null)i.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Vt(t.type,n.memoizedProps);i.componentDidUpdate(s,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var r=t.updateQueue;r!==null&&sm(t,r,i);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}sm(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&qr(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}Je||t.flags&512&&dd(t)}catch(f){Pe(t,t.return,f)}}if(t===e){z=null;break}if(n=t.sibling,n!==null){n.return=t.return,z=n;break}z=t.return}}function bm(e){for(;z!==null;){var t=z;if(t===e){z=null;break}var n=t.sibling;if(n!==null){n.return=t.return,z=n;break}z=t.return}}function Sm(e){for(;z!==null;){var t=z;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Kl(4,t)}catch(l){Pe(t,n,l)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var s=t.return;try{i.componentDidMount()}catch(l){Pe(t,s,l)}}var r=t.return;try{dd(t)}catch(l){Pe(t,r,l)}break;case 5:var o=t.return;try{dd(t)}catch(l){Pe(t,o,l)}}}catch(l){Pe(t,t.return,l)}if(t===e){z=null;break}var a=t.sibling;if(a!==null){a.return=t.return,z=a;break}z=t.return}}var nC=Math.ceil,ml=Mn.ReactCurrentDispatcher,$h=Mn.ReactCurrentOwner,Lt=Mn.ReactCurrentBatchConfig,re=0,Be=null,De=null,He=0,pt=0,ys=hi(0),Ie=0,oo=null,Ki=0,Gl=0,Kh=0,Ir=null,at=null,Gh=0,Os=1/0,gn=null,gl=!1,pd=null,ei=null,na=!1,Hn=null,yl=0,Lr=0,md=null,Ia=-1,La=0;function nt(){return re&6?je():Ia!==-1?Ia:Ia=je()}function ti(e){return e.mode&1?re&2&&He!==0?He&-He:U_.transition!==null?(La===0&&(La=ux()),La):(e=ue,e!==0||(e=window.event,e=e===void 0?16:yx(e.type)),e):1}function Kt(e,t,n,i){if(50<Lr)throw Lr=0,md=null,Error(O(185));To(e,n,i),(!(re&2)||e!==Be)&&(e===Be&&(!(re&2)&&(Gl|=n),Ie===4&&Vn(e,He)),ht(e,i),n===1&&re===0&&!(t.mode&1)&&(Os=je()+500,Hl&&fi()))}function ht(e,t){var n=e.callbackNode;US(e,t);var i=el(e,e===Be?He:0);if(i===0)n!==null&&jp(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&jp(n),t===1)e.tag===0?O_(_m.bind(null,e)):Lx(_m.bind(null,e)),R_(function(){!(re&6)&&fi()}),n=null;else{switch(dx(i)){case 1:n=vh;break;case 4:n=lx;break;case 16:n=Za;break;case 536870912:n=cx;break;default:n=Za}n=Rv(n,kv.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function kv(e,t){if(Ia=-1,La=0,re&6)throw Error(O(327));var n=e.callbackNode;if(Ps()&&e.callbackNode!==n)return null;var i=el(e,e===Be?He:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=xl(e,i);else{t=i;var s=re;re|=2;var r=Av();(Be!==e||He!==t)&&(gn=null,Os=je()+500,Fi(e,t));do try{rC();break}catch(a){Pv(e,a)}while(1);Dh(),ml.current=r,re=s,De!==null?t=0:(Be=null,He=0,t=Ie)}if(t!==0){if(t===2&&(s=zu(e),s!==0&&(i=s,t=gd(e,s))),t===1)throw n=oo,Fi(e,0),Vn(e,i),ht(e,je()),n;if(t===6)Vn(e,i);else{if(s=e.current.alternate,!(i&30)&&!iC(s)&&(t=xl(e,i),t===2&&(r=zu(e),r!==0&&(i=r,t=gd(e,r))),t===1))throw n=oo,Fi(e,0),Vn(e,i),ht(e,je()),n;switch(e.finishedWork=s,e.finishedLanes=i,t){case 0:case 1:throw Error(O(345));case 2:Ti(e,at,gn);break;case 3:if(Vn(e,i),(i&130023424)===i&&(t=Gh+500-je(),10<t)){if(el(e,0)!==0)break;if(s=e.suspendedLanes,(s&i)!==i){nt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Xu(Ti.bind(null,e,at,gn),t);break}Ti(e,at,gn);break;case 4:if(Vn(e,i),(i&4194240)===i)break;for(t=e.eventTimes,s=-1;0<i;){var o=31-$t(i);r=1<<o,o=t[o],o>s&&(s=o),i&=~r}if(i=s,i=je()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*nC(i/1960))-i,10<i){e.timeoutHandle=Xu(Ti.bind(null,e,at,gn),i);break}Ti(e,at,gn);break;case 5:Ti(e,at,gn);break;default:throw Error(O(329))}}}return ht(e,je()),e.callbackNode===n?kv.bind(null,e):null}function gd(e,t){var n=Ir;return e.current.memoizedState.isDehydrated&&(Fi(e,t).flags|=256),e=xl(e,t),e!==2&&(t=at,at=n,t!==null&&yd(t)),e}function yd(e){at===null?at=e:at.push.apply(at,e)}function iC(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var s=n[i],r=s.getSnapshot;s=s.value;try{if(!Yt(r(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vn(e,t){for(t&=~Kh,t&=~Gl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-$t(t),i=1<<n;e[n]=-1,t&=~i}}function _m(e){if(re&6)throw Error(O(327));Ps();var t=el(e,0);if(!(t&1))return ht(e,je()),null;var n=xl(e,t);if(e.tag!==0&&n===2){var i=zu(e);i!==0&&(t=i,n=gd(e,i))}if(n===1)throw n=oo,Fi(e,0),Vn(e,t),ht(e,je()),n;if(n===6)throw Error(O(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ti(e,at,gn),ht(e,je()),null}function Yh(e,t){var n=re;re|=1;try{return e(t)}finally{re=n,re===0&&(Os=je()+500,Hl&&fi())}}function Gi(e){Hn!==null&&Hn.tag===0&&!(re&6)&&Ps();var t=re;re|=1;var n=Lt.transition,i=ue;try{if(Lt.transition=null,ue=1,e)return e()}finally{ue=i,Lt.transition=n,re=t,!(re&6)&&fi()}}function qh(){pt=ys.current,ye(ys)}function Fi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,M_(n)),De!==null)for(n=De.return;n!==null;){var i=n;switch(Ah(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&rl();break;case 3:Ls(),ye(ut),ye(Ze),Oh();break;case 5:Fh(i);break;case 4:Ls();break;case 13:ye(Se);break;case 19:ye(Se);break;case 10:Mh(i.type._context);break;case 22:case 23:qh()}n=n.return}if(Be=e,De=e=ni(e.current,null),He=pt=t,Ie=0,oo=null,Kh=Gl=Ki=0,at=Ir=null,Di!==null){for(t=0;t<Di.length;t++)if(n=Di[t],i=n.interleaved,i!==null){n.interleaved=null;var s=i.next,r=n.pending;if(r!==null){var o=r.next;r.next=s,i.next=o}n.pending=i}Di=null}return e}function Pv(e,t){do{var n=De;try{if(Dh(),Da.current=pl,fl){for(var i=Ce.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}fl=!1}if($i=0,Oe=Re=Ce=null,Mr=!1,io=0,$h.current=null,n===null||n.return===null){Ie=1,oo=t,De=null;break}e:{var r=e,o=n.return,a=n,l=t;if(t=He,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=um(o);if(p!==null){p.flags&=-257,dm(p,o,a,r,t),p.mode&1&&cm(r,c,t),t=p,l=c;var m=t.updateQueue;if(m===null){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}else{if(!(t&1)){cm(r,c,t),Xh();break e}l=Error(O(426))}}else if(ve&&a.mode&1){var b=um(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),dm(b,o,a,r,t),Nh(Fs(l,a));break e}}r=l=Fs(l,a),Ie!==4&&(Ie=2),Ir===null?Ir=[r]:Ir.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,t&=-t,r.lanes|=t;var y=dv(r,l,t);im(r,y);break e;case 1:a=l;var w=r.type,S=r.stateNode;if(!(r.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(ei===null||!ei.has(S)))){r.flags|=65536,t&=-t,r.lanes|=t;var E=hv(r,a,t);im(r,E);break e}}r=r.return}while(r!==null)}jv(n)}catch(k){t=k,De===n&&n!==null&&(De=n=n.return);continue}break}while(1)}function Av(){var e=ml.current;return ml.current=pl,e===null?pl:e}function Xh(){(Ie===0||Ie===3||Ie===2)&&(Ie=4),Be===null||!(Ki&268435455)&&!(Gl&268435455)||Vn(Be,He)}function xl(e,t){var n=re;re|=2;var i=Av();(Be!==e||He!==t)&&(gn=null,Fi(e,t));do try{sC();break}catch(s){Pv(e,s)}while(1);if(Dh(),re=n,ml.current=i,De!==null)throw Error(O(261));return Be=null,He=0,Ie}function sC(){for(;De!==null;)Nv(De)}function rC(){for(;De!==null&&!NS();)Nv(De)}function Nv(e){var t=Mv(e.alternate,e,pt);e.memoizedProps=e.pendingProps,t===null?jv(e):De=t,$h.current=null}function jv(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Q_(n,t),n!==null){n.flags&=32767,De=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ie=6,De=null;return}}else if(n=J_(n,t,pt),n!==null){De=n;return}if(t=t.sibling,t!==null){De=t;return}De=t=e}while(t!==null);Ie===0&&(Ie=5)}function Ti(e,t,n){var i=ue,s=Lt.transition;try{Lt.transition=null,ue=1,oC(e,t,n,i)}finally{Lt.transition=s,ue=i}return null}function oC(e,t,n,i){do Ps();while(Hn!==null);if(re&6)throw Error(O(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(O(177));e.callbackNode=null,e.callbackPriority=0;var r=n.lanes|n.childLanes;if(BS(e,r),e===Be&&(De=Be=null,He=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||na||(na=!0,Rv(Za,function(){return Ps(),null})),r=(n.flags&15990)!==0,n.subtreeFlags&15990||r){r=Lt.transition,Lt.transition=null;var o=ue;ue=1;var a=re;re|=4,$h.current=null,eC(e,n),Ev(n,e),T_(Yu),tl=!!Gu,Yu=Gu=null,e.current=n,tC(n),jS(),re=a,ue=o,Lt.transition=r}else e.current=n;if(na&&(na=!1,Hn=e,yl=s),r=e.pendingLanes,r===0&&(ei=null),RS(n.stateNode),ht(e,je()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],i(s.value,{componentStack:s.stack,digest:s.digest});if(gl)throw gl=!1,e=pd,pd=null,e;return yl&1&&e.tag!==0&&Ps(),r=e.pendingLanes,r&1?e===md?Lr++:(Lr=0,md=e):Lr=0,fi(),null}function Ps(){if(Hn!==null){var e=dx(yl),t=Lt.transition,n=ue;try{if(Lt.transition=null,ue=16>e?16:e,Hn===null)var i=!1;else{if(e=Hn,Hn=null,yl=0,re&6)throw Error(O(331));var s=re;for(re|=4,z=e.current;z!==null;){var r=z,o=r.child;if(z.flags&16){var a=r.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(z=c;z!==null;){var u=z;switch(u.tag){case 0:case 11:case 15:Rr(8,u,r)}var d=u.child;if(d!==null)d.return=u,z=d;else for(;z!==null;){u=z;var f=u.sibling,p=u.return;if(Sv(u),u===c){z=null;break}if(f!==null){f.return=p,z=f;break}z=p}}}var m=r.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}z=r}}if(r.subtreeFlags&2064&&o!==null)o.return=r,z=o;else e:for(;z!==null;){if(r=z,r.flags&2048)switch(r.tag){case 0:case 11:case 15:Rr(9,r,r.return)}var y=r.sibling;if(y!==null){y.return=r.return,z=y;break e}z=r.return}}var w=e.current;for(z=w;z!==null;){o=z;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,z=S;else e:for(o=w;z!==null;){if(a=z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Kl(9,a)}}catch(k){Pe(a,a.return,k)}if(a===o){z=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,z=E;break e}z=a.return}}if(re=s,fi(),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(Ol,e)}catch{}i=!0}return i}finally{ue=n,Lt.transition=t}}return!1}function Cm(e,t,n){t=Fs(n,t),t=dv(e,t,1),e=Zn(e,t,1),t=nt(),e!==null&&(To(e,1,t),ht(e,t))}function Pe(e,t,n){if(e.tag===3)Cm(e,e,n);else for(;t!==null;){if(t.tag===3){Cm(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ei===null||!ei.has(i))){e=Fs(n,e),e=hv(t,e,1),t=Zn(t,e,1),e=nt(),t!==null&&(To(t,1,e),ht(t,e));break}}t=t.return}}function aC(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=nt(),e.pingedLanes|=e.suspendedLanes&n,Be===e&&(He&n)===n&&(Ie===4||Ie===3&&(He&130023424)===He&&500>je()-Gh?Fi(e,0):Kh|=n),ht(e,t)}function Dv(e,t){t===0&&(e.mode&1?(t=Ko,Ko<<=1,!(Ko&130023424)&&(Ko=4194304)):t=1);var n=nt();e=Nn(e,t),e!==null&&(To(e,t,n),ht(e,n))}function lC(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Dv(e,n)}function cC(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(O(314))}i!==null&&i.delete(t),Dv(e,n)}var Mv;Mv=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ut.current)ct=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ct=!1,X_(e,t,n);ct=!!(e.flags&131072)}else ct=!1,ve&&t.flags&1048576&&Fx(t,ll,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Ra(e,t),e=t.pendingProps;var s=Ms(t,Ze.current);ks(t,n),s=Bh(null,t,i,e,s,n);var r=Vh();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,dt(i)?(r=!0,ol(t)):r=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ih(t),s.updater=$l,t.stateNode=s,s._reactInternals=t,id(t,i,e,n),t=od(null,t,i,!0,r,n)):(t.tag=0,ve&&r&&Ph(t),tt(null,t,s,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Ra(e,t),e=t.pendingProps,s=i._init,i=s(i._payload),t.type=i,s=t.tag=dC(i),e=Vt(i,e),s){case 0:t=rd(null,t,i,e,n);break e;case 1:t=pm(null,t,i,e,n);break e;case 11:t=hm(null,t,i,e,n);break e;case 14:t=fm(null,t,i,Vt(i.type,e),n);break e}throw Error(O(306,i,""))}return t;case 0:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Vt(i,s),rd(e,t,i,s,n);case 1:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Vt(i,s),pm(e,t,i,s,n);case 3:e:{if(gv(t),e===null)throw Error(O(387));i=t.pendingProps,r=t.memoizedState,s=r.element,Hx(e,t),dl(t,i,null,n);var o=t.memoizedState;if(i=o.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){s=Fs(Error(O(423)),t),t=mm(e,t,i,n,s);break e}else if(i!==s){s=Fs(Error(O(424)),t),t=mm(e,t,i,n,s);break e}else for(gt=Qn(t.stateNode.containerInfo.firstChild),vt=t,ve=!0,Wt=null,n=Vx(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Rs(),i===s){t=jn(e,t,n);break e}tt(e,t,i,n)}t=t.child}return t;case 5:return Wx(t),e===null&&ed(t),i=t.type,s=t.pendingProps,r=e!==null?e.memoizedProps:null,o=s.children,qu(i,s)?o=null:r!==null&&qu(i,r)&&(t.flags|=32),mv(e,t),tt(e,t,o,n),t.child;case 6:return e===null&&ed(t),null;case 13:return yv(e,t,n);case 4:return Lh(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Is(t,null,i,n):tt(e,t,i,n),t.child;case 11:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Vt(i,s),hm(e,t,i,s,n);case 7:return tt(e,t,t.pendingProps,n),t.child;case 8:return tt(e,t,t.pendingProps.children,n),t.child;case 12:return tt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,s=t.pendingProps,r=t.memoizedProps,o=s.value,me(cl,i._currentValue),i._currentValue=o,r!==null)if(Yt(r.value,o)){if(r.children===s.children&&!ut.current){t=jn(e,t,n);break e}}else for(r=t.child,r!==null&&(r.return=t);r!==null;){var a=r.dependencies;if(a!==null){o=r.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(r.tag===1){l=_n(-1,n&-n),l.tag=2;var c=r.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}r.lanes|=n,l=r.alternate,l!==null&&(l.lanes|=n),td(r.return,n,t),a.lanes|=n;break}l=l.next}}else if(r.tag===10)o=r.type===t.type?null:r.child;else if(r.tag===18){if(o=r.return,o===null)throw Error(O(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),td(o,n,t),o=r.sibling}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===t){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}tt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,i=t.pendingProps.children,ks(t,n),s=Ot(s),i=i(s),t.flags|=1,tt(e,t,i,n),t.child;case 14:return i=t.type,s=Vt(i,t.pendingProps),s=Vt(i.type,s),fm(e,t,i,s,n);case 15:return fv(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Vt(i,s),Ra(e,t),t.tag=1,dt(i)?(e=!0,ol(t)):e=!1,ks(t,n),uv(t,i,s),id(t,i,s,n),od(null,t,i,!0,e,n);case 19:return xv(e,t,n);case 22:return pv(e,t,n)}throw Error(O(156,t.tag))};function Rv(e,t){return ax(e,t)}function uC(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(e,t,n,i){return new uC(e,t,n,i)}function Jh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function dC(e){if(typeof e=="function")return Jh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===gh)return 11;if(e===yh)return 14}return 2}function ni(e,t){var n=e.alternate;return n===null?(n=Mt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fa(e,t,n,i,s,r){var o=2;if(i=e,typeof e=="function")Jh(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case as:return Oi(n.children,s,r,t);case mh:o=8,s|=8;break;case ku:return e=Mt(12,n,t,s|2),e.elementType=ku,e.lanes=r,e;case Pu:return e=Mt(13,n,t,s),e.elementType=Pu,e.lanes=r,e;case Au:return e=Mt(19,n,t,s),e.elementType=Au,e.lanes=r,e;case Wy:return Yl(n,s,r,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case zy:o=10;break e;case Hy:o=9;break e;case gh:o=11;break e;case yh:o=14;break e;case On:o=16,i=null;break e}throw Error(O(130,e==null?e:typeof e,""))}return t=Mt(o,n,t,s),t.elementType=e,t.type=i,t.lanes=r,t}function Oi(e,t,n,i){return e=Mt(7,e,i,t),e.lanes=n,e}function Yl(e,t,n,i){return e=Mt(22,e,i,t),e.elementType=Wy,e.lanes=n,e.stateNode={isHidden:!1},e}function Kc(e,t,n){return e=Mt(6,e,null,t),e.lanes=n,e}function Gc(e,t,n){return t=Mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function hC(e,t,n,i,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kc(0),this.expirationTimes=kc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kc(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Qh(e,t,n,i,s,r,o,a,l){return e=new hC(e,t,n,a,l),t===1?(t=1,r===!0&&(t|=8)):t=0,r=Mt(3,null,null,t),e.current=r,r.stateNode=e,r.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ih(r),e}function fC(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:os,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function Iv(e){if(!e)return oi;e=e._reactInternals;e:{if(Ji(e)!==e||e.tag!==1)throw Error(O(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(dt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(O(171))}if(e.tag===1){var n=e.type;if(dt(n))return Ix(e,n,t)}return t}function Lv(e,t,n,i,s,r,o,a,l){return e=Qh(n,i,!0,e,s,r,o,a,l),e.context=Iv(null),n=e.current,i=nt(),s=ti(n),r=_n(i,s),r.callback=t??null,Zn(n,r,s),e.current.lanes=s,To(e,s,i),ht(e,i),e}function ql(e,t,n,i){var s=t.current,r=nt(),o=ti(s);return n=Iv(n),t.context===null?t.context=n:t.pendingContext=n,t=_n(r,o),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=Zn(s,t,o),e!==null&&(Kt(e,s,o,r),ja(e,s,o)),o}function vl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Em(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Zh(e,t){Em(e,t),(e=e.alternate)&&Em(e,t)}function pC(){return null}var Fv=typeof reportError=="function"?reportError:function(e){console.error(e)};function ef(e){this._internalRoot=e}Xl.prototype.render=ef.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(O(409));ql(e,t,null,null)};Xl.prototype.unmount=ef.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Gi(function(){ql(null,e,null,null)}),t[An]=null}};function Xl(e){this._internalRoot=e}Xl.prototype.unstable_scheduleHydration=function(e){if(e){var t=px();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Bn.length&&t!==0&&t<Bn[n].priority;n++);Bn.splice(n,0,e),n===0&&gx(e)}};function tf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Jl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Tm(){}function mC(e,t,n,i,s){if(s){if(typeof i=="function"){var r=i;i=function(){var c=vl(o);r.call(c)}}var o=Lv(t,i,e,0,null,!1,!1,"",Tm);return e._reactRootContainer=o,e[An]=o.current,Qr(e.nodeType===8?e.parentNode:e),Gi(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof i=="function"){var a=i;i=function(){var c=vl(l);a.call(c)}}var l=Qh(e,0,!1,null,null,!1,!1,"",Tm);return e._reactRootContainer=l,e[An]=l.current,Qr(e.nodeType===8?e.parentNode:e),Gi(function(){ql(t,l,n,i)}),l}function Ql(e,t,n,i,s){var r=n._reactRootContainer;if(r){var o=r;if(typeof s=="function"){var a=s;s=function(){var l=vl(o);a.call(l)}}ql(t,o,e,s)}else o=mC(n,t,e,s,i);return vl(o)}hx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=vr(t.pendingLanes);n!==0&&(wh(t,n|1),ht(t,je()),!(re&6)&&(Os=je()+500,fi()))}break;case 13:Gi(function(){var i=Nn(e,1);if(i!==null){var s=nt();Kt(i,e,1,s)}}),Zh(e,1)}};bh=function(e){if(e.tag===13){var t=Nn(e,134217728);if(t!==null){var n=nt();Kt(t,e,134217728,n)}Zh(e,134217728)}};fx=function(e){if(e.tag===13){var t=ti(e),n=Nn(e,t);if(n!==null){var i=nt();Kt(n,e,t,i)}Zh(e,t)}};px=function(){return ue};mx=function(e,t){var n=ue;try{return ue=e,t()}finally{ue=n}};Uu=function(e,t,n){switch(t){case"input":if(Du(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var s=zl(i);if(!s)throw Error(O(90));Ky(i),Du(i,s)}}}break;case"textarea":Yy(e,n);break;case"select":t=n.value,t!=null&&_s(e,!!n.multiple,t,!1)}};tx=Yh;nx=Gi;var gC={usingClientEntryPoint:!1,Events:[Po,ds,zl,Zy,ex,Yh]},cr={findFiberByHostInstance:ji,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yC={bundleType:cr.bundleType,version:cr.version,rendererPackageName:cr.rendererPackageName,rendererConfig:cr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=rx(e),e===null?null:e.stateNode},findFiberByHostInstance:cr.findFiberByHostInstance||pC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ia=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ia.isDisabled&&ia.supportsFiber)try{Ol=ia.inject(yC),rn=ia}catch{}}St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gC;St.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tf(t))throw Error(O(200));return fC(e,t,null,n)};St.createRoot=function(e,t){if(!tf(e))throw Error(O(299));var n=!1,i="",s=Fv;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Qh(e,1,!1,null,null,n,!1,i,s),e[An]=t.current,Qr(e.nodeType===8?e.parentNode:e),new ef(t)};St.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(O(188)):(e=Object.keys(e).join(","),Error(O(268,e)));return e=rx(t),e=e===null?null:e.stateNode,e};St.flushSync=function(e){return Gi(e)};St.hydrate=function(e,t,n){if(!Jl(t))throw Error(O(200));return Ql(null,e,t,!0,n)};St.hydrateRoot=function(e,t,n){if(!tf(e))throw Error(O(405));var i=n!=null&&n.hydratedSources||null,s=!1,r="",o=Fv;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Lv(t,null,e,1,n??null,s,!1,r,o),e[An]=t.current,Qr(e),i)for(e=0;e<i.length;e++)n=i[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Xl(t)};St.render=function(e,t,n){if(!Jl(t))throw Error(O(200));return Ql(null,e,t,!1,n)};St.unmountComponentAtNode=function(e){if(!Jl(e))throw Error(O(40));return e._reactRootContainer?(Gi(function(){Ql(null,null,e,!1,function(){e._reactRootContainer=null,e[An]=null})}),!0):!1};St.unstable_batchedUpdates=Yh;St.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Jl(n))throw Error(O(200));if(e==null||e._reactInternals===void 0)throw Error(O(38));return Ql(e,t,n,!1,i)};St.version="18.3.1-next-f1338f8080-20240426";function Ov(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ov)}catch(e){console.error(e)}}Ov(),Oy.exports=St;var nf=Oy.exports,km=nf;Eu.createRoot=km.createRoot,Eu.hydrateRoot=km.hydrateRoot;const xC="modulepreload",vC=function(e){return"/"+e},Pm={},wC=function(t,n,i){if(!n||n.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(n.map(r=>{if(r=vC(r),r in Pm)return;Pm[r]=!0;const o=r.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!i)for(let u=s.length-1;u>=0;u--){const d=s[u];if(d.href===r&&(!o||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${r}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":xC,o||(c.as="script",c.crossOrigin=""),c.href=r,document.head.appendChild(c),o)return new Promise((u,d)=>{c.addEventListener("load",u),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>t()).catch(r=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=r,window.dispatchEvent(o),!o.defaultPrevented)throw r})};var Am="popstate";function bC(e={}){function t(i,s){let{pathname:r,search:o,hash:a}=i.location;return xd("",{pathname:r,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){return typeof s=="string"?s:ao(s)}return _C(t,n,null,e)}function be(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function qt(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function SC(){return Math.random().toString(36).substring(2,10)}function Nm(e,t){return{usr:e.state,key:e.key,idx:t}}function xd(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?qs(t):t,state:n,key:t&&t.key||i||SC()}}function ao({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function qs(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function _C(e,t,n,i={}){let{window:s=document.defaultView,v5Compat:r=!1}=i,o=s.history,a="POP",l=null,c=u();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function u(){return(o.state||{idx:null}).idx}function d(){a="POP";let b=u(),y=b==null?null:b-c;c=b,l&&l({action:a,location:g.location,delta:y})}function f(b,y){a="PUSH";let w=xd(g.location,b,y);n&&n(w,b),c=u()+1;let S=Nm(w,c),E=g.createHref(w);try{o.pushState(S,"",E)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(E)}r&&l&&l({action:a,location:g.location,delta:1})}function p(b,y){a="REPLACE";let w=xd(g.location,b,y);n&&n(w,b),c=u();let S=Nm(w,c),E=g.createHref(w);o.replaceState(S,"",E),r&&l&&l({action:a,location:g.location,delta:0})}function m(b){return CC(b)}let g={get action(){return a},get location(){return e(s,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Am,d),l=b,()=>{s.removeEventListener(Am,d),l=null}},createHref(b){return t(s,b)},createURL:m,encodeLocation(b){let y=m(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:p,go(b){return o.go(b)}};return g}function CC(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),be(n,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:ao(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function Uv(e,t,n="/"){return EC(e,t,n,!1)}function EC(e,t,n,i){let s=typeof t=="string"?qs(t):t,r=Dn(s.pathname||"/",n);if(r==null)return null;let o=Bv(e);TC(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=FC(r);a=IC(o[l],c,i)}return a}function Bv(e,t=[],n=[],i="",s=!1){let r=(o,a,l=s,c)=>{let u={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(i)&&l)return;be(u.relativePath.startsWith(i),`Absolute route path "${u.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(i.length)}let d=Cn([i,u.relativePath]),f=n.concat(u);o.children&&o.children.length>0&&(be(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),Bv(o.children,t,f,d,l)),!(o.path==null&&!o.index)&&t.push({path:d,score:MC(d,o.index),routesMeta:f})};return e.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))r(o,a);else for(let c of Vv(o.path))r(o,a,!0,c)}),t}function Vv(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,s=n.endsWith("?"),r=n.replace(/\?$/,"");if(i.length===0)return s?[r,""]:[r];let o=Vv(i.join("/")),a=[];return a.push(...o.map(l=>l===""?r:[r,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function TC(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:RC(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var kC=/^:[\w-]+$/,PC=3,AC=2,NC=1,jC=10,DC=-2,jm=e=>e==="*";function MC(e,t){let n=e.split("/"),i=n.length;return n.some(jm)&&(i+=DC),t&&(i+=AC),n.filter(s=>!jm(s)).reduce((s,r)=>s+(kC.test(r)?PC:r===""?NC:jC),i)}function RC(e,t){return e.length===t.length&&e.slice(0,-1).every((i,s)=>i===t[s])?e[e.length-1]-t[t.length-1]:0}function IC(e,t,n=!1){let{routesMeta:i}=e,s={},r="/",o=[];for(let a=0;a<i.length;++a){let l=i[a],c=a===i.length-1,u=r==="/"?t:t.slice(r.length)||"/",d=wl({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d&&c&&n&&!i[i.length-1].route.index&&(d=wl({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:Cn([r,d.pathname]),pathnameBase:VC(Cn([r,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(r=Cn([r,d.pathnameBase]))}return o}function wl(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=LC(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let r=s[0],o=r.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:i.reduce((c,{paramName:u,isOptional:d},f)=>{if(u==="*"){let m=a[f]||"";o=r.slice(0,r.length-m.length).replace(/(.)\/+$/,"$1")}const p=a[f];return d&&!p?c[u]=void 0:c[u]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:r,pathnameBase:o,pattern:e}}function LC(e,t=!1,n=!0){qt(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(i.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function FC(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return qt(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Dn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function OC(e,t="/"){let{pathname:n,search:i="",hash:s=""}=typeof e=="string"?qs(e):e;return{pathname:n?n.startsWith("/")?n:UC(n,t):t,search:zC(i),hash:HC(s)}}function UC(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Yc(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function BC(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function sf(e){let t=BC(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function rf(e,t,n,i=!1){let s;typeof e=="string"?s=qs(e):(s={...e},be(!s.pathname||!s.pathname.includes("?"),Yc("?","pathname","search",s)),be(!s.pathname||!s.pathname.includes("#"),Yc("#","pathname","hash",s)),be(!s.search||!s.search.includes("#"),Yc("#","search","hash",s)));let r=e===""||s.pathname==="",o=r?"/":s.pathname,a;if(o==null)a=n;else{let d=t.length-1;if(!i&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}a=d>=0?t[d]:"/"}let l=OC(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(r||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var Cn=e=>e.join("/").replace(/\/\/+/g,"/"),VC=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),zC=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,HC=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function WC(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var zv=["POST","PUT","PATCH","DELETE"];new Set(zv);var $C=["GET",...zv];new Set($C);var Xs=C.createContext(null);Xs.displayName="DataRouter";var Zl=C.createContext(null);Zl.displayName="DataRouterState";C.createContext(!1);var Hv=C.createContext({isTransitioning:!1});Hv.displayName="ViewTransition";var KC=C.createContext(new Map);KC.displayName="Fetchers";var GC=C.createContext(null);GC.displayName="Await";var Xt=C.createContext(null);Xt.displayName="Navigation";var No=C.createContext(null);No.displayName="Location";var dn=C.createContext({outlet:null,matches:[],isDataRoute:!1});dn.displayName="Route";var of=C.createContext(null);of.displayName="RouteError";function YC(e,{relative:t}={}){be(Js(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=C.useContext(Xt),{hash:s,pathname:r,search:o}=Do(e,{relative:t}),a=r;return n!=="/"&&(a=r==="/"?n:Cn([n,r])),i.createHref({pathname:a,search:o,hash:s})}function Js(){return C.useContext(No)!=null}function pi(){return be(Js(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(No).location}var Wv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $v(e){C.useContext(Xt).static||C.useLayoutEffect(e)}function jo(){let{isDataRoute:e}=C.useContext(dn);return e?a2():qC()}function qC(){be(Js(),"useNavigate() may be used only in the context of a <Router> component.");let e=C.useContext(Xs),{basename:t,navigator:n}=C.useContext(Xt),{matches:i}=C.useContext(dn),{pathname:s}=pi(),r=JSON.stringify(sf(i)),o=C.useRef(!1);return $v(()=>{o.current=!0}),C.useCallback((l,c={})=>{if(qt(o.current,Wv),!o.current)return;if(typeof l=="number"){n.go(l);return}let u=rf(l,JSON.parse(r),s,c.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:Cn([t,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[t,n,r,s,e])}C.createContext(null);function Do(e,{relative:t}={}){let{matches:n}=C.useContext(dn),{pathname:i}=pi(),s=JSON.stringify(sf(n));return C.useMemo(()=>rf(e,JSON.parse(s),i,t==="path"),[e,s,i,t])}function XC(e,t){return Kv(e,t)}function Kv(e,t,n,i,s){var w;be(Js(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=C.useContext(Xt),{matches:o}=C.useContext(dn),a=o[o.length-1],l=a?a.params:{},c=a?a.pathname:"/",u=a?a.pathnameBase:"/",d=a&&a.route;{let S=d&&d.path||"";Gv(c,!d||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let f=pi(),p;if(t){let S=typeof t=="string"?qs(t):t;be(u==="/"||((w=S.pathname)==null?void 0:w.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${S.pathname}" was given in the \`location\` prop.`),p=S}else p=f;let m=p.pathname||"/",g=m;if(u!=="/"){let S=u.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(S.length).join("/")}let b=Uv(e,{pathname:g});qt(d||b!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),qt(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=t2(b&&b.map(S=>Object.assign({},S,{params:Object.assign({},l,S.params),pathname:Cn([u,r.encodeLocation?r.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?u:Cn([u,r.encodeLocation?r.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),o,n,i,s);return t&&y?C.createElement(No.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},y):y}function JC(){let e=o2(),t=WC(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},r={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=C.createElement(C.Fragment,null,C.createElement("p",null,"💿 Hey developer 👋"),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:r},"ErrorBoundary")," or"," ",C.createElement("code",{style:r},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},t),n?C.createElement("pre",{style:s},n):null,o)}var QC=C.createElement(JC,null),ZC=class extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?C.createElement(dn.Provider,{value:this.props.routeContext},C.createElement(of.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function e2({routeContext:e,match:t,children:n}){let i=C.useContext(Xs);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),C.createElement(dn.Provider,{value:e},n)}function t2(e,t=[],n=null,i=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let r=e,o=n==null?void 0:n.errors;if(o!=null){let c=r.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id])!==void 0);be(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,c+1))}let a=!1,l=-1;if(n)for(let c=0;c<r.length;c++){let u=r[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=c),u.route.id){let{loaderData:d,errors:f}=n,p=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||p){a=!0,l>=0?r=r.slice(0,l+1):r=[r[0]];break}}}return r.reduceRight((c,u,d)=>{let f,p=!1,m=null,g=null;n&&(f=o&&u.route.id?o[u.route.id]:void 0,m=u.route.errorElement||QC,a&&(l<0&&d===0?(Gv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,g=null):l===d&&(p=!0,g=u.route.hydrateFallbackElement||null)));let b=t.concat(r.slice(0,d+1)),y=()=>{let w;return f?w=m:p?w=g:u.route.Component?w=C.createElement(u.route.Component,null):u.route.element?w=u.route.element:w=c,C.createElement(e2,{match:u,routeContext:{outlet:c,matches:b,isDataRoute:n!=null},children:w})};return n&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?C.createElement(ZC,{location:n.location,revalidation:n.revalidation,component:m,error:f,children:y(),routeContext:{outlet:null,matches:b,isDataRoute:!0},unstable_onError:i}):y()},null)}function af(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function n2(e){let t=C.useContext(Xs);return be(t,af(e)),t}function i2(e){let t=C.useContext(Zl);return be(t,af(e)),t}function s2(e){let t=C.useContext(dn);return be(t,af(e)),t}function lf(e){let t=s2(e),n=t.matches[t.matches.length-1];return be(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function r2(){return lf("useRouteId")}function o2(){var i;let e=C.useContext(of),t=i2("useRouteError"),n=lf("useRouteError");return e!==void 0?e:(i=t.errors)==null?void 0:i[n]}function a2(){let{router:e}=n2("useNavigate"),t=lf("useNavigate"),n=C.useRef(!1);return $v(()=>{n.current=!0}),C.useCallback(async(s,r={})=>{qt(n.current,Wv),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...r}))},[e,t])}var Dm={};function Gv(e,t,n){!t&&!Dm[e]&&(Dm[e]=!0,qt(!1,n))}C.memo(l2);function l2({routes:e,future:t,state:n,unstable_onError:i}){return Kv(e,void 0,n,i,t)}function br({to:e,replace:t,state:n,relative:i}){be(Js(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=C.useContext(Xt);qt(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:r}=C.useContext(dn),{pathname:o}=pi(),a=jo(),l=rf(e,sf(r),o,i==="path"),c=JSON.stringify(l);return C.useEffect(()=>{a(JSON.parse(c),{replace:t,state:n,relative:i})},[a,c,i,t,n]),null}function Ln(e){be(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function c2({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:s,static:r=!1}){be(!Js(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),a=C.useMemo(()=>({basename:o,navigator:s,static:r,future:{}}),[o,s,r]);typeof n=="string"&&(n=qs(n));let{pathname:l="/",search:c="",hash:u="",state:d=null,key:f="default"}=n,p=C.useMemo(()=>{let m=Dn(l,o);return m==null?null:{location:{pathname:m,search:c,hash:u,state:d,key:f},navigationType:i}},[o,l,c,u,d,f,i]);return qt(p!=null,`<Router basename="${o}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:C.createElement(Xt.Provider,{value:a},C.createElement(No.Provider,{children:t,value:p}))}function u2({children:e,location:t}){return XC(vd(e),t)}function vd(e,t=[]){let n=[];return C.Children.forEach(e,(i,s)=>{if(!C.isValidElement(i))return;let r=[...t,s];if(i.type===C.Fragment){n.push.apply(n,vd(i.props.children,r));return}be(i.type===Ln,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),be(!i.props.index||!i.props.children,"An index route cannot have child routes.");let o={id:i.props.id||r.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=vd(i.props.children,r)),n.push(o)}),n}var Oa="get",Ua="application/x-www-form-urlencoded";function ec(e){return e!=null&&typeof e.tagName=="string"}function d2(e){return ec(e)&&e.tagName.toLowerCase()==="button"}function h2(e){return ec(e)&&e.tagName.toLowerCase()==="form"}function f2(e){return ec(e)&&e.tagName.toLowerCase()==="input"}function p2(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function m2(e,t){return e.button===0&&(!t||t==="_self")&&!p2(e)}var sa=null;function g2(){if(sa===null)try{new FormData(document.createElement("form"),0),sa=!1}catch{sa=!0}return sa}var y2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qc(e){return e!=null&&!y2.has(e)?(qt(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ua}"`),null):e}function x2(e,t){let n,i,s,r,o;if(h2(e)){let a=e.getAttribute("action");i=a?Dn(a,t):null,n=e.getAttribute("method")||Oa,s=qc(e.getAttribute("enctype"))||Ua,r=new FormData(e)}else if(d2(e)||f2(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(i=l?Dn(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||Oa,s=qc(e.getAttribute("formenctype"))||qc(a.getAttribute("enctype"))||Ua,r=new FormData(a,e),!g2()){let{name:c,type:u,value:d}=e;if(u==="image"){let f=c?`${c}.`:"";r.append(`${f}x`,"0"),r.append(`${f}y`,"0")}else c&&r.append(c,d)}}else{if(ec(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Oa,i=null,s=Ua,o=e}return r&&s==="text/plain"&&(o=r,r=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:r,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function cf(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function v2(e,t,n){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i.pathname==="/"?i.pathname=`_root.${n}`:t&&Dn(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function w2(e,t){if(e.id in t)return t[e.id];try{let n=await wC(()=>import(e.module),[]);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function b2(e){return e!=null&&typeof e.page=="string"}function S2(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function _2(e,t,n){let i=await Promise.all(e.map(async s=>{let r=t.routes[s.route.id];if(r){let o=await w2(r,n);return o.links?o.links():[]}return[]}));return k2(i.flat(1).filter(S2).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Mm(e,t,n,i,s,r){let o=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>{var u;return n[c].pathname!==l.pathname||((u=n[c].route.path)==null?void 0:u.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return r==="assets"?t.filter((l,c)=>o(l,c)||a(l,c)):r==="data"?t.filter((l,c)=>{var d;let u=i.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(o(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function C2(e,t,{includeHydrateFallback:n}={}){return E2(e.map(i=>{let s=t.routes[i.route.id];if(!s)return[];let r=[s.module];return s.clientActionModule&&(r=r.concat(s.clientActionModule)),s.clientLoaderModule&&(r=r.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(r=r.concat(s.hydrateFallbackModule)),s.imports&&(r=r.concat(s.imports)),r}).flat(1))}function E2(e){return[...new Set(e)]}function T2(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function k2(e,t){let n=new Set,i=new Set(t);return e.reduce((s,r)=>{if(t&&!b2(r)&&r.as==="script"&&r.href&&i.has(r.href))return s;let a=JSON.stringify(T2(r));return n.has(a)||(n.add(a),s.push({key:a,link:r})),s},[])}function Yv(){let e=C.useContext(Xs);return cf(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function P2(){let e=C.useContext(Zl);return cf(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var uf=C.createContext(void 0);uf.displayName="FrameworkContext";function qv(){let e=C.useContext(uf);return cf(e,"You must render this element inside a <HydratedRouter> element"),e}function A2(e,t){let n=C.useContext(uf),[i,s]=C.useState(!1),[r,o]=C.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:d}=t,f=C.useRef(null);C.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let g=y=>{y.forEach(w=>{o(w.isIntersecting)})},b=new IntersectionObserver(g,{threshold:.5});return f.current&&b.observe(f.current),()=>{b.disconnect()}}},[e]),C.useEffect(()=>{if(i){let g=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(g)}}},[i]);let p=()=>{s(!0)},m=()=>{s(!1),o(!1)};return n?e!=="intent"?[r,f,{}]:[r,f,{onFocus:ur(a,p),onBlur:ur(l,m),onMouseEnter:ur(c,p),onMouseLeave:ur(u,m),onTouchStart:ur(d,p)}]:[!1,f,{}]}function ur(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function N2({page:e,...t}){let{router:n}=Yv(),i=C.useMemo(()=>Uv(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?C.createElement(D2,{page:e,matches:i,...t}):null}function j2(e){let{manifest:t,routeModules:n}=qv(),[i,s]=C.useState([]);return C.useEffect(()=>{let r=!1;return _2(e,t,n).then(o=>{r||s(o)}),()=>{r=!0}},[e,t,n]),i}function D2({page:e,matches:t,...n}){let i=pi(),{manifest:s,routeModules:r}=qv(),{basename:o}=Yv(),{loaderData:a,matches:l}=P2(),c=C.useMemo(()=>Mm(e,t,l,s,i,"data"),[e,t,l,s,i]),u=C.useMemo(()=>Mm(e,t,l,s,i,"assets"),[e,t,l,s,i]),d=C.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let m=new Set,g=!1;if(t.forEach(y=>{var S;let w=s.routes[y.route.id];!w||!w.hasLoader||(!c.some(E=>E.route.id===y.route.id)&&y.route.id in a&&((S=r[y.route.id])!=null&&S.shouldRevalidate)||w.hasClientLoader?g=!0:m.add(y.route.id))}),m.size===0)return[];let b=v2(e,o,"data");return g&&m.size>0&&b.searchParams.set("_routes",t.filter(y=>m.has(y.route.id)).map(y=>y.route.id).join(",")),[b.pathname+b.search]},[o,a,i,s,c,t,e,r]),f=C.useMemo(()=>C2(u,s),[u,s]),p=j2(u);return C.createElement(C.Fragment,null,d.map(m=>C.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...n})),f.map(m=>C.createElement("link",{key:m,rel:"modulepreload",href:m,...n})),p.map(({key:m,link:g})=>C.createElement("link",{key:m,nonce:n.nonce,...g})))}function M2(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Xv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Xv&&(window.__reactRouterVersion="7.8.2")}catch{}function R2({basename:e,children:t,window:n}){let i=C.useRef();i.current==null&&(i.current=bC({window:n,v5Compat:!0}));let s=i.current,[r,o]=C.useState({action:s.action,location:s.location}),a=C.useCallback(l=>{C.startTransition(()=>o(l))},[o]);return C.useLayoutEffect(()=>s.listen(a),[s,a]),C.createElement(c2,{basename:e,children:t,location:r.location,navigationType:r.action,navigator:s})}var Jv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qv=C.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:s,reloadDocument:r,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d,...f},p){let{basename:m}=C.useContext(Xt),g=typeof c=="string"&&Jv.test(c),b,y=!1;if(typeof c=="string"&&g&&(b=c,Xv))try{let R=new URL(window.location.href),F=c.startsWith("//")?new URL(R.protocol+c):new URL(c),D=Dn(F.pathname,m);F.origin===R.origin&&D!=null?c=D+F.search+F.hash:y=!0}catch{qt(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=YC(c,{relative:s}),[S,E,k]=A2(i,f),N=O2(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:s,viewTransition:d});function j(R){t&&t(R),R.defaultPrevented||N(R)}let P=C.createElement("a",{...f,...k,href:b||w,onClick:y||r?t:j,ref:M2(p,E),target:l,"data-discover":!g&&n==="render"?"true":void 0});return S&&!g?C.createElement(C.Fragment,null,P,C.createElement(N2,{page:w})):P});Qv.displayName="Link";var I2=C.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:s=!1,style:r,to:o,viewTransition:a,children:l,...c},u){let d=Do(o,{relative:c.relative}),f=pi(),p=C.useContext(Zl),{navigator:m,basename:g}=C.useContext(Xt),b=p!=null&&H2(d)&&a===!0,y=m.encodeLocation?m.encodeLocation(d).pathname:d.pathname,w=f.pathname,S=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(w=w.toLowerCase(),S=S?S.toLowerCase():null,y=y.toLowerCase()),S&&g&&(S=Dn(S,g)||S);const E=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let k=w===y||!s&&w.startsWith(y)&&w.charAt(E)==="/",N=S!=null&&(S===y||!s&&S.startsWith(y)&&S.charAt(y.length)==="/"),j={isActive:k,isPending:N,isTransitioning:b},P=k?t:void 0,R;typeof i=="function"?R=i(j):R=[i,k?"active":null,N?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let F=typeof r=="function"?r(j):r;return C.createElement(Qv,{...c,"aria-current":P,className:R,ref:u,style:F,to:o,viewTransition:a},typeof l=="function"?l(j):l)});I2.displayName="NavLink";var L2=C.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:s,state:r,method:o=Oa,action:a,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:d,...f},p)=>{let m=V2(),g=z2(a,{relative:c}),b=o.toLowerCase()==="get"?"get":"post",y=typeof a=="string"&&Jv.test(a),w=S=>{if(l&&l(S),S.defaultPrevented)return;S.preventDefault();let E=S.nativeEvent.submitter,k=(E==null?void 0:E.getAttribute("formmethod"))||o;m(E||S.currentTarget,{fetcherKey:t,method:k,navigate:n,replace:s,state:r,relative:c,preventScrollReset:u,viewTransition:d})};return C.createElement("form",{ref:p,method:b,action:g,onSubmit:i?l:w,...f,"data-discover":!y&&e==="render"?"true":void 0})});L2.displayName="Form";function F2(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Zv(e){let t=C.useContext(Xs);return be(t,F2(e)),t}function O2(e,{target:t,replace:n,state:i,preventScrollReset:s,relative:r,viewTransition:o}={}){let a=jo(),l=pi(),c=Do(e,{relative:r});return C.useCallback(u=>{if(m2(u,t)){u.preventDefault();let d=n!==void 0?n:ao(l)===ao(c);a(e,{replace:d,state:i,preventScrollReset:s,relative:r,viewTransition:o})}},[l,a,c,n,i,t,e,s,r,o])}var U2=0,B2=()=>`__${String(++U2)}__`;function V2(){let{router:e}=Zv("useSubmit"),{basename:t}=C.useContext(Xt),n=r2();return C.useCallback(async(i,s={})=>{let{action:r,method:o,encType:a,formData:l,body:c}=x2(i,t);if(s.navigate===!1){let u=s.fetcherKey||B2();await e.fetch(u,n,s.action||r,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||o,formEncType:s.encType||a,flushSync:s.flushSync})}else await e.navigate(s.action||r,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||o,formEncType:s.encType||a,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function z2(e,{relative:t}={}){let{basename:n}=C.useContext(Xt),i=C.useContext(dn);be(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),r={...Do(e||".",{relative:t})},o=pi();if(e==null){r.search=o.search;let a=new URLSearchParams(r.search),l=a.getAll("index");if(l.some(u=>u==="")){a.delete("index"),l.filter(d=>d).forEach(d=>a.append("index",d));let u=a.toString();r.search=u?`?${u}`:""}}return(!e||e===".")&&s.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(r.pathname=r.pathname==="/"?n:Cn([n,r.pathname])),ao(r)}function H2(e,{relative:t}={}){let n=C.useContext(Hv);be(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Zv("useViewTransitionState"),s=Do(e,{relative:t});if(!n.isTransitioning)return!1;let r=Dn(n.currentLocation.pathname,i)||n.currentLocation.pathname,o=Dn(n.nextLocation.pathname,i)||n.nextLocation.pathname;return wl(s.pathname,o)!=null||wl(s.pathname,r)!=null}function W2(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...i)=>e(...i);return new Proxy(n,{get:(i,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}function tc(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const wd=e=>Array.isArray(e);function ew(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function lo(e){return typeof e=="string"||Array.isArray(e)}function Rm(e){const t=[{},{}];return e==null||e.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function df(e,t,n,i){if(typeof t=="function"){const[s,r]=Rm(i);t=t(n!==void 0?n:e.custom,s,r)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,r]=Rm(i);t=t(n!==void 0?n:e.custom,s,r)}return t}function nc(e,t,n){const i=e.getProps();return df(i,t,n!==void 0?n:i.custom,e)}const hf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ff=["initial",...hf],Mo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Qi=new Set(Mo),an=e=>e*1e3,En=e=>e/1e3,$2={type:"spring",stiffness:500,damping:25,restSpeed:10},K2=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),G2={type:"keyframes",duration:.8},Y2={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},q2=(e,{keyframes:t})=>t.length>2?G2:Qi.has(e)?e.startsWith("scale")?K2(t[1]):$2:Y2;function pf(e,t){return e?e[t]||e.default||e:void 0}const X2={skipAnimations:!1,useManualTiming:!1},J2=e=>e!==null;function ic(e,{repeat:t,repeatType:n="loop"},i){const s=e.filter(J2),r=t&&n!=="loop"&&t%2===1?0:s.length-1;return!r||i===void 0?s[r]:i}const We=e=>e;function Q2(e){let t=new Set,n=new Set,i=!1,s=!1;const r=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){r.has(c)&&(l.schedule(c),e()),c(o)}const l={schedule:(c,u=!1,d=!1)=>{const p=d&&i?t:n;return u&&r.add(c),p.has(c)||p.add(c),c},cancel:c=>{n.delete(c),r.delete(c)},process:c=>{if(o=c,i){s=!0;return}i=!0,[t,n]=[n,t],n.clear(),t.forEach(a),i=!1,s&&(s=!1,l.process(c))}};return l}const ra=["read","resolveKeyframes","update","preRender","render","postRender"],Z2=40;function tw(e,t){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},r=()=>n=!0,o=ra.reduce((y,w)=>(y[w]=Q2(r),y),{}),{read:a,resolveKeyframes:l,update:c,preRender:u,render:d,postRender:f}=o,p=()=>{const y=performance.now();n=!1,s.delta=i?1e3/60:Math.max(Math.min(y-s.timestamp,Z2),1),s.timestamp=y,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),u.process(s),d.process(s),f.process(s),s.isProcessing=!1,n&&t&&(i=!1,e(p))},m=()=>{n=!0,i=!0,s.isProcessing||e(p)};return{schedule:ra.reduce((y,w)=>{const S=o[w];return y[w]=(E,k=!1,N=!1)=>(n||m(),S.schedule(E,k,N)),y},{}),cancel:y=>{for(let w=0;w<ra.length;w++)o[ra[w]].cancel(y)},state:s,steps:o}}const{schedule:de,cancel:ai,state:ze,steps:Xc}=tw(typeof requestAnimationFrame<"u"?requestAnimationFrame:We,!0),nw=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,eE=1e-7,tE=12;function nE(e,t,n,i,s){let r,o,a=0;do o=t+(n-t)/2,r=nw(o,i,s)-e,r>0?n=o:t=o;while(Math.abs(r)>eE&&++a<tE);return o}function Ro(e,t,n,i){if(e===t&&n===i)return We;const s=r=>nE(r,0,1,e,n);return r=>r===0||r===1?r:nw(s(r),t,i)}const iw=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,sw=e=>t=>1-e(1-t),rw=Ro(.33,1.53,.69,.99),mf=sw(rw),ow=iw(mf),aw=e=>(e*=2)<1?.5*mf(e):.5*(2-Math.pow(2,-10*(e-1))),gf=e=>1-Math.sin(Math.acos(e)),lw=sw(gf),cw=iw(gf),uw=e=>/^0[^.\s]+$/u.test(e);function iE(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||uw(e):!0}let sE=We,yf=We;const dw=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),hw=e=>t=>typeof t=="string"&&t.startsWith(e),fw=hw("--"),rE=hw("var(--"),xf=e=>rE(e)?oE.test(e.split("/*")[0].trim()):!1,oE=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,aE=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function lE(e){const t=aE.exec(e);if(!t)return[,];const[,n,i,s]=t;return[`--${n??i}`,s]}function pw(e,t,n=1){const[i,s]=lE(e);if(!i)return;const r=window.getComputedStyle(t).getPropertyValue(i);if(r){const o=r.trim();return dw(o)?parseFloat(o):o}return xf(s)?pw(s,t,n+1):s}const li=(e,t,n)=>n>t?t:n<e?e:n,Qs={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},co={...Qs,transform:e=>li(0,1,e)},oa={...Qs,default:1},Io=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Fn=Io("deg"),ln=Io("%"),Y=Io("px"),cE=Io("vh"),uE=Io("vw"),Im={...ln,parse:e=>ln.parse(e)/100,transform:e=>ln.transform(e*100)},dE=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Lm=e=>e===Qs||e===Y,Fm=(e,t)=>parseFloat(e.split(", ")[t]),Om=(e,t)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const s=i.match(/^matrix3d\((.+)\)$/u);if(s)return Fm(s[1],t);{const r=i.match(/^matrix\((.+)\)$/u);return r?Fm(r[1],e):0}},hE=new Set(["x","y","z"]),fE=Mo.filter(e=>!hE.has(e));function pE(e){const t=[];return fE.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const Us={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Om(4,13),y:Om(5,14)};Us.translateX=Us.x;Us.translateY=Us.y;const mw=e=>t=>t.test(e),mE={test:e=>e==="auto",parse:e=>e},gw=[Qs,Y,ln,Fn,uE,cE,mE],Um=e=>gw.find(mw(e)),Ui=new Set;let bd=!1,Sd=!1;function yw(){if(Sd){const e=Array.from(Ui).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const s=pE(i);s.length&&(n.set(i,s),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const s=n.get(i);s&&s.forEach(([r,o])=>{var a;(a=i.getValue(r))===null||a===void 0||a.set(o)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Sd=!1,bd=!1,Ui.forEach(e=>e.complete()),Ui.clear()}function xw(){Ui.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Sd=!0)})}function gE(){xw(),yw()}class vf{constructor(t,n,i,s,r,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=s,this.element=r,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ui.add(this),bd||(bd=!0,de.read(xw),de.resolveKeyframes(yw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:s}=this;for(let r=0;r<t.length;r++)if(t[r]===null)if(r===0){const o=s==null?void 0:s.get(),a=t[t.length-1];if(o!==void 0)t[0]=o;else if(i&&n){const l=i.readValue(n,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),s&&o===void 0&&s.set(t[0])}else t[r]=t[r-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ui.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ui.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Fr=e=>Math.round(e*1e5)/1e5,wf=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function yE(e){return e==null}const xE=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,bf=(e,t)=>n=>!!(typeof n=="string"&&xE.test(n)&&n.startsWith(e)||t&&!yE(n)&&Object.prototype.hasOwnProperty.call(n,t)),vw=(e,t,n)=>i=>{if(typeof i!="string")return i;const[s,r,o,a]=i.match(wf);return{[e]:parseFloat(s),[t]:parseFloat(r),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},vE=e=>li(0,255,e),Jc={...Qs,transform:e=>Math.round(vE(e))},Ri={test:bf("rgb","red"),parse:vw("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+Jc.transform(e)+", "+Jc.transform(t)+", "+Jc.transform(n)+", "+Fr(co.transform(i))+")"};function wE(e){let t="",n="",i="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,i+=i,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const _d={test:bf("#"),parse:wE,transform:Ri.transform},xs={test:bf("hsl","hue"),parse:vw("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+ln.transform(Fr(t))+", "+ln.transform(Fr(n))+", "+Fr(co.transform(i))+")"},Xe={test:e=>Ri.test(e)||_d.test(e)||xs.test(e),parse:e=>Ri.test(e)?Ri.parse(e):xs.test(e)?xs.parse(e):_d.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ri.transform(e):xs.transform(e)},bE=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function SE(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(wf))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(bE))===null||n===void 0?void 0:n.length)||0)>0}const ww="number",bw="color",_E="var",CE="var(",Bm="${}",EE=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function uo(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},s=[];let r=0;const a=t.replace(EE,l=>(Xe.test(l)?(i.color.push(r),s.push(bw),n.push(Xe.parse(l))):l.startsWith(CE)?(i.var.push(r),s.push(_E),n.push(l)):(i.number.push(r),s.push(ww),n.push(parseFloat(l))),++r,Bm)).split(Bm);return{values:n,split:a,indexes:i,types:s}}function Sw(e){return uo(e).values}function _w(e){const{split:t,types:n}=uo(e),i=t.length;return s=>{let r="";for(let o=0;o<i;o++)if(r+=t[o],s[o]!==void 0){const a=n[o];a===ww?r+=Fr(s[o]):a===bw?r+=Xe.transform(s[o]):r+=s[o]}return r}}const TE=e=>typeof e=="number"?0:e;function kE(e){const t=Sw(e);return _w(e)(t.map(TE))}const ci={test:SE,parse:Sw,createTransformer:_w,getAnimatableNone:kE},PE=new Set(["brightness","contrast","saturate","opacity"]);function AE(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(wf)||[];if(!i)return e;const s=n.replace(i,"");let r=PE.has(t)?1:0;return i!==n&&(r*=100),t+"("+r+s+")"}const NE=/\b([a-z-]*)\(.*?\)/gu,Cd={...ci,getAnimatableNone:e=>{const t=e.match(NE);return t?t.map(AE).join(" "):e}},jE={borderWidth:Y,borderTopWidth:Y,borderRightWidth:Y,borderBottomWidth:Y,borderLeftWidth:Y,borderRadius:Y,radius:Y,borderTopLeftRadius:Y,borderTopRightRadius:Y,borderBottomRightRadius:Y,borderBottomLeftRadius:Y,width:Y,maxWidth:Y,height:Y,maxHeight:Y,top:Y,right:Y,bottom:Y,left:Y,padding:Y,paddingTop:Y,paddingRight:Y,paddingBottom:Y,paddingLeft:Y,margin:Y,marginTop:Y,marginRight:Y,marginBottom:Y,marginLeft:Y,backgroundPositionX:Y,backgroundPositionY:Y},DE={rotate:Fn,rotateX:Fn,rotateY:Fn,rotateZ:Fn,scale:oa,scaleX:oa,scaleY:oa,scaleZ:oa,skew:Fn,skewX:Fn,skewY:Fn,distance:Y,translateX:Y,translateY:Y,translateZ:Y,x:Y,y:Y,z:Y,perspective:Y,transformPerspective:Y,opacity:co,originX:Im,originY:Im,originZ:Y},Vm={...Qs,transform:Math.round},Sf={...jE,...DE,zIndex:Vm,size:Y,fillOpacity:co,strokeOpacity:co,numOctaves:Vm},ME={...Sf,color:Xe,backgroundColor:Xe,outlineColor:Xe,fill:Xe,stroke:Xe,borderColor:Xe,borderTopColor:Xe,borderRightColor:Xe,borderBottomColor:Xe,borderLeftColor:Xe,filter:Cd,WebkitFilter:Cd},_f=e=>ME[e];function Cw(e,t){let n=_f(e);return n!==Cd&&(n=ci),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const RE=new Set(["auto","none","0"]);function IE(e,t,n){let i=0,s;for(;i<e.length&&!s;){const r=e[i];typeof r=="string"&&!RE.has(r)&&uo(r).values.length&&(s=e[i]),i++}if(s&&n)for(const r of t)e[r]=Cw(n,s)}class Ew extends vf{constructor(t,n,i,s,r){super(t,n,i,s,r,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),xf(c))){const u=pw(c,n.current);u!==void 0&&(t[l]=u),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!dE.has(i)||t.length!==2)return;const[s,r]=t,o=Um(s),a=Um(r);if(o!==a)if(Lm(o)&&Lm(a))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let s=0;s<t.length;s++)iE(t[s])&&i.push(s);i.length&&IE(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Us[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(i,s).jump(s,!1)}measureEndState(){var t;const{element:n,name:i,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const r=n.getValue(i);r&&r.jump(this.measuredOrigin,!1);const o=s.length-1,a=s[o];s[o]=Us[i](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function Cf(e){return typeof e=="function"}let Ba;function LE(){Ba=void 0}const cn={now:()=>(Ba===void 0&&cn.set(ze.isProcessing||X2.useManualTiming?ze.timestamp:performance.now()),Ba),set:e=>{Ba=e,queueMicrotask(LE)}},zm=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ci.test(e)||e==="0")&&!e.startsWith("url("));function FE(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function OE(e,t,n,i){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const r=e[e.length-1],o=zm(s,t),a=zm(r,t);return!o||!a?!1:FE(e)||(n==="spring"||Cf(n))&&i}const UE=40;class Tw{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:s=0,repeatDelay:r=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=cn.now(),this.options={autoplay:t,delay:n,type:i,repeat:s,repeatDelay:r,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>UE?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&gE(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=cn.now(),this.hasAttemptedResolve=!0;const{name:i,type:s,velocity:r,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!OE(t,i,s,r))if(o)this.options.duration=0;else{l==null||l(ic(t,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const u=this.initPlayback(t,n);u!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}function kw(e,t){return t?e*(1e3/t):0}const BE=5;function Pw(e,t,n){const i=Math.max(t-BE,0);return kw(n-e(i),t-i)}const Qc=.001,VE=.01,Hm=10,zE=.05,HE=1;function WE({duration:e=800,bounce:t=.25,velocity:n=0,mass:i=1}){let s,r;sE(e<=an(Hm));let o=1-t;o=li(zE,HE,o),e=li(VE,Hm,En(e)),o<1?(s=c=>{const u=c*o,d=u*e,f=u-n,p=Ed(c,o),m=Math.exp(-d);return Qc-f/p*m},r=c=>{const d=c*o*e,f=d*n+n,p=Math.pow(o,2)*Math.pow(c,2)*e,m=Math.exp(-d),g=Ed(Math.pow(c,2),o);return(-s(c)+Qc>0?-1:1)*((f-p)*m)/g}):(s=c=>{const u=Math.exp(-c*e),d=(c-n)*e+1;return-Qc+u*d},r=c=>{const u=Math.exp(-c*e),d=(n-c)*(e*e);return u*d});const a=5/e,l=KE(s,r,a);if(e=an(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:o*2*Math.sqrt(i*c),duration:e}}}const $E=12;function KE(e,t,n){let i=n;for(let s=1;s<$E;s++)i=i-e(i)/t(i);return i}function Ed(e,t){return e*Math.sqrt(1-t*t)}const GE=["duration","bounce"],YE=["stiffness","damping","mass"];function Wm(e,t){return t.some(n=>e[n]!==void 0)}function qE(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Wm(e,YE)&&Wm(e,GE)){const n=WE(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function Aw({keyframes:e,restDelta:t,restSpeed:n,...i}){const s=e[0],r=e[e.length-1],o={done:!1,value:s},{stiffness:a,damping:l,mass:c,duration:u,velocity:d,isResolvedFromDuration:f}=qE({...i,velocity:-En(i.velocity||0)}),p=d||0,m=l/(2*Math.sqrt(a*c)),g=r-s,b=En(Math.sqrt(a/c)),y=Math.abs(g)<5;n||(n=y?.01:2),t||(t=y?.005:.5);let w;if(m<1){const S=Ed(b,m);w=E=>{const k=Math.exp(-m*b*E);return r-k*((p+m*b*g)/S*Math.sin(S*E)+g*Math.cos(S*E))}}else if(m===1)w=S=>r-Math.exp(-b*S)*(g+(p+b*g)*S);else{const S=b*Math.sqrt(m*m-1);w=E=>{const k=Math.exp(-m*b*E),N=Math.min(S*E,300);return r-k*((p+m*b*g)*Math.sinh(N)+S*g*Math.cosh(N))/S}}return{calculatedDuration:f&&u||null,next:S=>{const E=w(S);if(f)o.done=S>=u;else{let k=0;m<1&&(k=S===0?an(p):Pw(w,S,E));const N=Math.abs(k)<=n,j=Math.abs(r-E)<=t;o.done=N&&j}return o.value=o.done?r:E,o}}}function $m({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:r=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=e[0],f={done:!1,value:d},p=P=>a!==void 0&&P<a||l!==void 0&&P>l,m=P=>a===void 0?l:l===void 0||Math.abs(a-P)<Math.abs(l-P)?a:l;let g=n*t;const b=d+g,y=o===void 0?b:o(b);y!==b&&(g=y-d);const w=P=>-g*Math.exp(-P/i),S=P=>y+w(P),E=P=>{const R=w(P),F=S(P);f.done=Math.abs(R)<=c,f.value=f.done?y:F};let k,N;const j=P=>{p(f.value)&&(k=P,N=Aw({keyframes:[f.value,m(f.value)],velocity:Pw(S,P,f.value),damping:s,stiffness:r,restDelta:c,restSpeed:u}))};return j(0),{calculatedDuration:null,next:P=>{let R=!1;return!N&&k===void 0&&(R=!0,E(P),j(P)),k!==void 0&&P>=k?N.next(P-k):(!R&&E(P),f)}}}const XE=Ro(.42,0,1,1),JE=Ro(0,0,.58,1),Nw=Ro(.42,0,.58,1),QE=e=>Array.isArray(e)&&typeof e[0]!="number",Ef=e=>Array.isArray(e)&&typeof e[0]=="number",ZE={linear:We,easeIn:XE,easeInOut:Nw,easeOut:JE,circIn:gf,circInOut:cw,circOut:lw,backIn:mf,backInOut:ow,backOut:rw,anticipate:aw},Km=e=>{if(Ef(e)){yf(e.length===4);const[t,n,i,s]=e;return Ro(t,n,i,s)}else if(typeof e=="string")return ZE[e];return e},eT=(e,t)=>n=>t(e(n)),Tn=(...e)=>e.reduce(eT),Bs=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i},_e=(e,t,n)=>e+(t-e)*n;function Zc(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function tT({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let s=0,r=0,o=0;if(!t)s=r=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;s=Zc(l,a,e+1/3),r=Zc(l,a,e),o=Zc(l,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(r*255),blue:Math.round(o*255),alpha:i}}function bl(e,t){return n=>n>0?t:e}const eu=(e,t,n)=>{const i=e*e,s=n*(t*t-i)+i;return s<0?0:Math.sqrt(s)},nT=[_d,Ri,xs],iT=e=>nT.find(t=>t.test(e));function Gm(e){const t=iT(e);if(!t)return!1;let n=t.parse(e);return t===xs&&(n=tT(n)),n}const Ym=(e,t)=>{const n=Gm(e),i=Gm(t);if(!n||!i)return bl(e,t);const s={...n};return r=>(s.red=eu(n.red,i.red,r),s.green=eu(n.green,i.green,r),s.blue=eu(n.blue,i.blue,r),s.alpha=_e(n.alpha,i.alpha,r),Ri.transform(s))},Td=new Set(["none","hidden"]);function sT(e,t){return Td.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function rT(e,t){return n=>_e(e,t,n)}function Tf(e){return typeof e=="number"?rT:typeof e=="string"?xf(e)?bl:Xe.test(e)?Ym:lT:Array.isArray(e)?jw:typeof e=="object"?Xe.test(e)?Ym:oT:bl}function jw(e,t){const n=[...e],i=n.length,s=e.map((r,o)=>Tf(r)(r,t[o]));return r=>{for(let o=0;o<i;o++)n[o]=s[o](r);return n}}function oT(e,t){const n={...e,...t},i={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(i[s]=Tf(e[s])(e[s],t[s]));return s=>{for(const r in i)n[r]=i[r](s);return n}}function aT(e,t){var n;const i=[],s={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){const o=t.types[r],a=e.indexes[o][s[o]],l=(n=e.values[a])!==null&&n!==void 0?n:0;i[r]=l,s[o]++}return i}const lT=(e,t)=>{const n=ci.createTransformer(t),i=uo(e),s=uo(t);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?Td.has(e)&&!s.values.length||Td.has(t)&&!i.values.length?sT(e,t):Tn(jw(aT(i,s),s.values),n):bl(e,t)};function Dw(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?_e(e,t,n):Tf(e)(e,t)}function cT(e,t,n){const i=[],s=n||Dw,r=e.length-1;for(let o=0;o<r;o++){let a=s(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||We:t;a=Tn(l,a)}i.push(a)}return i}function uT(e,t,{clamp:n=!0,ease:i,mixer:s}={}){const r=e.length;if(yf(r===t.length),r===1)return()=>t[0];if(r===2&&e[0]===e[1])return()=>t[1];e[0]>e[r-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=cT(t,i,s),a=o.length,l=c=>{let u=0;if(a>1)for(;u<e.length-2&&!(c<e[u+1]);u++);const d=Bs(e[u],e[u+1],c);return o[u](d)};return n?c=>l(li(e[0],e[r-1],c)):l}function dT(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const s=Bs(0,t,i);e.push(_e(n,1,s))}}function hT(e){const t=[0];return dT(t,e.length-1),t}function fT(e,t){return e.map(n=>n*t)}function pT(e,t){return e.map(()=>t||Nw).splice(0,e.length-1)}function Sl({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const s=QE(i)?i.map(Km):Km(i),r={done:!1,value:t[0]},o=fT(n&&n.length===t.length?n:hT(t),e),a=uT(o,t,{ease:Array.isArray(s)?s:pT(t,s)});return{calculatedDuration:e,next:l=>(r.value=a(l),r.done=l>=e,r)}}const qm=2e4;function mT(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<qm;)t+=n,i=e.next(t);return t>=qm?1/0:t}const gT=e=>{const t=({timestamp:n})=>e(n);return{start:()=>de.update(t,!0),stop:()=>ai(t),now:()=>ze.isProcessing?ze.timestamp:cn.now()}},yT={decay:$m,inertia:$m,tween:Sl,keyframes:Sl,spring:Aw},xT=e=>e/100;class kf extends Tw{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:i,element:s,keyframes:r}=this.options,o=(s==null?void 0:s.KeyframeResolver)||vf,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(r,a,n,i,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:r,velocity:o=0}=this.options,a=Cf(n)?n:yT[n]||Sl;let l,c;a!==Sl&&typeof t[0]!="number"&&(l=Tn(xT,Dw(t[0],t[1])),t=[0,100]);const u=a({...this.options,keyframes:t});r==="mirror"&&(c=a({...this.options,keyframes:[...t].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=mT(u));const{calculatedDuration:d}=u,f=d+s,p=f*(i+1)-s;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:f,totalDuration:p}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:i}=this;if(!i){const{keyframes:P}=this.options;return{done:!0,value:P[P.length-1]}}const{finalKeyframe:s,generator:r,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:d}=i;if(this.startTime===null)return r.next(0);const{delay:f,repeat:p,repeatType:m,repeatDelay:g,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-u/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const y=this.currentTime-f*(this.speed>=0?1:-1),w=this.speed>=0?y<0:y>u;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let S=this.currentTime,E=r;if(p){const P=Math.min(this.currentTime,u)/d;let R=Math.floor(P),F=P%1;!F&&P>=1&&(F=1),F===1&&R--,R=Math.min(R,p+1),!!(R%2)&&(m==="reverse"?(F=1-F,g&&(F-=g/d)):m==="mirror"&&(E=o)),S=li(0,1,F)*d}const k=w?{done:!1,value:l[0]}:E.next(S);a&&(k.value=a(k.value));let{done:N}=k;!w&&c!==null&&(N=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return j&&s!==void 0&&(k.value=ic(l,this.options,s)),b&&b(k.value),j&&this.finish(),k}get duration(){const{resolved:t}=this;return t?En(t.calculatedDuration):0}get time(){return En(this.currentTime)}set time(t){t=an(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=En(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=gT,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=t(r=>this.tick(r))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const vT=new Set(["opacity","clipPath","filter","transform"]),wT=10,bT=(e,t)=>{let n="";const i=Math.max(Math.round(t/wT),2);for(let s=0;s<i;s++)n+=e(Bs(0,i-1,s))+", ";return`linear(${n.substring(0,n.length-2)})`};function Pf(e){let t;return()=>(t===void 0&&(t=e()),t)}const ST={linearEasing:void 0};function _T(e,t){const n=Pf(e);return()=>{var i;return(i=ST[t])!==null&&i!==void 0?i:n()}}const _l=_T(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function Mw(e){return!!(typeof e=="function"&&_l()||!e||typeof e=="string"&&(e in kd||_l())||Ef(e)||Array.isArray(e)&&e.every(Mw))}const Sr=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,kd={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Sr([0,.65,.55,1]),circOut:Sr([.55,0,1,.45]),backIn:Sr([.31,.01,.66,-.59]),backOut:Sr([.33,1.53,.69,.99])};function Rw(e,t){if(e)return typeof e=="function"&&_l()?bT(e,t):Ef(e)?Sr(e):Array.isArray(e)?e.map(n=>Rw(n,t)||kd.easeOut):kd[e]}function CT(e,t,n,{delay:i=0,duration:s=300,repeat:r=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const c={[t]:n};l&&(c.offset=l);const u=Rw(a,s);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:i,duration:s,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:r+1,direction:o==="reverse"?"alternate":"normal"})}function Xm(e,t){e.timeline=t,e.onfinish=null}const ET=Pf(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Cl=10,TT=2e4;function kT(e){return Cf(e.type)||e.type==="spring"||!Mw(e.ease)}function PT(e,t){const n=new kf({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:e[0]};const s=[];let r=0;for(;!i.done&&r<TT;)i=n.sample(r),s.push(i.value),r+=Cl;return{times:void 0,keyframes:s,duration:r-Cl,ease:"linear"}}const Iw={anticipate:aw,backInOut:ow,circInOut:cw};function AT(e){return e in Iw}class Jm extends Tw{constructor(t){super(t);const{name:n,motionValue:i,element:s,keyframes:r}=this.options;this.resolver=new Ew(r,(o,a)=>this.onKeyframesResolved(o,a),n,i,s),this.resolver.scheduleResolve()}initPlayback(t,n){var i;let{duration:s=300,times:r,ease:o,type:a,motionValue:l,name:c,startTime:u}=this.options;if(!(!((i=l.owner)===null||i===void 0)&&i.current))return!1;if(typeof o=="string"&&_l()&&AT(o)&&(o=Iw[o]),kT(this.options)){const{onComplete:f,onUpdate:p,motionValue:m,element:g,...b}=this.options,y=PT(t,b);t=y.keyframes,t.length===1&&(t[1]=t[0]),s=y.duration,r=y.times,o=y.ease,a="keyframes"}const d=CT(l.owner.current,c,t,{...this.options,duration:s,times:r,ease:o});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(Xm(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:f}=this.options;l.set(ic(t,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:s,times:r,type:a,ease:o,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return En(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return En(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=an(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return We;const{animation:i}=n;Xm(i,t)}return We}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:i,duration:s,type:r,ease:o,times:a}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:d,element:f,...p}=this.options,m=new kf({...p,keyframes:i,duration:s,type:r,ease:o,times:a,isGenerator:!0}),g=an(this.time);c.setWithVelocity(m.sample(g-Cl).value,m.sample(g).value,Cl)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:i,repeatDelay:s,repeatType:r,damping:o,type:a}=t;return ET()&&i&&vT.has(i)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!s&&r!=="mirror"&&o!==0&&a!=="inertia"}}const NT=Pf(()=>window.ScrollTimeline!==void 0);class jT{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}then(t,n){return Promise.all(this.animations).then(t).catch(n)}getAll(t){return this.animations[0][t]}setAll(t,n){for(let i=0;i<this.animations.length;i++)this.animations[i][t]=n}attachTimeline(t,n){const i=this.animations.map(s=>NT()&&s.attachTimeline?s.attachTimeline(t):n(s));return()=>{i.forEach((s,r)=>{s&&s(),this.animations[r].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function DT({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:r,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const Af=(e,t,n,i={},s,r)=>o=>{const a=pf(i,e)||{},l=a.delay||i.delay||0;let{elapsed:c=0}=i;c=c-an(l);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:f=>{t.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:r?void 0:s};DT(a)||(u={...u,...q2(e,u)}),u.duration&&(u.duration=an(u.duration)),u.repeatDelay&&(u.repeatDelay=an(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(d=!0)),d&&!r&&t.get()!==void 0){const f=ic(u.keyframes,a);if(f!==void 0)return de.update(()=>{u.onUpdate(f),u.onComplete()}),new jT([])}return!r&&Jm.supports(u)?new Jm(u):new kf(u)},MT=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),RT=e=>wd(e)?e[e.length-1]||0:e;function Nf(e,t){e.indexOf(t)===-1&&e.push(t)}function jf(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Df{constructor(){this.subscriptions=[]}add(t){return Nf(this.subscriptions,t),()=>jf(this.subscriptions,t)}notify(t,n,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,i);else for(let r=0;r<s;r++){const o=this.subscriptions[r];o&&o(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Qm=30,IT=e=>!isNaN(parseFloat(e));class LT{constructor(t,n={}){this.version="11.11.17",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,s=!0)=>{const r=cn.now();this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=cn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=IT(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Df);const i=this.events[t].add(n);return t==="change"?()=>{i(),de.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=cn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Qm)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Qm);return kw(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ho(e,t){return new LT(e,t)}function FT(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ho(n))}function Mf(e,t){const n=nc(e,t);let{transitionEnd:i={},transition:s={},...r}=n||{};r={...r,...i};for(const o in r){const a=RT(r[o]);FT(e,o,a)}}const Rf=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),OT="framerAppearId",Lw="data-"+Rf(OT);function Fw(e){return e.props[Lw]}const Qe=e=>!!(e&&e.getVelocity);function UT(e){return!!(Qe(e)&&e.add)}function Pd(e,t){const n=e.getValue("willChange");if(UT(n))return n.add(t)}function BT({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function Ow(e,t,{delay:n=0,transitionOverride:i,type:s}={}){var r;let{transition:o=e.getDefaultTransition(),transitionEnd:a,...l}=t;i&&(o=i);const c=[],u=s&&e.animationState&&e.animationState.getState()[s];for(const d in l){const f=e.getValue(d,(r=e.latestValues[d])!==null&&r!==void 0?r:null),p=l[d];if(p===void 0||u&&BT(u,d))continue;const m={delay:n,...pf(o||{},d)};let g=!1;if(window.MotionHandoffAnimation){const y=Fw(e);if(y){const w=window.MotionHandoffAnimation(y,d,de);w!==null&&(m.startTime=w,g=!0)}}Pd(e,d),f.start(Af(d,f,p,e.shouldReduceMotion&&Qi.has(d)?{type:!1}:m,e,g));const b=f.animation;b&&c.push(b)}return a&&Promise.all(c).then(()=>{de.update(()=>{a&&Mf(e,a)})}),c}function Ad(e,t,n={}){var i;const s=nc(e,t,n.type==="exit"?(i=e.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:r=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(r=n.transitionOverride);const o=s?()=>Promise.all(Ow(e,s,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=r;return VT(e,t,u+c,d,f,n)}:()=>Promise.resolve(),{when:l}=r;if(l){const[c,u]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>u())}else return Promise.all([o(),a(n.delay)])}function VT(e,t,n=0,i=0,s=1,r){const o=[],a=(e.variantChildren.size-1)*i,l=s===1?(c=0)=>c*i:(c=0)=>a-c*i;return Array.from(e.variantChildren).sort(zT).forEach((c,u)=>{c.notify("AnimationStart",t),o.push(Ad(c,t,{...r,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(o)}function zT(e,t){return e.sortNodePosition(t)}function Uw(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const s=t.map(r=>Ad(e,r,n));i=Promise.all(s)}else if(typeof t=="string")i=Ad(e,t,n);else{const s=typeof t=="function"?nc(e,t,n.custom):t;i=Promise.all(Ow(e,s,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}const HT=ff.length;function Bw(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?Bw(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<HT;n++){const i=ff[n],s=e.props[i];(lo(s)||s===!1)&&(t[i]=s)}return t}const WT=[...hf].reverse(),$T=hf.length;function KT(e){return t=>Promise.all(t.map(({animation:n,options:i})=>Uw(e,n,i)))}function GT(e){let t=KT(e),n=Zm(),i=!0;const s=l=>(c,u)=>{var d;const f=nc(e,u,l==="exit"?(d=e.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(f){const{transition:p,transitionEnd:m,...g}=f;c={...c,...g,...m}}return c};function r(l){t=l(e)}function o(l){const{props:c}=e,u=Bw(e.parent)||{},d=[],f=new Set;let p={},m=1/0;for(let b=0;b<$T;b++){const y=WT[b],w=n[y],S=c[y]!==void 0?c[y]:u[y],E=lo(S),k=y===l?w.isActive:null;k===!1&&(m=b);let N=S===u[y]&&S!==c[y]&&E;if(N&&i&&e.manuallyAnimateOnMount&&(N=!1),w.protectedKeys={...p},!w.isActive&&k===null||!S&&!w.prevProp||tc(S)||typeof S=="boolean")continue;const j=YT(w.prevProp,S);let P=j||y===l&&w.isActive&&!N&&E||b>m&&E,R=!1;const F=Array.isArray(S)?S:[S];let D=F.reduce(s(y),{});k===!1&&(D={});const{prevResolvedValues:B={}}=w,V={...B,...D},Z=Q=>{P=!0,f.has(Q)&&(R=!0,f.delete(Q)),w.needsAnimating[Q]=!0;const U=e.getValue(Q);U&&(U.liveStyle=!1)};for(const Q in V){const U=D[Q],$=B[Q];if(p.hasOwnProperty(Q))continue;let W=!1;wd(U)&&wd($)?W=!ew(U,$):W=U!==$,W?U!=null?Z(Q):f.add(Q):U!==void 0&&f.has(Q)?Z(Q):w.protectedKeys[Q]=!0}w.prevProp=S,w.prevResolvedValues=D,w.isActive&&(p={...p,...D}),i&&e.blockInitialAnimation&&(P=!1),P&&(!(N&&j)||R)&&d.push(...F.map(Q=>({animation:Q,options:{type:y}})))}if(f.size){const b={};f.forEach(y=>{const w=e.getBaseTarget(y),S=e.getValue(y);S&&(S.liveStyle=!0),b[y]=w??null}),d.push({animation:b})}let g=!!d.length;return i&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(g=!1),i=!1,g?t(d):Promise.resolve()}function a(l,c){var u;if(n[l].isActive===c)return Promise.resolve();(u=e.variantChildren)===null||u===void 0||u.forEach(f=>{var p;return(p=f.animationState)===null||p===void 0?void 0:p.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:r,getState:()=>n,reset:()=>{n=Zm(),i=!0}}}function YT(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!ew(t,e):!1}function vi(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Zm(){return{animate:vi(!0),whileInView:vi(),whileHover:vi(),whileTap:vi(),whileDrag:vi(),whileFocus:vi(),exit:vi()}}class mi{constructor(t){this.isMounted=!1,this.node=t}update(){}}class qT extends mi{constructor(t){super(t),t.animationState||(t.animationState=GT(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();tc(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let XT=0;class JT extends mi{constructor(){super(...arguments),this.id=XT++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const QT={animation:{Feature:qT},exit:{Feature:JT}},Vw=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function sc(e,t="page"){return{point:{x:e[`${t}X`],y:e[`${t}Y`]}}}const ZT=e=>t=>Vw(t)&&e(t,sc(t));function bn(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}function kn(e,t,n,i){return bn(e,t,ZT(n),i)}const eg=(e,t)=>Math.abs(e-t);function ek(e,t){const n=eg(e.x,t.x),i=eg(e.y,t.y);return Math.sqrt(n**2+i**2)}class zw{constructor(t,n,{transformPagePoint:i,contextWindow:s,dragSnapToOrigin:r=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=nu(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=ek(d.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:m}=d,{timestamp:g}=ze;this.history.push({...m,timestamp:g});const{onStart:b,onMove:y}=this.handlers;f||(b&&b(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=tu(f,this.transformPagePoint),de.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:p,onSessionEnd:m,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=nu(d.type==="pointercancel"?this.lastMoveEventInfo:tu(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(d,b),m&&m(d,b)},!Vw(t))return;this.dragSnapToOrigin=r,this.handlers=n,this.transformPagePoint=i,this.contextWindow=s||window;const o=sc(t),a=tu(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=ze;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(t,nu(a,this.history)),this.removeListeners=Tn(kn(this.contextWindow,"pointermove",this.handlePointerMove),kn(this.contextWindow,"pointerup",this.handlePointerUp),kn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ai(this.updatePoint)}}function tu(e,t){return t?{point:t(e.point)}:e}function tg(e,t){return{x:e.x-t.x,y:e.y-t.y}}function nu({point:e},t){return{point:e,delta:tg(e,Hw(t)),offset:tg(e,tk(t)),velocity:nk(t,.1)}}function tk(e){return e[0]}function Hw(e){return e[e.length-1]}function nk(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const s=Hw(e);for(;n>=0&&(i=e[n],!(s.timestamp-i.timestamp>an(t)));)n--;if(!i)return{x:0,y:0};const r=En(s.timestamp-i.timestamp);if(r===0)return{x:0,y:0};const o={x:(s.x-i.x)/r,y:(s.y-i.y)/r};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Ww(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const ng=Ww("dragHorizontal"),ig=Ww("dragVertical");function $w(e){let t=!1;if(e==="y")t=ig();else if(e==="x")t=ng();else{const n=ng(),i=ig();n&&i?t=()=>{n(),i()}:(n&&n(),i&&i())}return t}function Kw(){const e=$w(!0);return e?(e(),!1):!0}function vs(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}const Gw=1e-4,ik=1-Gw,sk=1+Gw,Yw=.01,rk=0-Yw,ok=0+Yw;function bt(e){return e.max-e.min}function ak(e,t,n){return Math.abs(e-t)<=n}function sg(e,t,n,i=.5){e.origin=i,e.originPoint=_e(t.min,t.max,e.origin),e.scale=bt(n)/bt(t),e.translate=_e(n.min,n.max,e.origin)-e.originPoint,(e.scale>=ik&&e.scale<=sk||isNaN(e.scale))&&(e.scale=1),(e.translate>=rk&&e.translate<=ok||isNaN(e.translate))&&(e.translate=0)}function Or(e,t,n,i){sg(e.x,t.x,n.x,i?i.originX:void 0),sg(e.y,t.y,n.y,i?i.originY:void 0)}function rg(e,t,n){e.min=n.min+t.min,e.max=e.min+bt(t)}function lk(e,t,n){rg(e.x,t.x,n.x),rg(e.y,t.y,n.y)}function og(e,t,n){e.min=t.min-n.min,e.max=e.min+bt(t)}function Ur(e,t,n){og(e.x,t.x,n.x),og(e.y,t.y,n.y)}function ck(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?_e(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?_e(n,e,i.max):Math.min(e,n)),e}function ag(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function uk(e,{top:t,left:n,bottom:i,right:s}){return{x:ag(e.x,n,s),y:ag(e.y,t,i)}}function lg(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function dk(e,t){return{x:lg(e.x,t.x),y:lg(e.y,t.y)}}function hk(e,t){let n=.5;const i=bt(e),s=bt(t);return s>i?n=Bs(t.min,t.max-i,e.min):i>s&&(n=Bs(e.min,e.max-s,t.min)),li(0,1,n)}function fk(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Nd=.35;function pk(e=Nd){return e===!1?e=0:e===!0&&(e=Nd),{x:cg(e,"left","right"),y:cg(e,"top","bottom")}}function cg(e,t,n){return{min:ug(e,t),max:ug(e,n)}}function ug(e,t){return typeof e=="number"?e:e[t]||0}const dg=()=>({translate:0,scale:1,origin:0,originPoint:0}),ws=()=>({x:dg(),y:dg()}),hg=()=>({min:0,max:0}),Ne=()=>({x:hg(),y:hg()});function Pt(e){return[e("x"),e("y")]}function qw({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function mk({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function gk(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function iu(e){return e===void 0||e===1}function jd({scale:e,scaleX:t,scaleY:n}){return!iu(e)||!iu(t)||!iu(n)}function ki(e){return jd(e)||Xw(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Xw(e){return fg(e.x)||fg(e.y)}function fg(e){return e&&e!=="0%"}function El(e,t,n){const i=e-n,s=t*i;return n+s}function pg(e,t,n,i,s){return s!==void 0&&(e=El(e,s,i)),El(e,n,i)+t}function Dd(e,t=0,n=1,i,s){e.min=pg(e.min,t,n,i,s),e.max=pg(e.max,t,n,i,s)}function Jw(e,{x:t,y:n}){Dd(e.x,t.translate,t.scale,t.originPoint),Dd(e.y,n.translate,n.scale,n.originPoint)}const mg=.999999999999,gg=1.0000000000001;function yk(e,t,n,i=!1){const s=n.length;if(!s)return;t.x=t.y=1;let r,o;for(let a=0;a<s;a++){r=n[a],o=r.projectionDelta;const{visualElement:l}=r.options;l&&l.props.style&&l.props.style.display==="contents"||(i&&r.options.layoutScroll&&r.scroll&&r!==r.root&&Ss(e,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Jw(e,o)),i&&ki(r.latestValues)&&Ss(e,r.latestValues))}t.x<gg&&t.x>mg&&(t.x=1),t.y<gg&&t.y>mg&&(t.y=1)}function bs(e,t){e.min=e.min+t,e.max=e.max+t}function yg(e,t,n,i,s=.5){const r=_e(e.min,e.max,s);Dd(e,t,n,r,i)}function Ss(e,t){yg(e.x,t.x,t.scaleX,t.scale,t.originX),yg(e.y,t.y,t.scaleY,t.scale,t.originY)}function Qw(e,t){return qw(gk(e.getBoundingClientRect(),t))}function xk(e,t,n){const i=Qw(e,n),{scroll:s}=t;return s&&(bs(i.x,s.offset.x),bs(i.y,s.offset.y)),i}const Zw=({current:e})=>e?e.ownerDocument.defaultView:null,vk=new WeakMap;class wk{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ne(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(sc(u,"page").point)},r=(u,d)=>{const{drag:f,dragPropagation:p,onDragStart:m}=this.getProps();if(f&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=$w(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Pt(b=>{let y=this.getAxisMotionValue(b).get()||0;if(ln.test(y)){const{projection:w}=this.visualElement;if(w&&w.layout){const S=w.layout.layoutBox[b];S&&(y=bt(S)*(parseFloat(y)/100))}}this.originPoint[b]=y}),m&&de.postRender(()=>m(u,d)),Pd(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(u,d)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:m,onDrag:g}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:b}=d;if(p&&this.currentDirection===null){this.currentDirection=bk(b),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",d.point,b),this.updateAxis("y",d.point,b),this.visualElement.render(),g&&g(u,d)},a=(u,d)=>this.stop(u,d),l=()=>Pt(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new zw(t,{onSessionStart:s,onStart:r,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:Zw(this.visualElement)})}stop(t,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:r}=this.getProps();r&&de.postRender(()=>r(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,i){const{drag:s}=this.getProps();if(!i||!aa(t,s,this.currentDirection))return;const r=this.getAxisMotionValue(t);let o=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(o=ck(o,this.constraints[t],this.elastic[t])),r.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:i}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,r=this.constraints;n&&vs(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=uk(s.layoutBox,n):this.constraints=!1,this.elastic=pk(i),r!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Pt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=fk(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!vs(t))return!1;const i=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const r=xk(i,s.root,this.visualElement.getTransformPagePoint());let o=dk(s.layout.layoutBox,r);if(n){const a=n(mk(o));this.hasMutatedConstraints=!!a,a&&(o=qw(a))}return o}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:r,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Pt(u=>{if(!aa(u,n,this.currentDirection))return;let d=l&&l[u]||{};o&&(d={min:0,max:0});const f=s?200:1e6,p=s?40:1e7,m={type:"inertia",velocity:i?t[u]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...r,...d};return this.startAxisValueAnimation(u,m)});return Promise.all(c).then(a)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return Pd(this.visualElement,t),i.start(Af(t,i,0,n,this.visualElement,!1))}stopAnimation(){Pt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Pt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),s=i[n];return s||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Pt(n=>{const{drag:i}=this.getProps();if(!aa(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,r=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];r.set(t[n]-_e(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!vs(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Pt(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=hk({min:l,max:l},this.constraints[o])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Pt(o=>{if(!aa(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(_e(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;vk.set(this.visualElement,this);const t=this.visualElement.current,n=kn(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();vs(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,r=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),de.read(i);const o=bn(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Pt(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),r(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:r=!1,dragElastic:o=Nd,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:r,dragElastic:o,dragMomentum:a}}}function aa(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function bk(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Sk extends mi{constructor(t){super(t),this.removeGroupControls=We,this.removeListeners=We,this.controls=new wk(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||We}unmount(){this.removeGroupControls(),this.removeListeners()}}const xg=e=>(t,n)=>{e&&de.postRender(()=>e(t,n))};class _k extends mi{constructor(){super(...arguments),this.removePointerDownListener=We}onPointerDown(t){this.session=new zw(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Zw(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:xg(t),onStart:xg(n),onMove:i,onEnd:(r,o)=>{delete this.session,s&&de.postRender(()=>s(r,o))}}}mount(){this.removePointerDownListener=kn(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const rc=C.createContext(null);function Ck(){const e=C.useContext(rc);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:i}=e,s=C.useId();C.useEffect(()=>i(s),[]);const r=C.useCallback(()=>n&&n(s),[s,n]);return!t&&n?[!1,r]:[!0]}const If=C.createContext({}),e1=C.createContext({}),Va={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function vg(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const dr={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Y.test(e))e=parseFloat(e);else return e;const n=vg(e,t.target.x),i=vg(e,t.target.y);return`${n}% ${i}%`}},Ek={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,s=ci.parse(e);if(s.length>5)return i;const r=ci.createTransformer(e),o=typeof s[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;s[0+o]/=a,s[1+o]/=l;const c=_e(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),r(s)}},Tl={};function Tk(e){Object.assign(Tl,e)}const{schedule:Lf,cancel:fF}=tw(queueMicrotask,!1);class kk extends C.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:r}=t;Tk(Pk),r&&(n.group&&n.group.add(r),i&&i.register&&s&&i.register(r),r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),Va.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:s,isPresent:r}=this.props,o=i.projection;return o&&(o.isPresent=r,s||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==r&&(r?o.promote():o.relegate()||de.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Lf.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function t1(e){const[t,n]=Ck(),i=C.useContext(If);return h.jsx(kk,{...e,layoutGroup:i,switchLayoutGroup:C.useContext(e1),isPresent:t,safeToRemove:n})}const Pk={borderRadius:{...dr,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:dr,borderTopRightRadius:dr,borderBottomLeftRadius:dr,borderBottomRightRadius:dr,boxShadow:Ek},n1=["TopLeft","TopRight","BottomLeft","BottomRight"],Ak=n1.length,wg=e=>typeof e=="string"?parseFloat(e):e,bg=e=>typeof e=="number"||Y.test(e);function Nk(e,t,n,i,s,r){s?(e.opacity=_e(0,n.opacity!==void 0?n.opacity:1,jk(i)),e.opacityExit=_e(t.opacity!==void 0?t.opacity:1,0,Dk(i))):r&&(e.opacity=_e(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let o=0;o<Ak;o++){const a=`border${n1[o]}Radius`;let l=Sg(t,a),c=Sg(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||bg(l)===bg(c)?(e[a]=Math.max(_e(wg(l),wg(c),i),0),(ln.test(c)||ln.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||n.rotate)&&(e.rotate=_e(t.rotate||0,n.rotate||0,i))}function Sg(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const jk=i1(0,.5,lw),Dk=i1(.5,.95,We);function i1(e,t,n){return i=>i<e?0:i>t?1:n(Bs(e,t,i))}function _g(e,t){e.min=t.min,e.max=t.max}function Et(e,t){_g(e.x,t.x),_g(e.y,t.y)}function Cg(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Eg(e,t,n,i,s){return e-=t,e=El(e,1/n,i),s!==void 0&&(e=El(e,1/s,i)),e}function Mk(e,t=0,n=1,i=.5,s,r=e,o=e){if(ln.test(t)&&(t=parseFloat(t),t=_e(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=_e(r.min,r.max,i);e===r&&(a-=t),e.min=Eg(e.min,t,n,a,s),e.max=Eg(e.max,t,n,a,s)}function Tg(e,t,[n,i,s],r,o){Mk(e,t[n],t[i],t[s],t.scale,r,o)}const Rk=["x","scaleX","originX"],Ik=["y","scaleY","originY"];function kg(e,t,n,i){Tg(e.x,t,Rk,n?n.x:void 0,i?i.x:void 0),Tg(e.y,t,Ik,n?n.y:void 0,i?i.y:void 0)}function Pg(e){return e.translate===0&&e.scale===1}function s1(e){return Pg(e.x)&&Pg(e.y)}function Ag(e,t){return e.min===t.min&&e.max===t.max}function Lk(e,t){return Ag(e.x,t.x)&&Ag(e.y,t.y)}function Ng(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function r1(e,t){return Ng(e.x,t.x)&&Ng(e.y,t.y)}function jg(e){return bt(e.x)/bt(e.y)}function Dg(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Fk{constructor(){this.members=[]}add(t){Nf(this.members,t),t.scheduleRender()}remove(t){if(jf(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const r=this.members[s];if(r.isPresent!==!1){i=r;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Ok(e,t,n){let i="";const s=e.x.translate/t.x,r=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||r||o)&&(i=`translate3d(${s}px, ${r}px, ${o}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:f,skewX:p,skewY:m}=n;c&&(i=`perspective(${c}px) ${i}`),u&&(i+=`rotate(${u}deg) `),d&&(i+=`rotateX(${d}deg) `),f&&(i+=`rotateY(${f}deg) `),p&&(i+=`skewX(${p}deg) `),m&&(i+=`skewY(${m}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(i+=`scale(${a}, ${l})`),i||"none"}const Uk=(e,t)=>e.depth-t.depth;class Bk{constructor(){this.children=[],this.isDirty=!1}add(t){Nf(this.children,t),this.isDirty=!0}remove(t){jf(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Uk),this.isDirty=!1,this.children.forEach(t)}}function za(e){const t=Qe(e)?e.get():e;return MT(t)?t.toValue():t}function Vk(e,t){const n=cn.now(),i=({timestamp:s})=>{const r=s-n;r>=t&&(ai(i),e(r-t))};return de.read(i,!0),()=>ai(i)}function zk(e){return e instanceof SVGElement&&e.tagName!=="svg"}function Hk(e,t,n){const i=Qe(e)?e:ho(e);return i.start(Af("",i,t,n)),i.animation}const Pi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},_r=typeof window<"u"&&window.MotionDebug!==void 0,su=["","X","Y","Z"],Wk={visibility:"hidden"},Mg=1e3;let $k=0;function ru(e,t,n,i){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),i&&(i[e]=0))}function o1(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Fw(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",de,!(s||r))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&o1(i)}function a1({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(o={},a=t==null?void 0:t()){this.id=$k++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,_r&&(Pi.totalNodes=Pi.resolvedTargetDeltas=Pi.recalculatedProjection=0),this.nodes.forEach(Yk),this.nodes.forEach(Zk),this.nodes.forEach(eP),this.nodes.forEach(qk),_r&&window.MotionDebug.record(Pi)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Bk)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Df),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=zk(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),e){let d;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=Vk(f,250),Va.hasAnimatedSinceResize&&(Va.hasAnimatedSinceResize=!1,this.nodes.forEach(Ig))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||rP,{onLayoutAnimationStart:b,onLayoutAnimationComplete:y}=u.getProps(),w=!this.targetLayout||!r1(this.targetLayout,m)||p,S=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||f&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,S);const E={...pf(g,"layout"),onPlay:b,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E)}else f||Ig(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ai(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(tP),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&o1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Rg);return}this.isUpdating||this.nodes.forEach(Jk),this.isUpdating=!1,this.nodes.forEach(Qk),this.nodes.forEach(Kk),this.nodes.forEach(Gk),this.clearAllSnapshots();const a=cn.now();ze.delta=li(0,1e3/60,a-ze.timestamp),ze.timestamp=a,ze.isProcessing=!0,Xc.update.process(ze),Xc.preRender.process(ze),Xc.render.process(ze),ze.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Lf.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Xk),this.sharedNodes.forEach(nP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,de.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){de.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ne(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!s1(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||ki(this.latestValues)||u)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),oP(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Ne();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(aP))){const{scroll:u}=this.root;u&&(bs(l.x,u.offset.x),bs(l.y,u.offset.y))}return l}removeElementScroll(o){var a;const l=Ne();if(Et(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;u!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&Et(l,o),bs(l.x,d.offset.x),bs(l.y,d.offset.y))}return l}applyTransform(o,a=!1){const l=Ne();Et(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Ss(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),ki(u.latestValues)&&Ss(l,u.latestValues)}return ki(this.latestValues)&&Ss(l,this.latestValues),l}removeTransform(o){const a=Ne();Et(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!ki(c.latestValues))continue;jd(c.latestValues)&&c.updateSnapshot();const u=Ne(),d=c.measurePageBox();Et(u,d),kg(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return ki(this.latestValues)&&kg(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ze.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=ze.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ne(),this.relativeTargetOrigin=Ne(),Ur(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Et(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ne(),this.targetWithTransforms=Ne()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),lk(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Et(this.target,this.layout.layoutBox),Jw(this.target,this.targetDelta)):Et(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ne(),this.relativeTargetOrigin=Ne(),Ur(this.relativeTargetOrigin,this.target,p.target),Et(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}_r&&Pi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||jd(this.parent.latestValues)||Xw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ze.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Et(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;yk(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Ne());const{target:m}=a;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Cg(this.prevProjectionDelta.x,this.projectionDelta.x),Cg(this.prevProjectionDelta.y,this.projectionDelta.y)),Or(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!Dg(this.projectionDelta.x,this.prevProjectionDelta.x)||!Dg(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),_r&&Pi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ws(),this.projectionDelta=ws(),this.projectionDeltaWithTransform=ws()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=ws();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Ne(),p=l?l.source:void 0,m=this.layout?this.layout.source:void 0,g=p!==m,b=this.getStack(),y=!b||b.members.length<=1,w=!!(g&&!y&&this.options.crossfade===!0&&!this.path.some(sP));this.animationProgress=0;let S;this.mixTargetDelta=E=>{const k=E/1e3;Lg(d.x,o.x,k),Lg(d.y,o.y,k),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ur(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),iP(this.relativeTarget,this.relativeTargetOrigin,f,k),S&&Lk(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=Ne()),Et(S,this.relativeTarget)),g&&(this.animationValues=u,Nk(u,c,this.latestValues,k,w,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ai(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=de.update(()=>{Va.hasAnimatedSinceResize=!0,this.currentAnimation=Hk(0,Mg,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Mg),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&l1(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Ne();const d=bt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const f=bt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}Et(a,l),Ss(a,u),Or(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Fk),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&ru("z",o,c,this.animationValues);for(let u=0;u<su.length;u++)ru(`rotate${su[u]}`,o,c,this.animationValues),ru(`skew${su[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Wk;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=za(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=za(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ki(this.latestValues)&&(g.transform=u?u({},""):"none",this.hasProjected=!1),g}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=Ok(this.projectionDeltaWithTransform,this.treeScale,f),u&&(c.transform=u(f,c.transform));const{x:p,y:m}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const g in Tl){if(f[g]===void 0)continue;const{correct:b,applyTo:y}=Tl[g],w=c.transform==="none"?f[g]:b(f[g],d);if(y){const S=y.length;for(let E=0;E<S;E++)c[y[E]]=w}else c[g]=w}return this.options.layoutId&&(c.pointerEvents=d===this?za(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Rg),this.root.sharedNodes.clear()}}}function Kk(e){e.updateLayout()}function Gk(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=e.layout,{animationType:r}=e.options,o=n.source!==e.layout.source;r==="size"?Pt(d=>{const f=o?n.measuredBox[d]:n.layoutBox[d],p=bt(f);f.min=i[d].min,f.max=f.min+p}):l1(r,n.layoutBox,i)&&Pt(d=>{const f=o?n.measuredBox[d]:n.layoutBox[d],p=bt(i[d]);f.max=f.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+p)});const a=ws();Or(a,i,n.layoutBox);const l=ws();o?Or(l,e.applyTransform(s,!0),n.measuredBox):Or(l,i,n.layoutBox);const c=!s1(a);let u=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:p}=d;if(f&&p){const m=Ne();Ur(m,n.layoutBox,f.layoutBox);const g=Ne();Ur(g,i,p.layoutBox),r1(m,g)||(u=!0),d.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=m,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:i}=e.options;i&&i()}e.options.transition=void 0}function Yk(e){_r&&Pi.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function qk(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Xk(e){e.clearSnapshot()}function Rg(e){e.clearMeasurements()}function Jk(e){e.isLayoutDirty=!1}function Qk(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Ig(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Zk(e){e.resolveTargetDelta()}function eP(e){e.calcProjection()}function tP(e){e.resetSkewAndRotation()}function nP(e){e.removeLeadSnapshot()}function Lg(e,t,n){e.translate=_e(t.translate,0,n),e.scale=_e(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Fg(e,t,n,i){e.min=_e(t.min,n.min,i),e.max=_e(t.max,n.max,i)}function iP(e,t,n,i){Fg(e.x,t.x,n.x,i),Fg(e.y,t.y,n.y,i)}function sP(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const rP={duration:.45,ease:[.4,0,.1,1]},Og=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Ug=Og("applewebkit/")&&!Og("chrome/")?Math.round:We;function Bg(e){e.min=Ug(e.min),e.max=Ug(e.max)}function oP(e){Bg(e.x),Bg(e.y)}function l1(e,t,n){return e==="position"||e==="preserve-aspect"&&!ak(jg(t),jg(n),.2)}function aP(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const lP=a1({attachResizeListener:(e,t)=>bn(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ou={current:void 0},c1=a1({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ou.current){const e=new lP({});e.mount(window),e.setOptions({layoutScroll:!0}),ou.current=e}return ou.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),cP={pan:{Feature:_k},drag:{Feature:Sk,ProjectionNode:c1,MeasureLayout:t1}};function Vg(e,t){const n=t?"pointerenter":"pointerleave",i=t?"onHoverStart":"onHoverEnd",s=(r,o)=>{if(r.pointerType==="touch"||Kw())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t);const l=a[i];l&&de.postRender(()=>l(r,o))};return kn(e.current,n,s,{passive:!e.getProps()[i]})}class uP extends mi{mount(){this.unmount=Tn(Vg(this.node,!0),Vg(this.node,!1))}unmount(){}}class dP extends mi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Tn(bn(this.node.current,"focus",()=>this.onFocus()),bn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const u1=(e,t)=>t?e===t?!0:u1(e,t.parentElement):!1;function au(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,sc(n))}class hP extends mi{constructor(){super(...arguments),this.removeStartListeners=We,this.removeEndListeners=We,this.removeAccessibleListeners=We,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const i=this.node.getProps(),r=kn(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:d}=this.node.getProps(),f=!d&&!u1(this.node.current,a.target)?u:c;f&&de.update(()=>f(a,l))},{passive:!(i.onTap||i.onPointerUp)}),o=kn(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(i.onTapCancel||i.onPointerCancel)});this.removeEndListeners=Tn(r,o),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=r=>{if(r.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||au("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&de.postRender(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=bn(this.node.current,"keyup",o),au("down",(a,l)=>{this.startPress(a,l)})},n=bn(this.node.current,"keydown",t),i=()=>{this.isPressing&&au("cancel",(r,o)=>this.cancelPress(r,o))},s=bn(this.node.current,"blur",i);this.removeAccessibleListeners=Tn(n,s)}}startPress(t,n){this.isPressing=!0;const{onTapStart:i,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),i&&de.postRender(()=>i(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Kw()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:i}=this.node.getProps();i&&de.postRender(()=>i(t,n))}mount(){const t=this.node.getProps(),n=kn(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),i=bn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Tn(n,i)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Md=new WeakMap,lu=new WeakMap,fP=e=>{const t=Md.get(e.target);t&&t(e)},pP=e=>{e.forEach(fP)};function mP({root:e,...t}){const n=e||document;lu.has(n)||lu.set(n,{});const i=lu.get(n),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver(pP,{root:e,...t})),i[s]}function gP(e,t,n){const i=mP(t);return Md.set(e,n),i.observe(e),()=>{Md.delete(e),i.unobserve(e)}}const yP={some:0,all:1};class xP extends mi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:r}=t,o={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:yP[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,r&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),f=c?u:d;f&&f(l)};return gP(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(vP(t,n))&&this.startObserver()}unmount(){}}function vP({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const wP={inView:{Feature:xP},tap:{Feature:hP},focus:{Feature:dP},hover:{Feature:uP}},bP={layout:{ProjectionNode:c1,MeasureLayout:t1}},Ff=C.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),oc=C.createContext({}),Of=typeof window<"u",Uf=Of?C.useLayoutEffect:C.useEffect,d1=C.createContext({strict:!1});function SP(e,t,n,i,s){var r,o;const{visualElement:a}=C.useContext(oc),l=C.useContext(d1),c=C.useContext(rc),u=C.useContext(Ff).reducedMotion,d=C.useRef();i=i||l.renderer,!d.current&&i&&(d.current=i(e,{visualState:t,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const f=d.current,p=C.useContext(e1);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&_P(d.current,n,s,p);const m=C.useRef(!1);C.useInsertionEffect(()=>{f&&m.current&&f.update(n,c)});const g=n[Lw],b=C.useRef(!!g&&!(!((r=window.MotionHandoffIsComplete)===null||r===void 0)&&r.call(window,g))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,g)));return Uf(()=>{f&&(m.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),Lf.render(f.render),b.current&&f.animationState&&f.animationState.animateChanges())}),C.useEffect(()=>{f&&(!b.current&&f.animationState&&f.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)===null||y===void 0||y.call(window,g)}),b.current=!1))}),f}function _P(e,t,n,i){const{layoutId:s,layout:r,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:h1(e.parent)),e.projection.setOptions({layoutId:s,layout:r,alwaysMeasureLayout:!!o||a&&vs(a),visualElement:e,animationType:typeof r=="string"?r:"both",initialPromotionConfig:i,layoutScroll:l,layoutRoot:c})}function h1(e){if(e)return e.options.allowProjection!==!1?e.projection:h1(e.parent)}function CP(e,t,n){return C.useCallback(i=>{i&&e.mount&&e.mount(i),t&&(i?t.mount(i):t.unmount()),n&&(typeof n=="function"?n(i):vs(n)&&(n.current=i))},[t])}function ac(e){return tc(e.animate)||ff.some(t=>lo(e[t]))}function f1(e){return!!(ac(e)||e.variants)}function EP(e,t){if(ac(e)){const{initial:n,animate:i}=e;return{initial:n===!1||lo(n)?n:void 0,animate:lo(i)?i:void 0}}return e.inherit!==!1?t:{}}function TP(e){const{initial:t,animate:n}=EP(e,C.useContext(oc));return C.useMemo(()=>({initial:t,animate:n}),[zg(t),zg(n)])}function zg(e){return Array.isArray(e)?e.join(" "):e}const Hg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Vs={};for(const e in Hg)Vs[e]={isEnabled:t=>Hg[e].some(n=>!!t[n])};function kP(e){for(const t in e)Vs[t]={...Vs[t],...e[t]}}const PP=Symbol.for("motionComponentSymbol");function AP({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:i,Component:s}){e&&kP(e);function r(a,l){let c;const u={...C.useContext(Ff),...a,layoutId:NP(a)},{isStatic:d}=u,f=TP(a),p=i(a,d);if(!d&&Of){jP();const m=DP(u);c=m.MeasureLayout,f.visualElement=SP(s,p,u,t,m.ProjectionNode)}return h.jsxs(oc.Provider,{value:f,children:[c&&f.visualElement?h.jsx(c,{visualElement:f.visualElement,...u}):null,n(s,a,CP(p,f.visualElement,l),p,d,f.visualElement)]})}const o=C.forwardRef(r);return o[PP]=s,o}function NP({layoutId:e}){const t=C.useContext(If).id;return t&&e!==void 0?t+"-"+e:e}function jP(e,t){C.useContext(d1).strict}function DP(e){const{drag:t,layout:n}=Vs;if(!t&&!n)return{};const i={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const MP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Bf(e){return typeof e!="string"||e.includes("-")?!1:!!(MP.indexOf(e)>-1||/[A-Z]/u.test(e))}function p1(e,{style:t,vars:n},i,s){Object.assign(e.style,t,s&&s.getProjectionStyles(i));for(const r in n)e.style.setProperty(r,n[r])}const m1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function g1(e,t,n,i){p1(e,t,void 0,i);for(const s in t.attrs)e.setAttribute(m1.has(s)?s:Rf(s),t.attrs[s])}function y1(e,{layout:t,layoutId:n}){return Qi.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Tl[e]||e==="opacity")}function Vf(e,t,n){var i;const{style:s}=e,r={};for(const o in s)(Qe(s[o])||t.style&&Qe(t.style[o])||y1(o,e)||((i=n==null?void 0:n.getValue(o))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(r[o]=s[o]);return r}function x1(e,t,n){const i=Vf(e,t,n);for(const s in e)if(Qe(e[s])||Qe(t[s])){const r=Mo.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[r]=e[s]}return i}function lc(e){const t=C.useRef(null);return t.current===null&&(t.current=e()),t.current}function RP({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},i,s,r){const o={latestValues:IP(i,s,r,e),renderState:t()};return n&&(o.mount=a=>n(i,a,o)),o}const v1=e=>(t,n)=>{const i=C.useContext(oc),s=C.useContext(rc),r=()=>RP(e,t,i,s);return n?r():lc(r)};function IP(e,t,n,i){const s={},r=i(e,{});for(const f in r)s[f]=za(r[f]);let{initial:o,animate:a}=e;const l=ac(e),c=f1(e);t&&c&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const d=u?a:o;if(d&&typeof d!="boolean"&&!tc(d)){const f=Array.isArray(d)?d:[d];for(let p=0;p<f.length;p++){const m=df(e,f[p]);if(m){const{transitionEnd:g,transition:b,...y}=m;for(const w in y){let S=y[w];if(Array.isArray(S)){const E=u?S.length-1:0;S=S[E]}S!==null&&(s[w]=S)}for(const w in g)s[w]=g[w]}}}return s}const zf=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),w1=()=>({...zf(),attrs:{}}),b1=(e,t)=>t&&typeof e=="number"?t.transform(e):e,LP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},FP=Mo.length;function OP(e,t,n){let i="",s=!0;for(let r=0;r<FP;r++){const o=Mo[r],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=b1(a,Sf[o]);if(!l){s=!1;const u=LP[o]||o;i+=`${u}(${c}) `}n&&(t[o]=c)}}return i=i.trim(),n?i=n(t,s?"":i):s&&(i="none"),i}function Hf(e,t,n){const{style:i,vars:s,transformOrigin:r}=e;let o=!1,a=!1;for(const l in t){const c=t[l];if(Qi.has(l)){o=!0;continue}else if(fw(l)){s[l]=c;continue}else{const u=b1(c,Sf[l]);l.startsWith("origin")?(a=!0,r[l]=u):i[l]=u}}if(t.transform||(o||n?i.transform=OP(t,e.transform,n):i.transform&&(i.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=r;i.transformOrigin=`${l} ${c} ${u}`}}function Wg(e,t,n){return typeof e=="string"?e:Y.transform(t+n*e)}function UP(e,t,n){const i=Wg(t,e.x,e.width),s=Wg(n,e.y,e.height);return`${i} ${s}`}const BP={offset:"stroke-dashoffset",array:"stroke-dasharray"},VP={offset:"strokeDashoffset",array:"strokeDasharray"};function zP(e,t,n=1,i=0,s=!0){e.pathLength=1;const r=s?BP:VP;e[r.offset]=Y.transform(-i);const o=Y.transform(t),a=Y.transform(n);e[r.array]=`${o} ${a}`}function Wf(e,{attrX:t,attrY:n,attrScale:i,originX:s,originY:r,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,d){if(Hf(e,c,d),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:p,dimensions:m}=e;f.transform&&(m&&(p.transform=f.transform),delete f.transform),m&&(s!==void 0||r!==void 0||p.transform)&&(p.transformOrigin=UP(m,s!==void 0?s:.5,r!==void 0?r:.5)),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),i!==void 0&&(f.scale=i),o!==void 0&&zP(f,o,a,l,!1)}const $f=e=>typeof e=="string"&&e.toLowerCase()==="svg",HP={useVisualState:v1({scrapeMotionValuesFromProps:x1,createRenderState:w1,onMount:(e,t,{renderState:n,latestValues:i})=>{de.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),de.render(()=>{Wf(n,i,$f(t.tagName),e.transformTemplate),g1(t,n)})}})},WP={useVisualState:v1({scrapeMotionValuesFromProps:Vf,createRenderState:zf})};function S1(e,t,n){for(const i in t)!Qe(t[i])&&!y1(i,n)&&(e[i]=t[i])}function $P({transformTemplate:e},t){return C.useMemo(()=>{const n=zf();return Hf(n,t,e),Object.assign({},n.vars,n.style)},[t])}function KP(e,t){const n=e.style||{},i={};return S1(i,n,e),Object.assign(i,$P(e,t)),i}function GP(e,t){const n={},i=KP(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const YP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function kl(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||YP.has(e)}let _1=e=>!kl(e);function qP(e){e&&(_1=t=>t.startsWith("on")?!kl(t):e(t))}try{qP(require("@emotion/is-prop-valid").default)}catch{}function XP(e,t,n){const i={};for(const s in e)s==="values"&&typeof e.values=="object"||(_1(s)||n===!0&&kl(s)||!t&&!kl(s)||e.draggable&&s.startsWith("onDrag"))&&(i[s]=e[s]);return i}function JP(e,t,n,i){const s=C.useMemo(()=>{const r=w1();return Wf(r,t,$f(i),e.transformTemplate),{...r.attrs,style:{...r.style}}},[t]);if(e.style){const r={};S1(r,e.style,e),s.style={...r,...s.style}}return s}function QP(e=!1){return(n,i,s,{latestValues:r},o)=>{const l=(Bf(n)?JP:GP)(i,r,o,n),c=XP(i,typeof n=="string",e),u=n!==C.Fragment?{...c,...l,ref:s}:{},{children:d}=i,f=C.useMemo(()=>Qe(d)?d.get():d,[d]);return C.createElement(n,{...u,children:f})}}function ZP(e,t){return function(i,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...Bf(i)?HP:WP,preloadedFeatures:e,useRender:QP(s),createVisualElement:t,Component:i};return AP(o)}}const Rd={current:null},C1={current:!1};function eA(){if(C1.current=!0,!!Of)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Rd.current=e.matches;e.addListener(t),t()}else Rd.current=!1}function tA(e,t,n){for(const i in t){const s=t[i],r=n[i];if(Qe(s))e.addValue(i,s);else if(Qe(r))e.addValue(i,ho(s,{owner:e}));else if(r!==s)if(e.hasValue(i)){const o=e.getValue(i);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(i);e.addValue(i,ho(o!==void 0?o:s,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const $g=new WeakMap,nA=[...gw,Xe,ci],iA=e=>nA.find(mw(e)),Kg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class sA{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:r,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=vf,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=cn.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,de.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!r,this.isControllingVariants=ac(n),this.isVariantNode=f1(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in d){const p=d[f];l[f]!==void 0&&Qe(p)&&p.set(l[f],!1)}}mount(t){this.current=t,$g.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),C1.current||eA(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Rd.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){$g.delete(this.current),this.projection&&this.projection.unmount(),ai(this.notifyUpdate),ai(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=Qi.has(t),s=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&de.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),r=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),r(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Vs){const n=Vs[t];if(!n)continue;const{isEnabled:i,Feature:s}=n;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ne()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<Kg.length;i++){const s=Kg[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const r="on"+s,o=t[r];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=tA(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=ho(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){var i;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(i=this.getBaseTargetFromProps(this.props,t))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(dw(s)||uw(s))?s=parseFloat(s):!iA(s)&&ci.test(n)&&(s=Cw(t,n)),this.setBaseTarget(t,Qe(s)?s.get():s)),Qe(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:i}=this.props;let s;if(typeof i=="string"||typeof i=="object"){const o=df(this.props,i,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[t])}if(i&&s!==void 0)return s;const r=this.getBaseTargetFromProps(this.props,t);return r!==void 0&&!Qe(r)?r:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Df),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class E1 extends sA{constructor(){super(...arguments),this.KeyframeResolver=Ew}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}}function rA(e){return window.getComputedStyle(e)}class oA extends E1{constructor(){super(...arguments),this.type="html",this.renderInstance=p1}readValueFromInstance(t,n){if(Qi.has(n)){const i=_f(n);return i&&i.default||0}else{const i=rA(t),s=(fw(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Qw(t,n)}build(t,n,i){Hf(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return Vf(t,n,i)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Qe(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class aA extends E1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ne}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Qi.has(n)){const i=_f(n);return i&&i.default||0}return n=m1.has(n)?n:Rf(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return x1(t,n,i)}build(t,n,i){Wf(t,n,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,i,s){g1(t,n,i,s)}mount(t){this.isSVGTag=$f(t.tagName),super.mount(t)}}const lA=(e,t)=>Bf(e)?new aA(t):new oA(t,{allowProjection:e!==C.Fragment}),cA=ZP({...QT,...wP,...cP,...bP},lA),ke=W2(cA);class uA extends C.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function dA({children:e,isPresent:t}){const n=C.useId(),i=C.useRef(null),s=C.useRef({width:0,height:0,top:0,left:0}),{nonce:r}=C.useContext(Ff);return C.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=s.current;if(t||!i.current||!o||!a)return;i.current.dataset.motionPopId=n;const u=document.createElement("style");return r&&(u.nonce=r),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),h.jsx(uA,{isPresent:t,childRef:i,sizeRef:s,children:C.cloneElement(e,{ref:i})})}const hA=({children:e,initial:t,isPresent:n,onExitComplete:i,custom:s,presenceAffectsLayout:r,mode:o})=>{const a=lc(fA),l=C.useId(),c=C.useCallback(d=>{a.set(d,!0);for(const f of a.values())if(!f)return;i&&i()},[a,i]),u=C.useMemo(()=>({id:l,initial:t,isPresent:n,custom:s,onExitComplete:c,register:d=>(a.set(d,!1),()=>a.delete(d))}),r?[Math.random(),c]:[n,c]);return C.useMemo(()=>{a.forEach((d,f)=>a.set(f,!1))},[n]),C.useEffect(()=>{!n&&!a.size&&i&&i()},[n]),o==="popLayout"&&(e=h.jsx(dA,{isPresent:n,children:e})),h.jsx(rc.Provider,{value:u,children:e})};function fA(){return new Map}const la=e=>e.key||"";function Gg(e){const t=[];return C.Children.forEach(e,n=>{C.isValidElement(n)&&t.push(n)}),t}const T1=({children:e,exitBeforeEnter:t,custom:n,initial:i=!0,onExitComplete:s,presenceAffectsLayout:r=!0,mode:o="sync"})=>{const a=C.useMemo(()=>Gg(e),[e]),l=a.map(la),c=C.useRef(!0),u=C.useRef(a),d=lc(()=>new Map),[f,p]=C.useState(a),[m,g]=C.useState(a);Uf(()=>{c.current=!1,u.current=a;for(let w=0;w<m.length;w++){const S=la(m[w]);l.includes(S)?d.delete(S):d.get(S)!==!0&&d.set(S,!1)}},[m,l.length,l.join("-")]);const b=[];if(a!==f){let w=[...a];for(let S=0;S<m.length;S++){const E=m[S],k=la(E);l.includes(k)||(w.splice(S,0,E),b.push(E))}o==="wait"&&b.length&&(w=b),g(Gg(w)),p(a);return}const{forceRender:y}=C.useContext(If);return h.jsx(h.Fragment,{children:m.map(w=>{const S=la(w),E=a===m||l.includes(S),k=()=>{if(d.has(S))d.set(S,!0);else return;let N=!0;d.forEach(j=>{j||(N=!1)}),N&&(y==null||y(),g(u.current),s&&s())};return h.jsx(hA,{isPresent:E,initial:!c.current||i?void 0:!1,custom:E?void 0:n,presenceAffectsLayout:r,mode:o,onExitComplete:E?void 0:k,children:w},S)})})};function pA(e,t,n){var i;if(typeof e=="string"){let s=document;t&&(yf(!!t.current),s=t.current),n?((i=n[e])!==null&&i!==void 0||(n[e]=s.querySelectorAll(e)),e=n[e]):e=s.querySelectorAll(e)}else e instanceof Element&&(e=[e]);return Array.from(e||[])}function mA(e){e.values.forEach(t=>t.stop())}function Id(e,t){[...t].reverse().forEach(i=>{const s=e.getVariant(i);s&&Mf(e,s),e.variantChildren&&e.variantChildren.forEach(r=>{Id(r,t)})})}function gA(e,t){if(Array.isArray(t))return Id(e,t);if(typeof t=="string")return Id(e,[t]);Mf(e,t)}function yA(){const e=new Set,t={subscribe(n){return e.add(n),()=>void e.delete(n)},start(n,i){const s=[];return e.forEach(r=>{s.push(Uw(r,n,{transitionOverride:i}))}),Promise.all(s)},set(n){return e.forEach(i=>{gA(i,n)})},stop(){e.forEach(n=>{mA(n)})},mount(){return()=>{t.stop()}}};return t}function xA(){const e=lc(yA);return Uf(e.mount,[]),e}const Kf=xA,vA={some:0,all:1};function wA(e,t,{root:n,margin:i,amount:s="some"}={}){const r=pA(e),o=new WeakMap,a=c=>{c.forEach(u=>{const d=o.get(u.target);if(u.isIntersecting!==!!d)if(u.isIntersecting){const f=t(u);typeof f=="function"?o.set(u.target,f):l.unobserve(u.target)}else d&&(d(u),o.delete(u.target))})},l=new IntersectionObserver(a,{root:n,rootMargin:i,threshold:typeof s=="number"?s:vA[s]});return r.forEach(c=>l.observe(c)),()=>l.disconnect()}function Gf(e,{root:t,margin:n,amount:i,once:s=!1}={}){const[r,o]=C.useState(!1);return C.useEffect(()=>{if(!e.current||s&&r)return;const a=()=>(o(!0),s?void 0:()=>o(!1)),l={root:t&&t.current||void 0,margin:n,amount:i};return wA(e.current,a,l)},[t,e,n,s,i]),r}const Bi={1:"😔",2:"😕",3:"😐",4:"😊",5:"😄"},bA=[{emoji:"😭",mood:1,intensity:8,label:"Very Sad"},{emoji:"😔",mood:1,intensity:5,label:"Sad"},{emoji:"😕",mood:2,intensity:5,label:"Down"},{emoji:"😐",mood:3,intensity:4,label:"Neutral"},{emoji:"🙂",mood:4,intensity:4,label:"Okay"},{emoji:"😊",mood:4,intensity:6,label:"Good"},{emoji:"😄",mood:5,intensity:7,label:"Happy"},{emoji:"🤩",mood:5,intensity:9,label:"Amazing"}],Ld={1:`Very
Weak`,2:"Weak",3:"Light",4:"Mild",5:"Moderate",6:"Strong",7:`Very
Strong`,8:"Intense",9:"Extreme",10:`Over-
whelming`},SA={1:"from-slate-500 to-slate-600",2:"from-orange-400 to-red-500",3:"from-blue-400 to-cyan-500",4:"from-green-400 to-emerald-500",5:"from-pink-400 to-yellow-400"},Fd={work:{emoji:"💼",color:"bg-blue-500/80"},family:{emoji:"👨‍👩‍👧‍👦",color:"bg-green-500/80"},health:{emoji:"🏥",color:"bg-red-500/80"},social:{emoji:"👥",color:"bg-purple-500/80"},sleep:{emoji:"😴",color:"bg-indigo-500/80"},exercise:{emoji:"💪",color:"bg-orange-500/80"},food:{emoji:"🍽️",color:"bg-yellow-500/80"},weather:{emoji:"🌤️",color:"bg-cyan-500/80"},stress:{emoji:"😰",color:"bg-red-600/80"},joy:{emoji:"😊",color:"bg-pink-500/80"},"quick-checkin":{emoji:"⚡",color:"bg-violet-500/80"}},q={REFLECTION:"reflection",GRATITUDE:"gratitude",GOALS:"goals",EMOTIONS:"emotions",GROWTH:"growth",RELATIONSHIPS:"relationships",CREATIVITY:"creativity",WELLNESS:"wellness"},k1={[q.REFLECTION]:[{id:"reflection-1",title:"What happened today?",subtitle:"Capture the key moments from your day",emoji:"📝",placeholder:"Today I...",category:q.REFLECTION},{id:"reflection-2",title:"What surprised you today?",subtitle:"Something unexpected or different",emoji:"😮",placeholder:"I was surprised by...",category:q.REFLECTION},{id:"reflection-3",title:"What did you learn today?",subtitle:"A new insight, skill, or perspective",emoji:"🧠",placeholder:"I learned that...",category:q.REFLECTION},{id:"reflection-4",title:"How did you grow today?",subtitle:"A moment of personal development",emoji:"🌱",placeholder:"I grew by...",category:q.REFLECTION}],[q.GRATITUDE]:[{id:"gratitude-1",title:"What are you grateful for today?",subtitle:"Three things that brought you joy",emoji:"🙏",placeholder:"I'm grateful for...",category:q.GRATITUDE},{id:"gratitude-2",title:"Who made your day better?",subtitle:"Someone who showed kindness or support",emoji:"💝",placeholder:"Today, [person] made my day better by...",category:q.GRATITUDE},{id:"gratitude-3",title:"What small pleasure did you enjoy?",subtitle:"A simple moment that brought happiness",emoji:"✨",placeholder:"I enjoyed...",category:q.GRATITUDE}],[q.GOALS]:[{id:"goals-1",title:"One small win from today",subtitle:"An accomplishment worth celebrating",emoji:"🎯",placeholder:"Today I accomplished...",category:q.GOALS},{id:"goals-2",title:"What's your focus for tomorrow?",subtitle:"Your main priority or intention",emoji:"🚀",placeholder:"Tomorrow I want to focus on...",category:q.GOALS},{id:"goals-3",title:"What progress did you make?",subtitle:"Steps toward a larger goal",emoji:"📈",placeholder:"I made progress on...",category:q.GOALS}],[q.EMOTIONS]:[{id:"emotions-1",title:"What are you feeling right now?",subtitle:"Explore your current emotional state",emoji:"💭",placeholder:"Right now I feel...",category:q.EMOTIONS},{id:"emotions-2",title:"What do you want to let go of?",subtitle:"Something that's been weighing on you",emoji:"🍃",placeholder:"I want to release...",category:q.EMOTIONS},{id:"emotions-3",title:"What brought you peace today?",subtitle:"A moment of calm or tranquility",emoji:"🕊️",placeholder:"I felt peaceful when...",category:q.EMOTIONS},{id:"emotions-4",title:"What challenged you today?",subtitle:"A difficult situation and how you handled it",emoji:"💪",placeholder:"I was challenged by...",category:q.EMOTIONS}],[q.GROWTH]:[{id:"growth-1",title:"How did you step outside your comfort zone?",subtitle:"A moment of courage or risk-taking",emoji:"🦋",placeholder:"I pushed myself by...",category:q.GROWTH},{id:"growth-2",title:"What would you do differently?",subtitle:"A learning opportunity from today",emoji:"🔄",placeholder:"Next time I would...",category:q.GROWTH},{id:"growth-3",title:"What strength did you discover?",subtitle:"A quality or ability you showed today",emoji:"💎",placeholder:"I showed strength by...",category:q.GROWTH}],[q.RELATIONSHIPS]:[{id:"relationships-1",title:"How did you connect with others?",subtitle:"Meaningful interactions or conversations",emoji:"🤝",placeholder:"I connected with others by...",category:q.RELATIONSHIPS},{id:"relationships-2",title:"Who do you want to reach out to?",subtitle:"Someone you'd like to contact or support",emoji:"📞",placeholder:"I want to reach out to...",category:q.RELATIONSHIPS},{id:"relationships-3",title:"How did you show kindness today?",subtitle:"Ways you helped or supported someone",emoji:"💖",placeholder:"I showed kindness by...",category:q.RELATIONSHIPS}],[q.CREATIVITY]:[{id:"creativity-1",title:"What inspired you today?",subtitle:"Something that sparked your imagination",emoji:"💡",placeholder:"I was inspired by...",category:q.CREATIVITY},{id:"creativity-2",title:"What did you create or build?",subtitle:"Something you made, wrote, or designed",emoji:"🎨",placeholder:"Today I created...",category:q.CREATIVITY},{id:"creativity-3",title:"What new idea are you exploring?",subtitle:"A concept or project you're thinking about",emoji:"🌟",placeholder:"I'm exploring the idea of...",category:q.CREATIVITY}],[q.WELLNESS]:[{id:"wellness-1",title:"How did you take care of yourself?",subtitle:"Ways you prioritized your wellbeing",emoji:"🌸",placeholder:"I took care of myself by...",category:q.WELLNESS},{id:"wellness-2",title:"What energized you today?",subtitle:"Something that boosted your mood or energy",emoji:"⚡",placeholder:"I felt energized by...",category:q.WELLNESS},{id:"wellness-3",title:"How did you rest or recharge?",subtitle:"Moments of relaxation or restoration",emoji:"🧘‍♀️",placeholder:"I recharged by...",category:q.WELLNESS}]},Ha=Object.values(k1).flat(),P1=(e=new Date,t=3)=>{const n=Math.floor((e-new Date(e.getFullYear(),0,0))/1e3/60/60/24),i=e.getFullYear()*1e3+n,s=l=>{const c=Math.sin(l)*1e4;return c-Math.floor(c)},r=[...Ha].sort((l,c)=>{const u=i+Ha.indexOf(l),d=i+Ha.indexOf(c);return s(u)-s(d)}),o=[],a=new Set;for(const l of r){if(o.length>=t)break;(!a.has(l.category)||o.length===t-1)&&(o.push(l),a.add(l.category))}return o.slice(0,t)},tn=e=>k1[e]||[],_A=e=>Ha.find(t=>t.id===e)||null,CA=e=>e<=2?[...tn(q.EMOTIONS),...tn(q.GRATITUDE),...tn(q.WELLNESS)].slice(0,3):e>=4?[...tn(q.GOALS),...tn(q.CREATIVITY),...tn(q.GROWTH)].slice(0,3):P1(new Date,3);function EA({isOpen:e,onClose:t,onSelectPrompt:n,currentMood:i=3}){const[s,r]=C.useState("daily"),[o,a]=C.useState([]),[l,c]=C.useState([]);C.useEffect(()=>{if(e){const m=P1(new Date,3);a(m);const g=CA(i);c(g)}},[e,i]);const u=m=>{n(m),t()},d=()=>{n(null),t()};if(!e)return null;const f=[{id:"daily",label:"📅 Daily",prompts:o},{id:"mood",label:"🎯 Mood",prompts:l},{id:"reflection",label:"🤔 Reflect",prompts:tn(q.REFLECTION)},{id:"gratitude",label:"🙏 Gratitude",prompts:tn(q.GRATITUDE)},{id:"goals",label:"🎯 Goals",prompts:tn(q.GOALS)},{id:"emotions",label:"💭 Emotions",prompts:tn(q.EMOTIONS)}],p=f.find(m=>m.id===s)||f[0];return nf.createPortal(h.jsx("div",{className:"modal-overlay",onClick:m=>{m.target===m.currentTarget&&t()},children:h.jsx("div",{className:"modal-content",onClick:m=>m.stopPropagation(),children:h.jsxs("div",{className:"modal-content-inner",children:[h.jsx("div",{className:"p-4 sm:p-6 border-b border-white/10",children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-1",children:"✨ Choose Your Reflection"}),h.jsx("p",{className:"text-white/70 text-sm",children:"Pick a prompt to guide your journal entry"})]}),h.jsx("button",{onClick:t,className:"text-white/60 hover:text-white text-xl w-8 h-8 flex items-center justify-center rounded-full hover:bg-white/10 transition-colors flex-shrink-0 ml-4",children:"×"})]})}),h.jsx("div",{className:"px-4 sm:px-6 py-3 border-b border-white/10",children:h.jsx("div",{className:"flex flex-wrap gap-2 justify-start",children:f.map(m=>h.jsx("button",{onClick:()=>r(m.id),className:`px-3 py-2 rounded-lg text-xs font-medium transition-all duration-200 whitespace-nowrap ${s===m.id?"bg-white text-purple-700 shadow-sm":"text-white/70 hover:text-white hover:bg-white/10"}`,children:m.label},m.id))})}),h.jsx("div",{className:"flex-1 overflow-y-auto",style:{maxHeight:"calc(85vh - 240px)"},children:h.jsxs("div",{className:"p-4 sm:p-6",children:[p.id==="daily"&&h.jsxs("div",{className:"mb-4 p-3 rounded-xl bg-gradient-to-r from-blue-500/20 to-purple-500/20 border border-white/10",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx("span",{className:"text-xl",children:"🌅"}),h.jsx("h3",{className:"text-white font-medium text-sm",children:"Today's Reflection Prompts"})]}),h.jsx("p",{className:"text-white/60 text-xs",children:"Carefully curated prompts that change daily."})]}),p.id==="mood"&&h.jsxs("div",{className:"mb-4 p-3 rounded-xl bg-gradient-to-r from-green-500/20 to-blue-500/20 border border-white/10",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx("span",{className:"text-xl",children:"🎯"}),h.jsxs("h3",{className:"text-white font-medium text-sm",children:["Matched to Your Mood (",i,"/5)"]})]}),h.jsx("p",{className:"text-white/60 text-xs",children:"Prompts that might resonate with your current mood."})]}),h.jsx("div",{className:"grid grid-cols-1 gap-3",children:p.prompts.map((m,g)=>h.jsx("div",{className:"group cursor-pointer",onClick:()=>u(m),children:h.jsx("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 hover:border-white/20 transition-all duration-200 group-hover:scale-[1.01]",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"text-2xl group-hover:scale-110 transition-transform duration-200 flex-shrink-0",children:m.emoji}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("h3",{className:"text-white font-medium mb-1 text-sm",children:m.title}),h.jsx("p",{className:"text-white/60 text-xs mb-2 leading-relaxed",children:m.subtitle}),h.jsxs("div",{className:"text-white/40 text-xs bg-white/5 rounded-lg px-2 py-1",children:['"',m.placeholder,'"']})]})]})})},m.id))}),p.prompts.length===0&&h.jsxs("div",{className:"text-center py-8 text-white/60",children:[h.jsx("div",{className:"text-3xl mb-3",children:"💭"}),h.jsx("p",{className:"text-sm",children:"No prompts available in this category."})]})]})}),h.jsx("div",{className:"p-4 border-t border-white/10 bg-white/5",children:h.jsxs("div",{className:"flex justify-between items-center gap-3",children:[h.jsx("div",{className:"text-white/60 text-xs",children:"💡 Prompts help you reflect deeper"}),h.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[h.jsx("button",{onClick:d,className:"px-3 py-2 rounded-lg text-white/70 hover:text-white hover:bg-white/10 transition-all duration-200 font-medium text-xs",children:"Skip"}),h.jsx("button",{onClick:t,className:"px-3 py-2 rounded-lg bg-white/20 text-white hover:bg-white/30 transition-all duration-200 font-medium text-xs",children:"Close"})]})]})})]})})}),document.body)}const TA=({analysis:e,onAccept:t,onModify:n,onDismiss:i,isLoading:s=!1})=>{const[r,o]=C.useState(!1);if(s)return h.jsx("div",{className:"bg-purple-500/20 backdrop-blur-sm rounded-2xl p-4 border border-purple-400/30 mb-4",children:h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"animate-spin text-2xl",children:"🤖"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"text-white font-medium",children:"AI is analyzing your text..."}),h.jsx("div",{className:"text-white/70 text-sm",children:"This may take a few seconds"})]})]})});if(!e)return null;const{suggestedMood:a,confidence:l,sentiment:c,emotions:u,analyzedBy:d}=e;return h.jsx("div",{className:"bg-gradient-to-r from-purple-500/20 to-blue-500/20 backdrop-blur-sm rounded-2xl p-4 border border-purple-400/30 mb-4",children:h.jsxs("div",{className:"flex items-start space-x-3",children:[h.jsx("div",{className:"text-2xl",children:"🤖"}),h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("span",{className:"text-white font-medium",children:"AI Suggests:"}),h.jsx("span",{className:"text-2xl",children:Bi[a]}),h.jsxs("span",{className:"text-white font-bold",children:[a,"/5"]})]}),h.jsxs("div",{className:"text-sm text-white/70",children:[l,"% confident"]})]}),h.jsxs("div",{className:"text-sm text-white/80 mb-3",children:[h.jsx("span",{className:"capitalize",children:c==null?void 0:c.toLowerCase()})," sentiment detected",u&&u.length>0&&h.jsxs("span",{className:"ml-2",children:["• Top emotions: ",u.slice(0,2).map(f=>f.label.toLowerCase()).join(", ")]})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsxs("button",{onClick:()=>t(a),className:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-xl font-medium text-sm transition-all duration-300 flex items-center space-x-1",children:[h.jsx("span",{children:"✓"}),h.jsx("span",{children:"Accept"})]}),h.jsxs("button",{onClick:()=>n(a),className:"px-4 py-2 bg-yellow-500 hover:bg-yellow-600 text-white rounded-xl font-medium text-sm transition-all duration-300 flex items-center space-x-1",children:[h.jsx("span",{children:"✏️"}),h.jsx("span",{children:"Adjust"})]}),h.jsxs("button",{onClick:i,className:"px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-xl font-medium text-sm transition-all duration-300 flex items-center space-x-1",children:[h.jsx("span",{children:"✕"}),h.jsx("span",{children:"Dismiss"})]}),h.jsxs("button",{onClick:()=>o(!r),className:"px-3 py-2 bg-white/10 hover:bg-white/20 text-white rounded-xl text-sm transition-all duration-300",children:[r?"▼":"▶"," Details"]})]}),r&&h.jsxs("div",{className:"mt-4 p-3 bg-black/20 rounded-xl border border-white/10",children:[h.jsx("div",{className:"text-xs text-white/70 mb-2",children:"Analysis Details:"}),h.jsxs("div",{className:"mb-3",children:[h.jsxs("div",{className:"text-sm text-white/80 mb-1",children:["Confidence: ",l,"%"]}),h.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:h.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${l>80?"bg-green-500":l>60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${l}%`}})})]}),u&&u.length>0&&h.jsxs("div",{className:"mb-3",children:[h.jsx("div",{className:"text-sm text-white/80 mb-2",children:"Detected Emotions:"}),h.jsx("div",{className:"space-y-1",children:u.slice(0,3).map((f,p)=>h.jsxs("div",{className:"flex justify-between items-center text-xs",children:[h.jsx("span",{className:"text-white/70 capitalize",children:f.label.toLowerCase()}),h.jsxs("span",{className:"text-white/60",children:[Math.round(f.score*100),"%"]})]},p))})]}),h.jsxs("div",{className:"text-xs text-white/50",children:["Analyzed by: ",d||"AI System"]})]})]})]})})};function A1({photos:e=[],onPhotoAdd:t,onPhotoRemove:n,maxPhotos:i=3}){const[s,r]=C.useState(!1),o=f=>{const p=Array.from(f.target.files);u(p)},a=f=>{f.preventDefault(),r(!1);const p=Array.from(f.dataTransfer.files);u(p)},l=f=>{f.preventDefault(),r(!0)},c=f=>{f.preventDefault(),r(!1)},u=f=>{const p=f.filter(m=>m.type.startsWith("image/"));if(p.length===0){alert("Please select image files only.");return}if(e.length+p.length>i){alert(`You can only add up to ${i} photos per entry.`);return}p.forEach(m=>{if(m.size>500*1024){alert(`${m.name} is too large. Please select images under 500KB for better performance.`);return}const g=new FileReader;g.onload=b=>{const y={id:Date.now()+Math.random(),file:m,dataUrl:b.target.result,fileName:m.name,fileSize:m.size,fileType:m.type};t(y)},g.readAsDataURL(m)})},d=f=>{if(f===0)return"0 Bytes";const p=1024,m=["Bytes","KB","MB","GB"],g=Math.floor(Math.log(f)/Math.log(p));return parseFloat((f/Math.pow(p,g)).toFixed(2))+" "+m[g]};return h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:`relative border-2 border-dashed rounded-2xl p-6 text-center transition-all duration-300 cursor-pointer ${s?"border-purple-400 bg-purple-500/10":"border-white/30 hover:border-white/50 bg-white/5 hover:bg-white/10"}`,onDrop:a,onDragOver:l,onDragLeave:c,onClick:()=>document.getElementById("photo-upload").click(),children:[h.jsx("input",{id:"photo-upload",type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:o,disabled:e.length>=i}),e.length>=i?h.jsxs("div",{className:"text-white/60",children:[h.jsx("div",{className:"text-4xl mb-2",children:"📸"}),h.jsxs("div",{className:"text-sm",children:["Maximum ",i," photos reached"]})]}):h.jsxs("div",{className:"text-white/80",children:[h.jsx("div",{className:"text-4xl mb-2",children:"📷"}),h.jsx("div",{className:"text-lg font-medium mb-1",children:"Add Photos"}),h.jsxs("div",{className:"text-sm text-white/60",children:["Drag & drop or click to select images",h.jsx("br",{}),"(",e.length,"/",i," photos • Max 500KB each)"]})]})]}),e.length>0&&h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("span",{className:"text-white/90 text-sm font-medium",children:["Selected Photos (",e.length,"/",i,")"]}),h.jsx("button",{type:"button",onClick:()=>e.forEach(f=>n(f.id)),className:"text-white/60 hover:text-white text-xs px-2 py-1 rounded-lg hover:bg-white/10 transition-all duration-200",children:"Remove All"})]}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(f=>h.jsxs("div",{className:"relative group rounded-2xl overflow-hidden bg-white/5 border border-white/10",children:[h.jsxs("div",{className:"aspect-square relative overflow-hidden",children:[h.jsx("img",{src:f.dataUrl||f.url,alt:f.fileName||"Mood photo",className:"w-full h-full object-cover"}),h.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex items-center justify-center",children:h.jsx("button",{type:"button",onClick:p=>{p.stopPropagation(),n(f.id)},className:"p-2 rounded-full bg-red-500 hover:bg-red-600 text-white transition-all duration-200 transform hover:scale-110",children:h.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})})]}),h.jsxs("div",{className:"p-3",children:[h.jsx("div",{className:"text-white/90 text-xs font-medium mb-1 truncate",children:f.fileName||"Mood photo"}),h.jsx("div",{className:"text-white/60 text-xs",children:f.fileSize?d(f.fileSize):"Unknown size"})]})]},f.id))})]})]})}const N1="https://e7a99njzra.execute-api.us-east-1.amazonaws.com/prod",kA=async e=>{try{const t=`${N1}/entries?userEmail=${encodeURIComponent(e)}`,n=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json"}});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return((await n.json()).entries||[]).sort((o,a)=>{const l=new Date(o.createdAt||o.timestamp||0).getTime();return new Date(a.createdAt||a.timestamp||0).getTime()-l})}catch(t){return console.error("❌ Failed to load entries:",t),[]}},PA=async(e,t)=>{console.log("🤖 analyzeSentiment called for:",t);try{console.log("🤗 Using Hugging Face AI for mood analysis!");const n=await AA(e);return console.log("✅ Hugging Face analysis completed:",n),{success:!0,analysis:n}}catch(n){throw console.error("❌ Failed to analyze sentiment:",n),new Error(`Failed to analyze sentiment: ${n.message}`)}};async function AA(e){try{console.log("🤗 Starting Hugging Face analysis for:",e.substring(0,50)+"...");const[t,n]=await Promise.all([Yg("https://api-inference.huggingface.co/models/cardiffnlp/twitter-roberta-base-sentiment-latest",e),Yg("https://api-inference.huggingface.co/models/j-hartmann/emotion-english-distilroberta-base",e)]);return console.log("🤖 Sentiment result:",t),console.log("😊 Emotion result:",n),NA(t,n,e)}catch(t){return console.warn("⚠️ Hugging Face API failed, using fallback:",t.message),jA(e)}}async function Yg(e,t,n=2){for(let i=0;i<=n;i++)try{const s=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({inputs:t.substring(0,500)})});if(s.ok)return await s.json();if(s.status===503&&i<n){console.log("🔄 Model loading, retrying in 2 seconds..."),await new Promise(r=>setTimeout(r,2e3));continue}else throw new Error(`HTTP ${s.status}: ${s.statusText}`)}catch(s){if(i===n)throw s;console.log(`🔄 Retry ${i+1}/${n} after error:`,s.message),await new Promise(r=>setTimeout(r,1e3))}}function NA(e,t,n){let i="NEUTRAL",s=60,r=3;if(e&&Array.isArray(e)&&e.length>0){const a=e[0];switch(s=Math.round(a.score*100),a.label){case"LABEL_2":case"POSITIVE":i="POSITIVE",r=s>80?5:4;break;case"LABEL_0":case"NEGATIVE":i="NEGATIVE",r=s>80?1:2;break;default:i="NEUTRAL",r=3}}let o=[];if(t&&Array.isArray(t)&&t.length>0&&(o=t.sort((a,l)=>l.score-a.score).slice(0,3).map(a=>({label:a.label.toUpperCase(),score:a.score}))),o.length===0)switch(i){case"POSITIVE":o=[{label:"JOY",score:.8}];break;case"NEGATIVE":o=[{label:"SADNESS",score:.8}];break;default:o=[{label:"NEUTRAL",score:.7}]}return{sentiment:i,sentimentScores:{Positive:i==="POSITIVE"?s/100:.1,Negative:i==="NEGATIVE"?s/100:.1,Neutral:i==="NEUTRAL"?s/100:.6,Mixed:.1},suggestedMood:r,confidence:s,emotions:o,textAnalyzed:n.substring(0,100)+(n.length>100?"...":""),timestamp:new Date().toISOString(),analyzedBy:"Hugging-Face-AI"}}function jA(e){const t=e.toLowerCase(),n=["happy","great","amazing","wonderful","excited","love","fantastic","awesome","good","excellent","perfect","beautiful","successful","proud","grateful","blessed","joy","delighted"],i=["sad","terrible","awful","bad","horrible","upset","angry","frustrated","disappointed","depressed","worried","anxious","hate","annoyed","stressed","tired","exhausted"],s=["okay","fine","normal","average","usual","typical","regular"];let r=0,o=0,a=0;n.forEach(f=>{t.includes(f)&&r++}),i.forEach(f=>{t.includes(f)&&o++}),s.forEach(f=>{t.includes(f)&&a++});let l,c,u,d=[];return r>o&&r>0?(l="POSITIVE",c=r>=2?5:4,u=Math.min(70+r*10,95),d=[{label:"JOY",score:.8},{label:"EXCITEMENT",score:.6}]):o>r&&o>0?(l="NEGATIVE",c=o>=2?1:2,u=Math.min(70+o*10,95),d=[{label:"SADNESS",score:.7},{label:"FRUSTRATION",score:.5}]):a>0?(l="NEUTRAL",c=3,u=75,d=[{label:"NEUTRAL",score:.8}]):(l="NEUTRAL",c=3,u=60,d=[{label:"NEUTRAL",score:.6}]),{sentiment:l,sentimentScores:{Positive:l==="POSITIVE"?u/100:.1,Negative:l==="NEGATIVE"?u/100:.1,Neutral:l==="NEUTRAL"?u/100:.6,Mixed:.1},suggestedMood:c,confidence:u,emotions:d,textAnalyzed:e.substring(0,100)+(e.length>100?"...":""),timestamp:new Date().toISOString(),analyzedBy:"Mock-AI-System"}}const DA=async(e,t=7)=>{console.log("📊 loadAnalytics called for:",e,"days:",t);try{const n=`${N1}/analytics?userEmail=${encodeURIComponent(e)}&days=${t}`;console.log("🌍 Fetching analytics from URL:",n);const i=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json"}});if(!i.ok){const r=await i.text();throw console.error("❌ Analytics API Error:",r),new Error(`HTTP error! status: ${i.status}, body: ${r}`)}const s=await i.json();return console.log("✅ Analytics loaded successfully:",s),s}catch(n){throw console.error("❌ Failed to load analytics:",n),new Error(`Failed to load analytics: ${n.message}`)}};/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var MA=function(){function e(n){var i=n||{},s=i.ValidationData,r=i.Username,o=i.Password,a=i.AuthParameters,l=i.ClientMetadata;this.validationData=s||{},this.authParameters=a||{},this.clientMetadata=l||{},this.username=r,this.password=o}var t=e.prototype;return t.getUsername=function(){return this.username},t.getPassword=function(){return this.password},t.getValidationData=function(){return this.validationData},t.getAuthParameters=function(){return this.authParameters},t.getClientMetadata=function(){return this.clientMetadata},e}(),fe={},cc={};cc.byteLength=LA;cc.toByteArray=OA;cc.fromByteArray=VA;var sn=[],At=[],RA=typeof Uint8Array<"u"?Uint8Array:Array,cu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var ts=0,IA=cu.length;ts<IA;++ts)sn[ts]=cu[ts],At[cu.charCodeAt(ts)]=ts;At["-".charCodeAt(0)]=62;At["_".charCodeAt(0)]=63;function j1(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var i=n===t?0:4-n%4;return[n,i]}function LA(e){var t=j1(e),n=t[0],i=t[1];return(n+i)*3/4-i}function FA(e,t,n){return(t+n)*3/4-n}function OA(e){var t,n=j1(e),i=n[0],s=n[1],r=new RA(FA(e,i,s)),o=0,a=s>0?i-4:i,l;for(l=0;l<a;l+=4)t=At[e.charCodeAt(l)]<<18|At[e.charCodeAt(l+1)]<<12|At[e.charCodeAt(l+2)]<<6|At[e.charCodeAt(l+3)],r[o++]=t>>16&255,r[o++]=t>>8&255,r[o++]=t&255;return s===2&&(t=At[e.charCodeAt(l)]<<2|At[e.charCodeAt(l+1)]>>4,r[o++]=t&255),s===1&&(t=At[e.charCodeAt(l)]<<10|At[e.charCodeAt(l+1)]<<4|At[e.charCodeAt(l+2)]>>2,r[o++]=t>>8&255,r[o++]=t&255),r}function UA(e){return sn[e>>18&63]+sn[e>>12&63]+sn[e>>6&63]+sn[e&63]}function BA(e,t,n){for(var i,s=[],r=t;r<n;r+=3)i=(e[r]<<16&16711680)+(e[r+1]<<8&65280)+(e[r+2]&255),s.push(UA(i));return s.join("")}function VA(e){for(var t,n=e.length,i=n%3,s=[],r=16383,o=0,a=n-i;o<a;o+=r)s.push(BA(e,o,o+r>a?a:o+r));return i===1?(t=e[n-1],s.push(sn[t>>2]+sn[t<<4&63]+"==")):i===2&&(t=(e[n-2]<<8)+e[n-1],s.push(sn[t>>10]+sn[t>>4&63]+sn[t<<2&63]+"=")),s.join("")}var Yf={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Yf.read=function(e,t,n,i,s){var r,o,a=s*8-i-1,l=(1<<a)-1,c=l>>1,u=-7,d=n?s-1:0,f=n?-1:1,p=e[t+d];for(d+=f,r=p&(1<<-u)-1,p>>=-u,u+=a;u>0;r=r*256+e[t+d],d+=f,u-=8);for(o=r&(1<<-u)-1,r>>=-u,u+=i;u>0;o=o*256+e[t+d],d+=f,u-=8);if(r===0)r=1-c;else{if(r===l)return o?NaN:(p?-1:1)*(1/0);o=o+Math.pow(2,i),r=r-c}return(p?-1:1)*o*Math.pow(2,r-i)};Yf.write=function(e,t,n,i,s,r){var o,a,l,c=r*8-s-1,u=(1<<c)-1,d=u>>1,f=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:r-1,m=i?1:-1,g=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+d>=1?t+=f/l:t+=f*Math.pow(2,1-d),t*l>=2&&(o++,l/=2),o+d>=u?(a=0,o=u):o+d>=1?(a=(t*l-1)*Math.pow(2,s),o=o+d):(a=t*Math.pow(2,d-1)*Math.pow(2,s),o=0));s>=8;e[n+p]=a&255,p+=m,a/=256,s-=8);for(o=o<<s|a,c+=s;c>0;e[n+p]=o&255,p+=m,o/=256,c-=8);e[n+p-m]|=g*128};var zA={}.toString,HA=Array.isArray||function(e){return zA.call(e)=="[object Array]"};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */(function(e){var t=cc,n=Yf,i=HA;e.Buffer=a,e.SlowBuffer=y,e.INSPECT_MAX_BYTES=50,a.TYPED_ARRAY_SUPPORT=globalThis.TYPED_ARRAY_SUPPORT!==void 0?globalThis.TYPED_ARRAY_SUPPORT:s(),e.kMaxLength=r();function s(){try{var _=new Uint8Array(1);return _.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},_.foo()===42&&typeof _.subarray=="function"&&_.subarray(1,1).byteLength===0}catch{return!1}}function r(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(_,x){if(r()<x)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(_=new Uint8Array(x),_.__proto__=a.prototype):(_===null&&(_=new a(x)),_.length=x),_}function a(_,x,v){if(!a.TYPED_ARRAY_SUPPORT&&!(this instanceof a))return new a(_,x,v);if(typeof _=="number"){if(typeof x=="string")throw new Error("If encoding is specified then the first argument must be a string");return d(this,_)}return l(this,_,x,v)}a.poolSize=8192,a._augment=function(_){return _.__proto__=a.prototype,_};function l(_,x,v,T){if(typeof x=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&x instanceof ArrayBuffer?m(_,x,v,T):typeof x=="string"?f(_,x,v):g(_,x)}a.from=function(_,x,v){return l(null,_,x,v)},a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0}));function c(_){if(typeof _!="number")throw new TypeError('"size" argument must be a number');if(_<0)throw new RangeError('"size" argument must not be negative')}function u(_,x,v,T){return c(x),x<=0?o(_,x):v!==void 0?typeof T=="string"?o(_,x).fill(v,T):o(_,x).fill(v):o(_,x)}a.alloc=function(_,x,v){return u(null,_,x,v)};function d(_,x){if(c(x),_=o(_,x<0?0:b(x)|0),!a.TYPED_ARRAY_SUPPORT)for(var v=0;v<x;++v)_[v]=0;return _}a.allocUnsafe=function(_){return d(null,_)},a.allocUnsafeSlow=function(_){return d(null,_)};function f(_,x,v){if((typeof v!="string"||v==="")&&(v="utf8"),!a.isEncoding(v))throw new TypeError('"encoding" must be a valid string encoding');var T=w(x,v)|0;_=o(_,T);var A=_.write(x,v);return A!==T&&(_=_.slice(0,A)),_}function p(_,x){var v=x.length<0?0:b(x.length)|0;_=o(_,v);for(var T=0;T<v;T+=1)_[T]=x[T]&255;return _}function m(_,x,v,T){if(x.byteLength,v<0||x.byteLength<v)throw new RangeError("'offset' is out of bounds");if(x.byteLength<v+(T||0))throw new RangeError("'length' is out of bounds");return v===void 0&&T===void 0?x=new Uint8Array(x):T===void 0?x=new Uint8Array(x,v):x=new Uint8Array(x,v,T),a.TYPED_ARRAY_SUPPORT?(_=x,_.__proto__=a.prototype):_=p(_,x),_}function g(_,x){if(a.isBuffer(x)){var v=b(x.length)|0;return _=o(_,v),_.length===0||x.copy(_,0,0,v),_}if(x){if(typeof ArrayBuffer<"u"&&x.buffer instanceof ArrayBuffer||"length"in x)return typeof x.length!="number"||Hb(x.length)?o(_,0):p(_,x);if(x.type==="Buffer"&&i(x.data))return p(_,x.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function b(_){if(_>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return _|0}function y(_){return+_!=_&&(_=0),a.alloc(+_)}a.isBuffer=function(x){return!!(x!=null&&x._isBuffer)},a.compare=function(x,v){if(!a.isBuffer(x)||!a.isBuffer(v))throw new TypeError("Arguments must be Buffers");if(x===v)return 0;for(var T=x.length,A=v.length,I=0,L=Math.min(T,A);I<L;++I)if(x[I]!==v[I]){T=x[I],A=v[I];break}return T<A?-1:A<T?1:0},a.isEncoding=function(x){switch(String(x).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(x,v){if(!i(x))throw new TypeError('"list" argument must be an Array of Buffers');if(x.length===0)return a.alloc(0);var T;if(v===void 0)for(v=0,T=0;T<x.length;++T)v+=x[T].length;var A=a.allocUnsafe(v),I=0;for(T=0;T<x.length;++T){var L=x[T];if(!a.isBuffer(L))throw new TypeError('"list" argument must be an Array of Buffers');L.copy(A,I),I+=L.length}return A};function w(_,x){if(a.isBuffer(_))return _.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(_)||_ instanceof ArrayBuffer))return _.byteLength;typeof _!="string"&&(_=""+_);var v=_.length;if(v===0)return 0;for(var T=!1;;)switch(x){case"ascii":case"latin1":case"binary":return v;case"utf8":case"utf-8":case void 0:return Oo(_).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v*2;case"hex":return v>>>1;case"base64":return gp(_).length;default:if(T)return Oo(_).length;x=(""+x).toLowerCase(),T=!0}}a.byteLength=w;function S(_,x,v){var T=!1;if((x===void 0||x<0)&&(x=0),x>this.length||((v===void 0||v>this.length)&&(v=this.length),v<=0)||(v>>>=0,x>>>=0,v<=x))return"";for(_||(_="utf8");;)switch(_){case"hex":return $(this,x,v);case"utf8":case"utf-8":return Z(this,x,v);case"ascii":return Q(this,x,v);case"latin1":case"binary":return U(this,x,v);case"base64":return V(this,x,v);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W(this,x,v);default:if(T)throw new TypeError("Unknown encoding: "+_);_=(_+"").toLowerCase(),T=!0}}a.prototype._isBuffer=!0;function E(_,x,v){var T=_[x];_[x]=_[v],_[v]=T}a.prototype.swap16=function(){var x=this.length;if(x%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var v=0;v<x;v+=2)E(this,v,v+1);return this},a.prototype.swap32=function(){var x=this.length;if(x%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var v=0;v<x;v+=4)E(this,v,v+3),E(this,v+1,v+2);return this},a.prototype.swap64=function(){var x=this.length;if(x%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var v=0;v<x;v+=8)E(this,v,v+7),E(this,v+1,v+6),E(this,v+2,v+5),E(this,v+3,v+4);return this},a.prototype.toString=function(){var x=this.length|0;return x===0?"":arguments.length===0?Z(this,0,x):S.apply(this,arguments)},a.prototype.equals=function(x){if(!a.isBuffer(x))throw new TypeError("Argument must be a Buffer");return this===x?!0:a.compare(this,x)===0},a.prototype.inspect=function(){var x="",v=e.INSPECT_MAX_BYTES;return this.length>0&&(x=this.toString("hex",0,v).match(/.{2}/g).join(" "),this.length>v&&(x+=" ... ")),"<Buffer "+x+">"},a.prototype.compare=function(x,v,T,A,I){if(!a.isBuffer(x))throw new TypeError("Argument must be a Buffer");if(v===void 0&&(v=0),T===void 0&&(T=x?x.length:0),A===void 0&&(A=0),I===void 0&&(I=this.length),v<0||T>x.length||A<0||I>this.length)throw new RangeError("out of range index");if(A>=I&&v>=T)return 0;if(A>=I)return-1;if(v>=T)return 1;if(v>>>=0,T>>>=0,A>>>=0,I>>>=0,this===x)return 0;for(var L=I-A,se=T-v,he=Math.min(L,se),xe=this.slice(A,I),Ke=x.slice(v,T),Te=0;Te<he;++Te)if(xe[Te]!==Ke[Te]){L=xe[Te],se=Ke[Te];break}return L<se?-1:se<L?1:0};function k(_,x,v,T,A){if(_.length===0)return-1;if(typeof v=="string"?(T=v,v=0):v>2147483647?v=2147483647:v<-2147483648&&(v=-2147483648),v=+v,isNaN(v)&&(v=A?0:_.length-1),v<0&&(v=_.length+v),v>=_.length){if(A)return-1;v=_.length-1}else if(v<0)if(A)v=0;else return-1;if(typeof x=="string"&&(x=a.from(x,T)),a.isBuffer(x))return x.length===0?-1:N(_,x,v,T,A);if(typeof x=="number")return x=x&255,a.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?A?Uint8Array.prototype.indexOf.call(_,x,v):Uint8Array.prototype.lastIndexOf.call(_,x,v):N(_,[x],v,T,A);throw new TypeError("val must be string, number or Buffer")}function N(_,x,v,T,A){var I=1,L=_.length,se=x.length;if(T!==void 0&&(T=String(T).toLowerCase(),T==="ucs2"||T==="ucs-2"||T==="utf16le"||T==="utf-16le")){if(_.length<2||x.length<2)return-1;I=2,L/=2,se/=2,v/=2}function he(yp,xp){return I===1?yp[xp]:yp.readUInt16BE(xp*I)}var xe;if(A){var Ke=-1;for(xe=v;xe<L;xe++)if(he(_,xe)===he(x,Ke===-1?0:xe-Ke)){if(Ke===-1&&(Ke=xe),xe-Ke+1===se)return Ke*I}else Ke!==-1&&(xe-=xe-Ke),Ke=-1}else for(v+se>L&&(v=L-se),xe=v;xe>=0;xe--){for(var Te=!0,Bo=0;Bo<se;Bo++)if(he(_,xe+Bo)!==he(x,Bo)){Te=!1;break}if(Te)return xe}return-1}a.prototype.includes=function(x,v,T){return this.indexOf(x,v,T)!==-1},a.prototype.indexOf=function(x,v,T){return k(this,x,v,T,!0)},a.prototype.lastIndexOf=function(x,v,T){return k(this,x,v,T,!1)};function j(_,x,v,T){v=Number(v)||0;var A=_.length-v;T?(T=Number(T),T>A&&(T=A)):T=A;var I=x.length;if(I%2!==0)throw new TypeError("Invalid hex string");T>I/2&&(T=I/2);for(var L=0;L<T;++L){var se=parseInt(x.substr(L*2,2),16);if(isNaN(se))return L;_[v+L]=se}return L}function P(_,x,v,T){return Uo(Oo(x,_.length-v),_,v,T)}function R(_,x,v,T){return Uo(Vb(x),_,v,T)}function F(_,x,v,T){return R(_,x,v,T)}function D(_,x,v,T){return Uo(gp(x),_,v,T)}function B(_,x,v,T){return Uo(zb(x,_.length-v),_,v,T)}a.prototype.write=function(x,v,T,A){if(v===void 0)A="utf8",T=this.length,v=0;else if(T===void 0&&typeof v=="string")A=v,T=this.length,v=0;else if(isFinite(v))v=v|0,isFinite(T)?(T=T|0,A===void 0&&(A="utf8")):(A=T,T=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var I=this.length-v;if((T===void 0||T>I)&&(T=I),x.length>0&&(T<0||v<0)||v>this.length)throw new RangeError("Attempt to write outside buffer bounds");A||(A="utf8");for(var L=!1;;)switch(A){case"hex":return j(this,x,v,T);case"utf8":case"utf-8":return P(this,x,v,T);case"ascii":return R(this,x,v,T);case"latin1":case"binary":return F(this,x,v,T);case"base64":return D(this,x,v,T);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,x,v,T);default:if(L)throw new TypeError("Unknown encoding: "+A);A=(""+A).toLowerCase(),L=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function V(_,x,v){return x===0&&v===_.length?t.fromByteArray(_):t.fromByteArray(_.slice(x,v))}function Z(_,x,v){v=Math.min(_.length,v);for(var T=[],A=x;A<v;){var I=_[A],L=null,se=I>239?4:I>223?3:I>191?2:1;if(A+se<=v){var he,xe,Ke,Te;switch(se){case 1:I<128&&(L=I);break;case 2:he=_[A+1],(he&192)===128&&(Te=(I&31)<<6|he&63,Te>127&&(L=Te));break;case 3:he=_[A+1],xe=_[A+2],(he&192)===128&&(xe&192)===128&&(Te=(I&15)<<12|(he&63)<<6|xe&63,Te>2047&&(Te<55296||Te>57343)&&(L=Te));break;case 4:he=_[A+1],xe=_[A+2],Ke=_[A+3],(he&192)===128&&(xe&192)===128&&(Ke&192)===128&&(Te=(I&15)<<18|(he&63)<<12|(xe&63)<<6|Ke&63,Te>65535&&Te<1114112&&(L=Te))}}L===null?(L=65533,se=1):L>65535&&(L-=65536,T.push(L>>>10&1023|55296),L=56320|L&1023),T.push(L),A+=se}return ne(T)}var X=4096;function ne(_){var x=_.length;if(x<=X)return String.fromCharCode.apply(String,_);for(var v="",T=0;T<x;)v+=String.fromCharCode.apply(String,_.slice(T,T+=X));return v}function Q(_,x,v){var T="";v=Math.min(_.length,v);for(var A=x;A<v;++A)T+=String.fromCharCode(_[A]&127);return T}function U(_,x,v){var T="";v=Math.min(_.length,v);for(var A=x;A<v;++A)T+=String.fromCharCode(_[A]);return T}function $(_,x,v){var T=_.length;(!x||x<0)&&(x=0),(!v||v<0||v>T)&&(v=T);for(var A="",I=x;I<v;++I)A+=Bb(_[I]);return A}function W(_,x,v){for(var T=_.slice(x,v),A="",I=0;I<T.length;I+=2)A+=String.fromCharCode(T[I]+T[I+1]*256);return A}a.prototype.slice=function(x,v){var T=this.length;x=~~x,v=v===void 0?T:~~v,x<0?(x+=T,x<0&&(x=0)):x>T&&(x=T),v<0?(v+=T,v<0&&(v=0)):v>T&&(v=T),v<x&&(v=x);var A;if(a.TYPED_ARRAY_SUPPORT)A=this.subarray(x,v),A.__proto__=a.prototype;else{var I=v-x;A=new a(I,void 0);for(var L=0;L<I;++L)A[L]=this[L+x]}return A};function K(_,x,v){if(_%1!==0||_<0)throw new RangeError("offset is not uint");if(_+x>v)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUIntLE=function(x,v,T){x=x|0,v=v|0,T||K(x,v,this.length);for(var A=this[x],I=1,L=0;++L<v&&(I*=256);)A+=this[x+L]*I;return A},a.prototype.readUIntBE=function(x,v,T){x=x|0,v=v|0,T||K(x,v,this.length);for(var A=this[x+--v],I=1;v>0&&(I*=256);)A+=this[x+--v]*I;return A},a.prototype.readUInt8=function(x,v){return v||K(x,1,this.length),this[x]},a.prototype.readUInt16LE=function(x,v){return v||K(x,2,this.length),this[x]|this[x+1]<<8},a.prototype.readUInt16BE=function(x,v){return v||K(x,2,this.length),this[x]<<8|this[x+1]},a.prototype.readUInt32LE=function(x,v){return v||K(x,4,this.length),(this[x]|this[x+1]<<8|this[x+2]<<16)+this[x+3]*16777216},a.prototype.readUInt32BE=function(x,v){return v||K(x,4,this.length),this[x]*16777216+(this[x+1]<<16|this[x+2]<<8|this[x+3])},a.prototype.readIntLE=function(x,v,T){x=x|0,v=v|0,T||K(x,v,this.length);for(var A=this[x],I=1,L=0;++L<v&&(I*=256);)A+=this[x+L]*I;return I*=128,A>=I&&(A-=Math.pow(2,8*v)),A},a.prototype.readIntBE=function(x,v,T){x=x|0,v=v|0,T||K(x,v,this.length);for(var A=v,I=1,L=this[x+--A];A>0&&(I*=256);)L+=this[x+--A]*I;return I*=128,L>=I&&(L-=Math.pow(2,8*v)),L},a.prototype.readInt8=function(x,v){return v||K(x,1,this.length),this[x]&128?(255-this[x]+1)*-1:this[x]},a.prototype.readInt16LE=function(x,v){v||K(x,2,this.length);var T=this[x]|this[x+1]<<8;return T&32768?T|4294901760:T},a.prototype.readInt16BE=function(x,v){v||K(x,2,this.length);var T=this[x+1]|this[x]<<8;return T&32768?T|4294901760:T},a.prototype.readInt32LE=function(x,v){return v||K(x,4,this.length),this[x]|this[x+1]<<8|this[x+2]<<16|this[x+3]<<24},a.prototype.readInt32BE=function(x,v){return v||K(x,4,this.length),this[x]<<24|this[x+1]<<16|this[x+2]<<8|this[x+3]},a.prototype.readFloatLE=function(x,v){return v||K(x,4,this.length),n.read(this,x,!0,23,4)},a.prototype.readFloatBE=function(x,v){return v||K(x,4,this.length),n.read(this,x,!1,23,4)},a.prototype.readDoubleLE=function(x,v){return v||K(x,8,this.length),n.read(this,x,!0,52,8)},a.prototype.readDoubleBE=function(x,v){return v||K(x,8,this.length),n.read(this,x,!1,52,8)};function M(_,x,v,T,A,I){if(!a.isBuffer(_))throw new TypeError('"buffer" argument must be a Buffer instance');if(x>A||x<I)throw new RangeError('"value" argument is out of bounds');if(v+T>_.length)throw new RangeError("Index out of range")}a.prototype.writeUIntLE=function(x,v,T,A){if(x=+x,v=v|0,T=T|0,!A){var I=Math.pow(2,8*T)-1;M(this,x,v,T,I,0)}var L=1,se=0;for(this[v]=x&255;++se<T&&(L*=256);)this[v+se]=x/L&255;return v+T},a.prototype.writeUIntBE=function(x,v,T,A){if(x=+x,v=v|0,T=T|0,!A){var I=Math.pow(2,8*T)-1;M(this,x,v,T,I,0)}var L=T-1,se=1;for(this[v+L]=x&255;--L>=0&&(se*=256);)this[v+L]=x/se&255;return v+T},a.prototype.writeUInt8=function(x,v,T){return x=+x,v=v|0,T||M(this,x,v,1,255,0),a.TYPED_ARRAY_SUPPORT||(x=Math.floor(x)),this[v]=x&255,v+1};function J(_,x,v,T){x<0&&(x=65535+x+1);for(var A=0,I=Math.min(_.length-v,2);A<I;++A)_[v+A]=(x&255<<8*(T?A:1-A))>>>(T?A:1-A)*8}a.prototype.writeUInt16LE=function(x,v,T){return x=+x,v=v|0,T||M(this,x,v,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[v]=x&255,this[v+1]=x>>>8):J(this,x,v,!0),v+2},a.prototype.writeUInt16BE=function(x,v,T){return x=+x,v=v|0,T||M(this,x,v,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[v]=x>>>8,this[v+1]=x&255):J(this,x,v,!1),v+2};function le(_,x,v,T){x<0&&(x=4294967295+x+1);for(var A=0,I=Math.min(_.length-v,4);A<I;++A)_[v+A]=x>>>(T?A:3-A)*8&255}a.prototype.writeUInt32LE=function(x,v,T){return x=+x,v=v|0,T||M(this,x,v,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[v+3]=x>>>24,this[v+2]=x>>>16,this[v+1]=x>>>8,this[v]=x&255):le(this,x,v,!0),v+4},a.prototype.writeUInt32BE=function(x,v,T){return x=+x,v=v|0,T||M(this,x,v,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[v]=x>>>24,this[v+1]=x>>>16,this[v+2]=x>>>8,this[v+3]=x&255):le(this,x,v,!1),v+4},a.prototype.writeIntLE=function(x,v,T,A){if(x=+x,v=v|0,!A){var I=Math.pow(2,8*T-1);M(this,x,v,T,I-1,-I)}var L=0,se=1,he=0;for(this[v]=x&255;++L<T&&(se*=256);)x<0&&he===0&&this[v+L-1]!==0&&(he=1),this[v+L]=(x/se>>0)-he&255;return v+T},a.prototype.writeIntBE=function(x,v,T,A){if(x=+x,v=v|0,!A){var I=Math.pow(2,8*T-1);M(this,x,v,T,I-1,-I)}var L=T-1,se=1,he=0;for(this[v+L]=x&255;--L>=0&&(se*=256);)x<0&&he===0&&this[v+L+1]!==0&&(he=1),this[v+L]=(x/se>>0)-he&255;return v+T},a.prototype.writeInt8=function(x,v,T){return x=+x,v=v|0,T||M(this,x,v,1,127,-128),a.TYPED_ARRAY_SUPPORT||(x=Math.floor(x)),x<0&&(x=255+x+1),this[v]=x&255,v+1},a.prototype.writeInt16LE=function(x,v,T){return x=+x,v=v|0,T||M(this,x,v,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[v]=x&255,this[v+1]=x>>>8):J(this,x,v,!0),v+2},a.prototype.writeInt16BE=function(x,v,T){return x=+x,v=v|0,T||M(this,x,v,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[v]=x>>>8,this[v+1]=x&255):J(this,x,v,!1),v+2},a.prototype.writeInt32LE=function(x,v,T){return x=+x,v=v|0,T||M(this,x,v,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[v]=x&255,this[v+1]=x>>>8,this[v+2]=x>>>16,this[v+3]=x>>>24):le(this,x,v,!0),v+4},a.prototype.writeInt32BE=function(x,v,T){return x=+x,v=v|0,T||M(this,x,v,4,2147483647,-2147483648),x<0&&(x=4294967295+x+1),a.TYPED_ARRAY_SUPPORT?(this[v]=x>>>24,this[v+1]=x>>>16,this[v+2]=x>>>8,this[v+3]=x&255):le(this,x,v,!1),v+4};function Ct(_,x,v,T,A,I){if(v+T>_.length)throw new RangeError("Index out of range");if(v<0)throw new RangeError("Index out of range")}function Fe(_,x,v,T,A){return A||Ct(_,x,v,4),n.write(_,x,v,T,23,4),v+4}a.prototype.writeFloatLE=function(x,v,T){return Fe(this,x,v,!0,T)},a.prototype.writeFloatBE=function(x,v,T){return Fe(this,x,v,!1,T)};function xi(_,x,v,T,A){return A||Ct(_,x,v,8),n.write(_,x,v,T,52,8),v+8}a.prototype.writeDoubleLE=function(x,v,T){return xi(this,x,v,!0,T)},a.prototype.writeDoubleBE=function(x,v,T){return xi(this,x,v,!1,T)},a.prototype.copy=function(x,v,T,A){if(T||(T=0),!A&&A!==0&&(A=this.length),v>=x.length&&(v=x.length),v||(v=0),A>0&&A<T&&(A=T),A===T||x.length===0||this.length===0)return 0;if(v<0)throw new RangeError("targetStart out of bounds");if(T<0||T>=this.length)throw new RangeError("sourceStart out of bounds");if(A<0)throw new RangeError("sourceEnd out of bounds");A>this.length&&(A=this.length),x.length-v<A-T&&(A=x.length-v+T);var I=A-T,L;if(this===x&&T<v&&v<A)for(L=I-1;L>=0;--L)x[L+v]=this[L+T];else if(I<1e3||!a.TYPED_ARRAY_SUPPORT)for(L=0;L<I;++L)x[L+v]=this[L+T];else Uint8Array.prototype.set.call(x,this.subarray(T,T+I),v);return I},a.prototype.fill=function(x,v,T,A){if(typeof x=="string"){if(typeof v=="string"?(A=v,v=0,T=this.length):typeof T=="string"&&(A=T,T=this.length),x.length===1){var I=x.charCodeAt(0);I<256&&(x=I)}if(A!==void 0&&typeof A!="string")throw new TypeError("encoding must be a string");if(typeof A=="string"&&!a.isEncoding(A))throw new TypeError("Unknown encoding: "+A)}else typeof x=="number"&&(x=x&255);if(v<0||this.length<v||this.length<T)throw new RangeError("Out of range index");if(T<=v)return this;v=v>>>0,T=T===void 0?this.length:T>>>0,x||(x=0);var L;if(typeof x=="number")for(L=v;L<T;++L)this[L]=x;else{var se=a.isBuffer(x)?x:Oo(new a(x,A).toString()),he=se.length;for(L=0;L<T-v;++L)this[L+v]=se[L%he]}return this};var Fb=/[^+\/0-9A-Za-z-_]/g;function Ob(_){if(_=Ub(_).replace(Fb,""),_.length<2)return"";for(;_.length%4!==0;)_=_+"=";return _}function Ub(_){return _.trim?_.trim():_.replace(/^\s+|\s+$/g,"")}function Bb(_){return _<16?"0"+_.toString(16):_.toString(16)}function Oo(_,x){x=x||1/0;for(var v,T=_.length,A=null,I=[],L=0;L<T;++L){if(v=_.charCodeAt(L),v>55295&&v<57344){if(!A){if(v>56319){(x-=3)>-1&&I.push(239,191,189);continue}else if(L+1===T){(x-=3)>-1&&I.push(239,191,189);continue}A=v;continue}if(v<56320){(x-=3)>-1&&I.push(239,191,189),A=v;continue}v=(A-55296<<10|v-56320)+65536}else A&&(x-=3)>-1&&I.push(239,191,189);if(A=null,v<128){if((x-=1)<0)break;I.push(v)}else if(v<2048){if((x-=2)<0)break;I.push(v>>6|192,v&63|128)}else if(v<65536){if((x-=3)<0)break;I.push(v>>12|224,v>>6&63|128,v&63|128)}else if(v<1114112){if((x-=4)<0)break;I.push(v>>18|240,v>>12&63|128,v>>6&63|128,v&63|128)}else throw new Error("Invalid code point")}return I}function Vb(_){for(var x=[],v=0;v<_.length;++v)x.push(_.charCodeAt(v)&255);return x}function zb(_,x){for(var v,T,A,I=[],L=0;L<_.length&&!((x-=2)<0);++L)v=_.charCodeAt(L),T=v>>8,A=v%256,I.push(A),I.push(T);return I}function gp(_){return t.toByteArray(Ob(_))}function Uo(_,x,v,T){for(var A=0;A<T&&!(A+v>=x.length||A>=_.length);++A)x[A+v]=_[A];return A}function Hb(_){return _!==_}})(fe);var Dt;typeof window<"u"&&window.crypto&&(Dt=window.crypto);!Dt&&typeof window<"u"&&window.msCrypto&&(Dt=window.msCrypto);!Dt&&typeof globalThis<"u"&&globalThis.crypto&&(Dt=globalThis.crypto);if(!Dt&&typeof require=="function")try{Dt=require("crypto")}catch{}function WA(){if(Dt){if(typeof Dt.getRandomValues=="function")try{return Dt.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof Dt.randomBytes=="function")try{return Dt.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")}function $A(e){for(var t=e.words,n=e.sigBytes,i=[],s=0;s<n;s++){var r=t[s>>>2]>>>24-s%4*8&255;i.push((r>>>4).toString(16)),i.push((r&15).toString(16))}return i.join("")}var KA=function(){function e(n,i){n=this.words=n||[],i!=null?this.sigBytes=i:this.sigBytes=n.length*4}var t=e.prototype;return t.random=function(i){for(var s=[],r=0;r<i;r+=4)s.push(WA());return new e(s,i)},t.toString=function(){return $A(this)},e}(),As={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Od=function(e,t){return Od=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},Od(e,t)};function GA(e,t){Od(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Ud=function(){return Ud=Object.assign||function(t){for(var n,i=1,s=arguments.length;i<s;i++){n=arguments[i];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ud.apply(this,arguments)};function YA(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]]);return n}function qA(e,t,n,i){var s=arguments.length,r=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,n):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,n,r):o(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r}function XA(e,t){return function(n,i){t(n,i,e)}}function JA(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function QA(e,t,n,i){function s(r){return r instanceof n?r:new n(function(o){o(r)})}return new(n||(n=Promise))(function(r,o){function a(u){try{c(i.next(u))}catch(d){o(d)}}function l(u){try{c(i.throw(u))}catch(d){o(d)}}function c(u){u.done?r(u.value):s(u.value).then(a,l)}c((i=i.apply(e,t||[])).next())})}function ZA(e,t){var n={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},i,s,r,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(i)throw new TypeError("Generator is already executing.");for(;n;)try{if(i=1,s&&(r=c[0]&2?s.return:c[0]?s.throw||((r=s.return)&&r.call(s),0):s.next)&&!(r=r.call(s,c[1])).done)return r;switch(s=0,r&&(c=[c[0]&2,r.value]),c[0]){case 0:case 1:r=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,s=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(r=n.trys,!(r=r.length>0&&r[r.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!r||c[1]>r[0]&&c[1]<r[3])){n.label=c[1];break}if(c[0]===6&&n.label<r[1]){n.label=r[1],r=c;break}if(r&&n.label<r[2]){n.label=r[2],n.ops.push(c);break}r[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(u){c=[6,u],s=0}finally{i=r=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function eN(e,t,n,i){i===void 0&&(i=n),e[i]=t[n]}function tN(e,t){for(var n in e)n!=="default"&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Bd(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function D1(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),s,r=[],o;try{for(;(t===void 0||t-- >0)&&!(s=i.next()).done;)r.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return r}function nN(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(D1(arguments[t]));return e}function iN(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var i=Array(e),s=0,t=0;t<n;t++)for(var r=arguments[t],o=0,a=r.length;o<a;o++,s++)i[s]=r[o];return i}function fo(e){return this instanceof fo?(this.v=e,this):new fo(e)}function sN(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),s,r=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(f){i[f]&&(s[f]=function(p){return new Promise(function(m,g){r.push([f,p,m,g])>1||a(f,p)})})}function a(f,p){try{l(i[f](p))}catch(m){d(r[0][3],m)}}function l(f){f.value instanceof fo?Promise.resolve(f.value.v).then(c,u):d(r[0][2],f)}function c(f){a("next",f)}function u(f){a("throw",f)}function d(f,p){f(p),r.shift(),r.length&&a(r[0][0],r[0][1])}}function rN(e){var t,n;return t={},i("next"),i("throw",function(s){throw s}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(s,r){t[s]=e[s]?function(o){return(n=!n)?{value:fo(e[s](o)),done:s==="return"}:r?r(o):o}:r}}function oN(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Bd=="function"?Bd(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(r){n[r]=e[r]&&function(o){return new Promise(function(a,l){o=e[r](o),s(a,l,o.done,o.value)})}}function s(r,o,a,l){Promise.resolve(l).then(function(c){r({value:c,done:a})},o)}}function aN(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function lN(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function cN(e){return e&&e.__esModule?e:{default:e}}function uN(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function dN(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}const hN=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Ud},__asyncDelegator:rN,__asyncGenerator:sN,__asyncValues:oN,__await:fo,__awaiter:QA,__classPrivateFieldGet:uN,__classPrivateFieldSet:dN,__createBinding:eN,__decorate:qA,__exportStar:tN,__extends:GA,__generator:ZA,__importDefault:cN,__importStar:lN,__makeTemplateObject:aN,__metadata:JA,__param:XA,__read:D1,__rest:YA,__spread:nN,__spreadArrays:iN,__values:Bd},Symbol.toStringTag,{value:"Module"})),M1=ah(hN);var uc={},mt={};Object.defineProperty(mt,"__esModule",{value:!0});mt.MAX_HASHABLE_LENGTH=mt.INIT=mt.KEY=mt.DIGEST_LENGTH=mt.BLOCK_SIZE=void 0;mt.BLOCK_SIZE=64;mt.DIGEST_LENGTH=32;mt.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);mt.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];mt.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1;var dc={};Object.defineProperty(dc,"__esModule",{value:!0});dc.RawSha256=void 0;var Tt=mt,fN=function(){function e(){this.state=Int32Array.from(Tt.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(t){if(this.finished)throw new Error("Attempted to update an already finished hash.");var n=0,i=t.byteLength;if(this.bytesHashed+=i,this.bytesHashed*8>Tt.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;i>0;)this.buffer[this.bufferLength++]=t[n++],i--,this.bufferLength===Tt.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var t=this.bytesHashed*8,n=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),i=this.bufferLength;if(n.setUint8(this.bufferLength++,128),i%Tt.BLOCK_SIZE>=Tt.BLOCK_SIZE-8){for(var s=this.bufferLength;s<Tt.BLOCK_SIZE;s++)n.setUint8(s,0);this.hashBuffer(),this.bufferLength=0}for(var s=this.bufferLength;s<Tt.BLOCK_SIZE-8;s++)n.setUint8(s,0);n.setUint32(Tt.BLOCK_SIZE-8,Math.floor(t/4294967296),!0),n.setUint32(Tt.BLOCK_SIZE-4,t),this.hashBuffer(),this.finished=!0}for(var r=new Uint8Array(Tt.DIGEST_LENGTH),s=0;s<8;s++)r[s*4]=this.state[s]>>>24&255,r[s*4+1]=this.state[s]>>>16&255,r[s*4+2]=this.state[s]>>>8&255,r[s*4+3]=this.state[s]>>>0&255;return r},e.prototype.hashBuffer=function(){for(var t=this,n=t.buffer,i=t.state,s=i[0],r=i[1],o=i[2],a=i[3],l=i[4],c=i[5],u=i[6],d=i[7],f=0;f<Tt.BLOCK_SIZE;f++){if(f<16)this.temp[f]=(n[f*4]&255)<<24|(n[f*4+1]&255)<<16|(n[f*4+2]&255)<<8|n[f*4+3]&255;else{var p=this.temp[f-2],m=(p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10;p=this.temp[f-15];var g=(p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3;this.temp[f]=(m+this.temp[f-7]|0)+(g+this.temp[f-16]|0)}var b=(((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))+(l&c^~l&u)|0)+(d+(Tt.KEY[f]+this.temp[f]|0)|0)|0,y=((s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10))+(s&r^s&o^r&o)|0;d=u,u=c,c=l,l=a+b|0,a=o,o=r,r=s,s=b+y|0}i[0]+=s,i[1]+=r,i[2]+=o,i[3]+=a,i[4]+=l,i[5]+=c,i[6]+=u,i[7]+=d},e}();dc.RawSha256=fN;var R1={},hc={};const pN=e=>{const t=[];for(let n=0,i=e.length;n<i;n++){const s=e.charCodeAt(n);if(s<128)t.push(s);else if(s<2048)t.push(s>>6|192,s&63|128);else if(n+1<e.length&&(s&64512)===55296&&(e.charCodeAt(n+1)&64512)===56320){const r=65536+((s&1023)<<10)+(e.charCodeAt(++n)&1023);t.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else t.push(s>>12|224,s>>6&63|128,s&63|128)}return Uint8Array.from(t)},mN=e=>{let t="";for(let n=0,i=e.length;n<i;n++){const s=e[n];if(s<128)t+=String.fromCharCode(s);else if(192<=s&&s<224){const r=e[++n];t+=String.fromCharCode((s&31)<<6|r&63)}else if(240<=s&&s<365){const o="%"+[s,e[++n],e[++n],e[++n]].map(a=>a.toString(16)).join("%");t+=decodeURIComponent(o)}else t+=String.fromCharCode((s&15)<<12|(e[++n]&63)<<6|e[++n]&63)}return t};function gN(e){return new TextEncoder().encode(e)}function yN(e){return new TextDecoder("utf-8").decode(e)}const xN=e=>typeof TextEncoder=="function"?gN(e):pN(e),vN=e=>typeof TextDecoder=="function"?yN(e):mN(e),wN=Object.freeze(Object.defineProperty({__proto__:null,fromUtf8:xN,toUtf8:vN},Symbol.toStringTag,{value:"Module"})),bN=ah(wN);Object.defineProperty(hc,"__esModule",{value:!0});hc.convertToBuffer=void 0;var SN=bN,_N=typeof Buffer<"u"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:SN.fromUtf8;function CN(e){return e instanceof Uint8Array?e:typeof e=="string"?_N(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}hc.convertToBuffer=CN;var fc={};Object.defineProperty(fc,"__esModule",{value:!0});fc.isEmptyData=void 0;function EN(e){return typeof e=="string"?e.length===0:e.byteLength===0}fc.isEmptyData=EN;var pc={};Object.defineProperty(pc,"__esModule",{value:!0});pc.numToUint8=void 0;function TN(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}pc.numToUint8=TN;var mc={};Object.defineProperty(mc,"__esModule",{value:!0});mc.uint32ArrayFrom=void 0;function kN(e){if(!Array.from){for(var t=new Uint32Array(e.length),n=0;n<e.length;)t[n]=e[n];return t}return Uint32Array.from(e)}mc.uint32ArrayFrom=kN;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.uint32ArrayFrom=e.numToUint8=e.isEmptyData=e.convertToBuffer=void 0;var t=hc;Object.defineProperty(e,"convertToBuffer",{enumerable:!0,get:function(){return t.convertToBuffer}});var n=fc;Object.defineProperty(e,"isEmptyData",{enumerable:!0,get:function(){return n.isEmptyData}});var i=pc;Object.defineProperty(e,"numToUint8",{enumerable:!0,get:function(){return i.numToUint8}});var s=mc;Object.defineProperty(e,"uint32ArrayFrom",{enumerable:!0,get:function(){return s.uint32ArrayFrom}})})(R1);Object.defineProperty(uc,"__esModule",{value:!0});uc.Sha256=void 0;var qg=M1,Pl=mt,Vd=dc,zd=R1,PN=function(){function e(t){if(this.hash=new Vd.RawSha256,t){this.outer=new Vd.RawSha256;var n=AN(t),i=new Uint8Array(Pl.BLOCK_SIZE);i.set(n);for(var s=0;s<Pl.BLOCK_SIZE;s++)n[s]^=54,i[s]^=92;this.hash.update(n),this.outer.update(i);for(var s=0;s<n.byteLength;s++)n[s]=0}}return e.prototype.update=function(t){if(!((0,zd.isEmptyData)(t)||this.error))try{this.hash.update((0,zd.convertToBuffer)(t))}catch(n){this.error=n}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,qg.__awaiter)(this,void 0,void 0,function(){return(0,qg.__generator)(this,function(t){return[2,this.digestSync()]})})},e}();uc.Sha256=PN;function AN(e){var t=(0,zd.convertToBuffer)(e);if(t.byteLength>Pl.BLOCK_SIZE){var n=new Vd.RawSha256;n.update(t),t=n.digest()}var i=new Uint8Array(Pl.BLOCK_SIZE);return i.set(t),i}(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=M1;(0,t.__exportStar)(uc,e)})(As);function H(e,t){e!=null&&this.fromString(e,t)}function it(){return new H(null)}var ii,NN=0xdeadbeefcafe,Xg=(NN&16777215)==15715070;function jN(e,t,n,i,s,r){for(;--r>=0;){var o=t*this[e++]+n[i]+s;s=Math.floor(o/67108864),n[i++]=o&67108863}return s}function DN(e,t,n,i,s,r){for(var o=t&32767,a=t>>15;--r>=0;){var l=this[e]&32767,c=this[e++]>>15,u=a*l+c*o;l=o*l+((u&32767)<<15)+n[i]+(s&1073741823),s=(l>>>30)+(u>>>15)+a*c+(s>>>30),n[i++]=l&1073741823}return s}function MN(e,t,n,i,s,r){for(var o=t&16383,a=t>>14;--r>=0;){var l=this[e]&16383,c=this[e++]>>14,u=a*l+c*o;l=o*l+((u&16383)<<14)+n[i]+s,s=(l>>28)+(u>>14)+a*c,n[i++]=l&268435455}return s}var Jg=typeof navigator<"u";Jg&&Xg&&navigator.appName=="Microsoft Internet Explorer"?(H.prototype.am=DN,ii=30):Jg&&Xg&&navigator.appName!="Netscape"?(H.prototype.am=jN,ii=26):(H.prototype.am=MN,ii=28);H.prototype.DB=ii;H.prototype.DM=(1<<ii)-1;H.prototype.DV=1<<ii;var qf=52;H.prototype.FV=Math.pow(2,qf);H.prototype.F1=qf-ii;H.prototype.F2=2*ii-qf;var RN="0123456789abcdefghijklmnopqrstuvwxyz",gc=new Array,Zs,Rt;Zs="0".charCodeAt(0);for(Rt=0;Rt<=9;++Rt)gc[Zs++]=Rt;Zs="a".charCodeAt(0);for(Rt=10;Rt<36;++Rt)gc[Zs++]=Rt;Zs="A".charCodeAt(0);for(Rt=10;Rt<36;++Rt)gc[Zs++]=Rt;function Qg(e){return RN.charAt(e)}function IN(e,t){var n=gc[e.charCodeAt(t)];return n??-1}function LN(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s}function FN(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0}function Xf(e){var t=it();return t.fromInt(e),t}function ON(e,t){var n;if(t==16)n=4;else if(t==8)n=3;else if(t==2)n=1;else if(t==32)n=5;else if(t==4)n=2;else throw new Error("Only radix 2, 4, 8, 16, 32 are supported");this.t=0,this.s=0;for(var i=e.length,s=!1,r=0;--i>=0;){var o=IN(e,i);if(o<0){e.charAt(i)=="-"&&(s=!0);continue}s=!1,r==0?this[this.t++]=o:r+n>this.DB?(this[this.t-1]|=(o&(1<<this.DB-r)-1)<<r,this[this.t++]=o>>this.DB-r):this[this.t-1]|=o<<r,r+=n,r>=this.DB&&(r-=this.DB)}this.clamp(),s&&H.ZERO.subTo(this,this)}function UN(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t}function BN(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(e==16)t=4;else if(e==8)t=3;else if(e==2)t=1;else if(e==32)t=5;else if(e==4)t=2;else throw new Error("Only radix 2, 4, 8, 16, 32 are supported");var n=(1<<t)-1,i,s=!1,r="",o=this.t,a=this.DB-o*this.DB%t;if(o-- >0)for(a<this.DB&&(i=this[o]>>a)>0&&(s=!0,r=Qg(i));o>=0;)a<t?(i=(this[o]&(1<<a)-1)<<t-a,i|=this[--o]>>(a+=this.DB-t)):(i=this[o]>>(a-=t)&n,a<=0&&(a+=this.DB,--o)),i>0&&(s=!0),s&&(r+=Qg(i));return s?r:"0"}function VN(){var e=it();return H.ZERO.subTo(this,e),e}function zN(){return this.s<0?this.negate():this}function HN(e){var t=this.s-e.s;if(t!=0)return t;var n=this.t;if(t=n-e.t,t!=0)return this.s<0?-t:t;for(;--n>=0;)if((t=this[n]-e[n])!=0)return t;return 0}function Jf(e){var t=1,n;return(n=e>>>16)!=0&&(e=n,t+=16),(n=e>>8)!=0&&(e=n,t+=8),(n=e>>4)!=0&&(e=n,t+=4),(n=e>>2)!=0&&(e=n,t+=2),(n=e>>1)!=0&&(e=n,t+=1),t}function WN(){return this.t<=0?0:this.DB*(this.t-1)+Jf(this[this.t-1]^this.s&this.DM)}function $N(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s}function KN(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s}function GN(e,t){var n=e%this.DB,i=this.DB-n,s=(1<<i)-1,r=Math.floor(e/this.DB),o=this.s<<n&this.DM,a;for(a=this.t-1;a>=0;--a)t[a+r+1]=this[a]>>i|o,o=(this[a]&s)<<n;for(a=r-1;a>=0;--a)t[a]=0;t[r]=o,t.t=this.t+r+1,t.s=this.s,t.clamp()}function YN(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t){t.t=0;return}var i=e%this.DB,s=this.DB-i,r=(1<<i)-1;t[0]=this[n]>>i;for(var o=n+1;o<this.t;++o)t[o-n-1]|=(this[o]&r)<<s,t[o-n]=this[o]>>i;i>0&&(t[this.t-n-1]|=(this.s&r)<<s),t.t=this.t-n,t.clamp()}function qN(e,t){for(var n=0,i=0,s=Math.min(e.t,this.t);n<s;)i+=this[n]-e[n],t[n++]=i&this.DM,i>>=this.DB;if(e.t<this.t){for(i-=e.s;n<this.t;)i+=this[n],t[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<e.t;)i-=e[n],t[n++]=i&this.DM,i>>=this.DB;i-=e.s}t.s=i<0?-1:0,i<-1?t[n++]=this.DV+i:i>0&&(t[n++]=i),t.t=n,t.clamp()}function XN(e,t){var n=this.abs(),i=e.abs(),s=n.t;for(t.t=s+i.t;--s>=0;)t[s]=0;for(s=0;s<i.t;++s)t[s+n.t]=n.am(0,i[s],t,s,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&H.ZERO.subTo(t,t)}function JN(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var i=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,i,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()}function QN(e,t,n){var i=e.abs();if(!(i.t<=0)){var s=this.abs();if(s.t<i.t){t!=null&&t.fromInt(0),n!=null&&this.copyTo(n);return}n==null&&(n=it());var r=it(),o=this.s,a=e.s,l=this.DB-Jf(i[i.t-1]);l>0?(i.lShiftTo(l,r),s.lShiftTo(l,n)):(i.copyTo(r),s.copyTo(n));var c=r.t,u=r[c-1];if(u!=0){var d=u*(1<<this.F1)+(c>1?r[c-2]>>this.F2:0),f=this.FV/d,p=(1<<this.F1)/d,m=1<<this.F2,g=n.t,b=g-c,y=t??it();for(r.dlShiftTo(b,y),n.compareTo(y)>=0&&(n[n.t++]=1,n.subTo(y,n)),H.ONE.dlShiftTo(c,y),y.subTo(r,r);r.t<c;)r[r.t++]=0;for(;--b>=0;){var w=n[--g]==u?this.DM:Math.floor(n[g]*f+(n[g-1]+m)*p);if((n[g]+=r.am(0,w,n,b,0,c))<w)for(r.dlShiftTo(b,y),n.subTo(y,n);n[g]<--w;)n.subTo(y,n)}t!=null&&(n.drShiftTo(c,t),o!=a&&H.ZERO.subTo(t,t)),n.t=c,n.clamp(),l>0&&n.rShiftTo(l,n),o<0&&H.ZERO.subTo(n,n)}}}function ZN(e){var t=it();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(H.ZERO)>0&&e.subTo(t,t),t}function ej(){if(this.t<1)return 0;var e=this[0];if(!(e&1))return 0;var t=e&3;return t=t*(2-(e&15)*t)&15,t=t*(2-(e&255)*t)&255,t=t*(2-((e&65535)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}function tj(e){return this.compareTo(e)==0}function nj(e,t){for(var n=0,i=0,s=Math.min(e.t,this.t);n<s;)i+=this[n]+e[n],t[n++]=i&this.DM,i>>=this.DB;if(e.t<this.t){for(i+=e.s;n<this.t;)i+=this[n],t[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<e.t;)i+=e[n],t[n++]=i&this.DM,i>>=this.DB;i+=e.s}t.s=i<0?-1:0,i>0?t[n++]=i:i<-1&&(t[n++]=this.DV+i),t.t=n,t.clamp()}function ij(e){var t=it();return this.addTo(e,t),t}function sj(e){var t=it();return this.subTo(e,t),t}function rj(e){var t=it();return this.multiplyTo(e,t),t}function oj(e){var t=it();return this.divRemTo(e,t,null),t}function er(e){this.m=e,this.mp=e.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function aj(e){var t=it();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(H.ZERO)>0&&this.m.subTo(t,t),t}function lj(e){var t=it();return e.copyTo(t),this.reduce(t),t}function cj(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=e[t]&32767,i=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(n=t+this.m.t,e[n]+=this.m.am(0,i,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function uj(e,t){e.squareTo(t),this.reduce(t)}function dj(e,t,n){e.multiplyTo(t,n),this.reduce(n)}er.prototype.convert=aj;er.prototype.revert=lj;er.prototype.reduce=cj;er.prototype.mulTo=dj;er.prototype.sqrTo=uj;function hj(e,t,n){var i=e.bitLength(),s,r=Xf(1),o=new er(t);if(i<=0)return r;i<18?s=1:i<48?s=3:i<144?s=4:i<768?s=5:s=6;var a=new Array,l=3,c=s-1,u=(1<<s)-1;if(a[1]=o.convert(this),s>1){var d=it();for(o.sqrTo(a[1],d);l<=u;)a[l]=it(),o.mulTo(d,a[l-2],a[l]),l+=2}var f=e.t-1,p,m=!0,g=it(),b;for(i=Jf(e[f])-1;f>=0;){for(i>=c?p=e[f]>>i-c&u:(p=(e[f]&(1<<i+1)-1)<<c-i,f>0&&(p|=e[f-1]>>this.DB+i-c)),l=s;!(p&1);)p>>=1,--l;if((i-=l)<0&&(i+=this.DB,--f),m)a[p].copyTo(r),m=!1;else{for(;l>1;)o.sqrTo(r,g),o.sqrTo(g,r),l-=2;l>0?o.sqrTo(r,g):(b=r,r=g,g=b),o.mulTo(g,a[p],r)}for(;f>=0&&!(e[f]&1<<i);)o.sqrTo(r,g),b=r,r=g,g=b,--i<0&&(i=this.DB-1,--f)}var y=o.revert(r);return n(null,y),y}H.prototype.copyTo=LN;H.prototype.fromInt=FN;H.prototype.fromString=ON;H.prototype.clamp=UN;H.prototype.dlShiftTo=$N;H.prototype.drShiftTo=KN;H.prototype.lShiftTo=GN;H.prototype.rShiftTo=YN;H.prototype.subTo=qN;H.prototype.multiplyTo=XN;H.prototype.squareTo=JN;H.prototype.divRemTo=QN;H.prototype.invDigit=ej;H.prototype.addTo=nj;H.prototype.toString=BN;H.prototype.negate=VN;H.prototype.abs=zN;H.prototype.compareTo=HN;H.prototype.bitLength=WN;H.prototype.mod=ZN;H.prototype.equals=tj;H.prototype.add=ij;H.prototype.subtract=sj;H.prototype.multiply=rj;H.prototype.divide=oj;H.prototype.modPow=hj;H.ZERO=Xf(0);H.ONE=Xf(1);/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */function uu(e){return fe.Buffer.from(new KA().random(e).toString(),"hex")}var fj=/^[89a-f]/i,pj="FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",mj="userAttributes.",ns=function(){function e(n){this.N=new H(pj,16),this.g=new H("2",16),this.k=new H(this.hexHash(""+this.padHex(this.N)+this.padHex(this.g)),16),this.smallAValue=this.generateRandomSmallA(),this.getLargeAValue(function(){}),this.infoBits=fe.Buffer.from("Caldera Derived Key","utf8"),this.poolName=n}var t=e.prototype;return t.getSmallAValue=function(){return this.smallAValue},t.getLargeAValue=function(i){var s=this;this.largeAValue?i(null,this.largeAValue):this.calculateA(this.smallAValue,function(r,o){r&&i(r,null),s.largeAValue=o,i(null,s.largeAValue)})},t.generateRandomSmallA=function(){var i=uu(128).toString("hex"),s=new H(i,16);return s},t.generateRandomString=function(){return uu(40).toString("base64")},t.getRandomPassword=function(){return this.randomPassword},t.getSaltDevices=function(){return this.SaltToHashDevices},t.getVerifierDevices=function(){return this.verifierDevices},t.generateHashDevice=function(i,s,r){var o=this;this.randomPassword=this.generateRandomString();var a=""+i+s+":"+this.randomPassword,l=this.hash(a),c=uu(16).toString("hex");this.SaltToHashDevices=this.padHex(new H(c,16)),this.g.modPow(new H(this.hexHash(this.SaltToHashDevices+l),16),this.N,function(u,d){u&&r(u,null),o.verifierDevices=o.padHex(d),r(null,null)})},t.calculateA=function(i,s){var r=this;this.g.modPow(i,this.N,function(o,a){o&&s(o,null),a.mod(r.N).equals(H.ZERO)&&s(new Error("Illegal paramater. A mod N cannot be 0."),null),s(null,a)})},t.calculateU=function(i,s){this.UHexHash=this.hexHash(this.padHex(i)+this.padHex(s));var r=new H(this.UHexHash,16);return r},t.hash=function(i){var s=new As.Sha256;s.update(i);var r=s.digestSync(),o=fe.Buffer.from(r).toString("hex");return new Array(64-o.length).join("0")+o},t.hexHash=function(i){return this.hash(fe.Buffer.from(i,"hex"))},t.computehkdf=function(i,s){var r=fe.Buffer.concat([this.infoBits,fe.Buffer.from(String.fromCharCode(1),"utf8")]),o=new As.Sha256(s);o.update(i);var a=o.digestSync(),l=new As.Sha256(a);l.update(r);var c=l.digestSync(),u=c,d=u.slice(0,16);return d},t.getPasswordAuthenticationKey=function(i,s,r,o,a){var l=this;if(r.mod(this.N).equals(H.ZERO))throw new Error("B cannot be zero.");if(this.UValue=this.calculateU(this.largeAValue,r),this.UValue.equals(H.ZERO))throw new Error("U cannot be zero.");var c=""+this.poolName+i+":"+s,u=this.hash(c),d=new H(this.hexHash(this.padHex(o)+u),16);this.calculateS(d,r,function(f,p){f&&a(f,null);var m=l.computehkdf(fe.Buffer.from(l.padHex(p),"hex"),fe.Buffer.from(l.padHex(l.UValue),"hex"));a(null,m)})},t.calculateS=function(i,s,r){var o=this;this.g.modPow(i,this.N,function(a,l){a&&r(a,null);var c=s.subtract(o.k.multiply(l));c.modPow(o.smallAValue.add(o.UValue.multiply(i)),o.N,function(u,d){u&&r(u,null),r(null,d.mod(o.N))})})},t.getNewPasswordRequiredChallengeUserAttributePrefix=function(){return mj},t.padHex=function(i){if(!(i instanceof H))throw new Error("Not a BigInteger");var s=i.compareTo(H.ZERO)<0,r=i.abs().toString(16);if(r=r.length%2!==0?"0"+r:r,r=fj.test(r)?"00"+r:r,s){var o=r.split("").map(function(l){var c=~parseInt(l,16)&15;return"0123456789ABCDEF".charAt(c)}).join(""),a=new H(o,16).add(H.ONE);r=a.toString(16),r.toUpperCase().startsWith("FF8")&&(r=r.substring(2))}return r},e}();/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var I1=function(){function e(n){this.jwtToken=n||"",this.payload=this.decodePayload()}var t=e.prototype;return t.getJwtToken=function(){return this.jwtToken},t.getExpiration=function(){return this.payload.exp},t.getIssuedAt=function(){return this.payload.iat},t.decodePayload=function(){var i=this.jwtToken.split(".")[1];try{return JSON.parse(fe.Buffer.from(i,"base64").toString("utf8"))}catch{return{}}},e}();function gj(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Hd(e,t)}function Hd(e,t){return Hd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Hd(e,t)}var Zg=function(e){function t(n){var i=n===void 0?{}:n,s=i.AccessToken;return e.call(this,s||"")||this}return gj(t,e),t}(I1);function yj(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Wd(e,t)}function Wd(e,t){return Wd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Wd(e,t)}var e0=function(e){function t(n){var i=n===void 0?{}:n,s=i.IdToken;return e.call(this,s||"")||this}return yj(t,e),t}(I1);/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var t0=function(){function e(n){var i=n===void 0?{}:n,s=i.RefreshToken;this.token=s||""}var t=e.prototype;return t.getToken=function(){return this.token},e}(),xj="5.0.4";/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var vj="aws-amplify/"+xj,L1={userAgent:vj,isReactNative:typeof navigator<"u"&&navigator.product==="ReactNative"},wj=function(){return L1.userAgent};/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var n0=function(){function e(n){var i=n===void 0?{}:n,s=i.IdToken,r=i.RefreshToken,o=i.AccessToken,a=i.ClockDrift;if(o==null||s==null)throw new Error("Id token and Access Token must be present.");this.idToken=s,this.refreshToken=r,this.accessToken=o,this.clockDrift=a===void 0?this.calculateClockDrift():a}var t=e.prototype;return t.getIdToken=function(){return this.idToken},t.getRefreshToken=function(){return this.refreshToken},t.getAccessToken=function(){return this.accessToken},t.getClockDrift=function(){return this.clockDrift},t.calculateClockDrift=function(){var i=Math.floor(new Date/1e3),s=Math.min(this.accessToken.getIssuedAt(),this.idToken.getIssuedAt());return i-s},t.isValid=function(){var i=Math.floor(new Date/1e3),s=i-this.clockDrift;return s<this.accessToken.getExpiration()&&s<this.idToken.getExpiration()},e}();/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var bj=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Sj=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],i0=function(){function e(){}var t=e.prototype;return t.getNowString=function(){var i=new Date,s=Sj[i.getUTCDay()],r=bj[i.getUTCMonth()],o=i.getUTCDate(),a=i.getUTCHours();a<10&&(a="0"+a);var l=i.getUTCMinutes();l<10&&(l="0"+l);var c=i.getUTCSeconds();c<10&&(c="0"+c);var u=i.getUTCFullYear(),d=s+" "+r+" "+o+" "+a+":"+l+":"+c+" UTC "+u;return d},e}();/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var $d=function(){function e(n){var i=n===void 0?{}:n,s=i.Name,r=i.Value;this.Name=s||"",this.Value=r||""}var t=e.prototype;return t.getValue=function(){return this.Value},t.setValue=function(i){return this.Value=i,this},t.getName=function(){return this.Name},t.setName=function(i){return this.Name=i,this},t.toString=function(){return JSON.stringify(this)},t.toJSON=function(){return{Name:this.Name,Value:this.Value}},e}();/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var wi={},_j=function(){function e(){}return e.setItem=function(n,i){return wi[n]=i,wi[n]},e.getItem=function(n){return Object.prototype.hasOwnProperty.call(wi,n)?wi[n]:void 0},e.removeItem=function(n){return delete wi[n]},e.clear=function(){return wi={},wi},e}(),F1=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.cognito.test-ls",1),this.storageWindow.removeItem("aws.cognito.test-ls")}catch{this.storageWindow=_j}}var t=e.prototype;return t.getStorage=function(){return this.storageWindow},e}();/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var Cj=typeof navigator<"u",s0=Cj?L1.isReactNative?"react-native":navigator.userAgent:"nodejs",po=function(){function e(n){if(n==null||n.Username==null||n.Pool==null)throw new Error("Username and Pool information are required.");this.username=n.Username||"",this.pool=n.Pool,this.Session=null,this.client=n.Pool.client,this.signInUserSession=null,this.authenticationFlowType="USER_SRP_AUTH",this.storage=n.Storage||new F1().getStorage(),this.keyPrefix="CognitoIdentityServiceProvider."+this.pool.getClientId(),this.userDataKey=this.keyPrefix+"."+this.username+".userData"}var t=e.prototype;return t.setSignInUserSession=function(i){this.clearCachedUserData(),this.signInUserSession=i,this.cacheTokens()},t.getSignInUserSession=function(){return this.signInUserSession},t.getUsername=function(){return this.username},t.getAuthenticationFlowType=function(){return this.authenticationFlowType},t.setAuthenticationFlowType=function(i){this.authenticationFlowType=i},t.initiateAuth=function(i,s){var r=this,o=i.getAuthParameters();o.USERNAME=this.username;var a=Object.keys(i.getValidationData()).length!==0?i.getValidationData():i.getClientMetadata(),l={AuthFlow:"CUSTOM_AUTH",ClientId:this.pool.getClientId(),AuthParameters:o,ClientMetadata:a};this.getUserContextData()&&(l.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",l,function(c,u){if(c)return s.onFailure(c);var d=u.ChallengeName,f=u.ChallengeParameters;return d==="CUSTOM_CHALLENGE"?(r.Session=u.Session,s.customChallenge(f)):(r.signInUserSession=r.getCognitoUserSession(u.AuthenticationResult),r.cacheTokens(),s.onSuccess(r.signInUserSession))})},t.authenticateUser=function(i,s){return this.authenticationFlowType==="USER_PASSWORD_AUTH"?this.authenticateUserPlainUsernamePassword(i,s):this.authenticationFlowType==="USER_SRP_AUTH"||this.authenticationFlowType==="CUSTOM_AUTH"?this.authenticateUserDefaultAuth(i,s):s.onFailure(new Error("Authentication flow type is invalid."))},t.authenticateUserDefaultAuth=function(i,s){var r=this,o=new ns(this.pool.getUserPoolName()),a=new i0,l,c,u={};this.deviceKey!=null&&(u.DEVICE_KEY=this.deviceKey),u.USERNAME=this.username,o.getLargeAValue(function(d,f){d&&s.onFailure(d),u.SRP_A=f.toString(16),r.authenticationFlowType==="CUSTOM_AUTH"&&(u.CHALLENGE_NAME="SRP_A");var p=Object.keys(i.getValidationData()).length!==0?i.getValidationData():i.getClientMetadata(),m={AuthFlow:r.authenticationFlowType,ClientId:r.pool.getClientId(),AuthParameters:u,ClientMetadata:p};r.getUserContextData(r.username)&&(m.UserContextData=r.getUserContextData(r.username)),r.client.request("InitiateAuth",m,function(g,b){if(g)return s.onFailure(g);var y=b.ChallengeParameters;r.username=y.USER_ID_FOR_SRP,r.userDataKey=r.keyPrefix+"."+r.username+".userData",l=new H(y.SRP_B,16),c=new H(y.SALT,16),r.getCachedDeviceKeyAndPassword(),o.getPasswordAuthenticationKey(r.username,i.getPassword(),l,c,function(w,S){w&&s.onFailure(w);var E=a.getNowString(),k=fe.Buffer.concat([fe.Buffer.from(r.pool.getUserPoolName(),"utf8"),fe.Buffer.from(r.username,"utf8"),fe.Buffer.from(y.SECRET_BLOCK,"base64"),fe.Buffer.from(E,"utf8")]),N=new As.Sha256(S);N.update(k);var j=N.digestSync(),P=fe.Buffer.from(j).toString("base64"),R={};R.USERNAME=r.username,R.PASSWORD_CLAIM_SECRET_BLOCK=y.SECRET_BLOCK,R.TIMESTAMP=E,R.PASSWORD_CLAIM_SIGNATURE=P,r.deviceKey!=null&&(R.DEVICE_KEY=r.deviceKey);var F=function(V,Z){return r.client.request("RespondToAuthChallenge",V,function(X,ne){return X&&X.code==="ResourceNotFoundException"&&X.message.toLowerCase().indexOf("device")!==-1?(R.DEVICE_KEY=null,r.deviceKey=null,r.randomPassword=null,r.deviceGroupKey=null,r.clearCachedDeviceKeyAndPassword(),F(V,Z)):Z(X,ne)})},D={ChallengeName:"PASSWORD_VERIFIER",ClientId:r.pool.getClientId(),ChallengeResponses:R,Session:b.Session,ClientMetadata:p};r.getUserContextData()&&(D.UserContextData=r.getUserContextData()),F(D,function(B,V){return B?s.onFailure(B):r.authenticateUserInternal(V,o,s)})})})})},t.authenticateUserPlainUsernamePassword=function(i,s){var r=this,o={};if(o.USERNAME=this.username,o.PASSWORD=i.getPassword(),!o.PASSWORD){s.onFailure(new Error("PASSWORD parameter is required"));return}var a=new ns(this.pool.getUserPoolName());this.getCachedDeviceKeyAndPassword(),this.deviceKey!=null&&(o.DEVICE_KEY=this.deviceKey);var l=Object.keys(i.getValidationData()).length!==0?i.getValidationData():i.getClientMetadata(),c={AuthFlow:"USER_PASSWORD_AUTH",ClientId:this.pool.getClientId(),AuthParameters:o,ClientMetadata:l};this.getUserContextData(this.username)&&(c.UserContextData=this.getUserContextData(this.username)),this.client.request("InitiateAuth",c,function(u,d){return u?s.onFailure(u):r.authenticateUserInternal(d,a,s)})},t.authenticateUserInternal=function(i,s,r){var o=this,a=i.ChallengeName,l=i.ChallengeParameters;if(a==="SMS_MFA")return this.Session=i.Session,r.mfaRequired(a,l);if(a==="SELECT_MFA_TYPE")return this.Session=i.Session,r.selectMFAType(a,l);if(a==="MFA_SETUP")return this.Session=i.Session,r.mfaSetup(a,l);if(a==="SOFTWARE_TOKEN_MFA")return this.Session=i.Session,r.totpRequired(a,l);if(a==="CUSTOM_CHALLENGE")return this.Session=i.Session,r.customChallenge(l);if(a==="NEW_PASSWORD_REQUIRED"){this.Session=i.Session;var c=null,u=null,d=[],f=s.getNewPasswordRequiredChallengeUserAttributePrefix();if(l&&(c=JSON.parse(i.ChallengeParameters.userAttributes),u=JSON.parse(i.ChallengeParameters.requiredAttributes)),u)for(var p=0;p<u.length;p++)d[p]=u[p].substr(f.length);return r.newPasswordRequired(c,d)}if(a==="DEVICE_SRP_AUTH"){this.Session=i.Session,this.getDeviceResponse(r);return}this.signInUserSession=this.getCognitoUserSession(i.AuthenticationResult),this.challengeName=a,this.cacheTokens();var m=i.AuthenticationResult.NewDeviceMetadata;if(m==null)return r.onSuccess(this.signInUserSession);s.generateHashDevice(i.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,i.AuthenticationResult.NewDeviceMetadata.DeviceKey,function(g){if(g)return r.onFailure(g);var b={Salt:fe.Buffer.from(s.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:fe.Buffer.from(s.getVerifierDevices(),"hex").toString("base64")};o.verifierDevices=b.PasswordVerifier,o.deviceGroupKey=m.DeviceGroupKey,o.randomPassword=s.getRandomPassword(),o.client.request("ConfirmDevice",{DeviceKey:m.DeviceKey,AccessToken:o.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:b,DeviceName:s0},function(y,w){return y?r.onFailure(y):(o.deviceKey=i.AuthenticationResult.NewDeviceMetadata.DeviceKey,o.cacheDeviceKeyAndPassword(),w.UserConfirmationNecessary===!0?r.onSuccess(o.signInUserSession,w.UserConfirmationNecessary):r.onSuccess(o.signInUserSession))})})},t.completeNewPasswordChallenge=function(i,s,r,o){var a=this;if(!i)return r.onFailure(new Error("New password is required."));var l=new ns(this.pool.getUserPoolName()),c=l.getNewPasswordRequiredChallengeUserAttributePrefix(),u={};s&&Object.keys(s).forEach(function(f){u[c+f]=s[f]}),u.NEW_PASSWORD=i,u.USERNAME=this.username;var d={ChallengeName:"NEW_PASSWORD_REQUIRED",ClientId:this.pool.getClientId(),ChallengeResponses:u,Session:this.Session,ClientMetadata:o};this.getUserContextData()&&(d.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",d,function(f,p){return f?r.onFailure(f):a.authenticateUserInternal(p,l,r)})},t.getDeviceResponse=function(i,s){var r=this,o=new ns(this.deviceGroupKey),a=new i0,l={};l.USERNAME=this.username,l.DEVICE_KEY=this.deviceKey,o.getLargeAValue(function(c,u){c&&i.onFailure(c),l.SRP_A=u.toString(16);var d={ChallengeName:"DEVICE_SRP_AUTH",ClientId:r.pool.getClientId(),ChallengeResponses:l,ClientMetadata:s,Session:r.Session};r.getUserContextData()&&(d.UserContextData=r.getUserContextData()),r.client.request("RespondToAuthChallenge",d,function(f,p){if(f)return i.onFailure(f);var m=p.ChallengeParameters,g=new H(m.SRP_B,16),b=new H(m.SALT,16);o.getPasswordAuthenticationKey(r.deviceKey,r.randomPassword,g,b,function(y,w){if(y)return i.onFailure(y);var S=a.getNowString(),E=fe.Buffer.concat([fe.Buffer.from(r.deviceGroupKey,"utf8"),fe.Buffer.from(r.deviceKey,"utf8"),fe.Buffer.from(m.SECRET_BLOCK,"base64"),fe.Buffer.from(S,"utf8")]),k=new As.Sha256(w);k.update(E);var N=k.digestSync(),j=fe.Buffer.from(N).toString("base64"),P={};P.USERNAME=r.username,P.PASSWORD_CLAIM_SECRET_BLOCK=m.SECRET_BLOCK,P.TIMESTAMP=S,P.PASSWORD_CLAIM_SIGNATURE=j,P.DEVICE_KEY=r.deviceKey;var R={ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:r.pool.getClientId(),ChallengeResponses:P,Session:p.Session};r.getUserContextData()&&(R.UserContextData=r.getUserContextData()),r.client.request("RespondToAuthChallenge",R,function(F,D){return F?i.onFailure(F):(r.signInUserSession=r.getCognitoUserSession(D.AuthenticationResult),r.cacheTokens(),i.onSuccess(r.signInUserSession))})})})})},t.confirmRegistration=function(i,s,r,o){var a={ClientId:this.pool.getClientId(),ConfirmationCode:i,Username:this.username,ForceAliasCreation:s,ClientMetadata:o};this.getUserContextData()&&(a.UserContextData=this.getUserContextData()),this.client.request("ConfirmSignUp",a,function(l){return l?r(l,null):r(null,"SUCCESS")})},t.sendCustomChallengeAnswer=function(i,s,r){var o=this,a={};a.USERNAME=this.username,a.ANSWER=i;var l=new ns(this.pool.getUserPoolName());this.getCachedDeviceKeyAndPassword(),this.deviceKey!=null&&(a.DEVICE_KEY=this.deviceKey);var c={ChallengeName:"CUSTOM_CHALLENGE",ChallengeResponses:a,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:r};this.getUserContextData()&&(c.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",c,function(u,d){return u?s.onFailure(u):o.authenticateUserInternal(d,l,s)})},t.sendMFACode=function(i,s,r,o){var a=this,l={};l.USERNAME=this.username,l.SMS_MFA_CODE=i;var c=r||"SMS_MFA";c==="SOFTWARE_TOKEN_MFA"&&(l.SOFTWARE_TOKEN_MFA_CODE=i),this.deviceKey!=null&&(l.DEVICE_KEY=this.deviceKey);var u={ChallengeName:c,ChallengeResponses:l,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:o};this.getUserContextData()&&(u.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",u,function(d,f){if(d)return s.onFailure(d);var p=f.ChallengeName;if(p==="DEVICE_SRP_AUTH"){a.getDeviceResponse(s);return}if(a.signInUserSession=a.getCognitoUserSession(f.AuthenticationResult),a.cacheTokens(),f.AuthenticationResult.NewDeviceMetadata==null)return s.onSuccess(a.signInUserSession);var m=new ns(a.pool.getUserPoolName());m.generateHashDevice(f.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,f.AuthenticationResult.NewDeviceMetadata.DeviceKey,function(g){if(g)return s.onFailure(g);var b={Salt:fe.Buffer.from(m.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:fe.Buffer.from(m.getVerifierDevices(),"hex").toString("base64")};a.verifierDevices=b.PasswordVerifier,a.deviceGroupKey=f.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,a.randomPassword=m.getRandomPassword(),a.client.request("ConfirmDevice",{DeviceKey:f.AuthenticationResult.NewDeviceMetadata.DeviceKey,AccessToken:a.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:b,DeviceName:s0},function(y,w){return y?s.onFailure(y):(a.deviceKey=f.AuthenticationResult.NewDeviceMetadata.DeviceKey,a.cacheDeviceKeyAndPassword(),w.UserConfirmationNecessary===!0?s.onSuccess(a.signInUserSession,w.UserConfirmationNecessary):s.onSuccess(a.signInUserSession))})})})},t.changePassword=function(i,s,r,o){if(!(this.signInUserSession!=null&&this.signInUserSession.isValid()))return r(new Error("User is not authenticated"),null);this.client.request("ChangePassword",{PreviousPassword:i,ProposedPassword:s,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:o},function(a){return a?r(a,null):r(null,"SUCCESS")})},t.enableMFA=function(i){if(this.signInUserSession==null||!this.signInUserSession.isValid())return i(new Error("User is not authenticated"),null);var s=[],r={DeliveryMedium:"SMS",AttributeName:"phone_number"};s.push(r),this.client.request("SetUserSettings",{MFAOptions:s,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(o){return o?i(o,null):i(null,"SUCCESS")})},t.setUserMfaPreference=function(i,s,r){if(this.signInUserSession==null||!this.signInUserSession.isValid())return r(new Error("User is not authenticated"),null);this.client.request("SetUserMFAPreference",{SMSMfaSettings:i,SoftwareTokenMfaSettings:s,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(o){return o?r(o,null):r(null,"SUCCESS")})},t.disableMFA=function(i){if(this.signInUserSession==null||!this.signInUserSession.isValid())return i(new Error("User is not authenticated"),null);var s=[];this.client.request("SetUserSettings",{MFAOptions:s,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(r){return r?i(r,null):i(null,"SUCCESS")})},t.deleteUser=function(i,s){var r=this;if(this.signInUserSession==null||!this.signInUserSession.isValid())return i(new Error("User is not authenticated"),null);this.client.request("DeleteUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:s},function(o){return o?i(o,null):(r.clearCachedUser(),i(null,"SUCCESS"))})},t.updateAttributes=function(i,s,r){var o=this;if(this.signInUserSession==null||!this.signInUserSession.isValid())return s(new Error("User is not authenticated"),null);this.client.request("UpdateUserAttributes",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserAttributes:i,ClientMetadata:r},function(a,l){return a?s(a,null):o.getUserData(function(){return s(null,"SUCCESS",l)},{bypassCache:!0})})},t.getUserAttributes=function(i){if(!(this.signInUserSession!=null&&this.signInUserSession.isValid()))return i(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(s,r){if(s)return i(s,null);for(var o=[],a=0;a<r.UserAttributes.length;a++){var l={Name:r.UserAttributes[a].Name,Value:r.UserAttributes[a].Value},c=new $d(l);o.push(c)}return i(null,o)})},t.getMFAOptions=function(i){if(!(this.signInUserSession!=null&&this.signInUserSession.isValid()))return i(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(s,r){return s?i(s,null):i(null,r.MFAOptions)})},t.createGetUserRequest=function(){return this.client.promisifyRequest("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()})},t.refreshSessionIfPossible=function(i){var s=this;return i===void 0&&(i={}),new Promise(function(r){var o=s.signInUserSession.getRefreshToken();o&&o.getToken()?s.refreshSession(o,r,i.clientMetadata):r()})},t.getUserData=function(i,s){var r=this;if(!(this.signInUserSession!=null&&this.signInUserSession.isValid()))return this.clearCachedUserData(),i(new Error("User is not authenticated"),null);var o=this.getUserDataFromCache();if(!o){this.fetchUserData().then(function(a){i(null,a)}).catch(i);return}if(this.isFetchUserDataAndTokenRequired(s)){this.fetchUserData().then(function(a){return r.refreshSessionIfPossible(s).then(function(){return a})}).then(function(a){return i(null,a)}).catch(i);return}try{i(null,JSON.parse(o));return}catch(a){this.clearCachedUserData(),i(a,null);return}},t.getUserDataFromCache=function(){var i=this.storage.getItem(this.userDataKey);return i},t.isFetchUserDataAndTokenRequired=function(i){var s=i||{},r=s.bypassCache,o=r===void 0?!1:r;return o},t.fetchUserData=function(){var i=this;return this.createGetUserRequest().then(function(s){return i.cacheUserData(s),s})},t.deleteAttributes=function(i,s){var r=this;if(!(this.signInUserSession!=null&&this.signInUserSession.isValid()))return s(new Error("User is not authenticated"),null);this.client.request("DeleteUserAttributes",{UserAttributeNames:i,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(o){return o?s(o,null):r.getUserData(function(){return s(null,"SUCCESS")},{bypassCache:!0})})},t.resendConfirmationCode=function(i,s){var r={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:s};this.client.request("ResendConfirmationCode",r,function(o,a){return o?i(o,null):i(null,a)})},t.getSession=function(i,s){if(s===void 0&&(s={}),this.username==null)return i(new Error("Username is null. Cannot retrieve a new session"),null);if(this.signInUserSession!=null&&this.signInUserSession.isValid())return i(null,this.signInUserSession);var r="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,o=r+".idToken",a=r+".accessToken",l=r+".refreshToken",c=r+".clockDrift";if(this.storage.getItem(o)){var u=new e0({IdToken:this.storage.getItem(o)}),d=new Zg({AccessToken:this.storage.getItem(a)}),f=new t0({RefreshToken:this.storage.getItem(l)}),p=parseInt(this.storage.getItem(c),0)||0,m={IdToken:u,AccessToken:d,RefreshToken:f,ClockDrift:p},g=new n0(m);if(g.isValid())return this.signInUserSession=g,i(null,this.signInUserSession);if(!f.getToken())return i(new Error("Cannot retrieve a new session. Please authenticate."),null);this.refreshSession(f,i,s.clientMetadata)}else i(new Error("Local storage is missing an ID Token, Please authenticate"),null)},t.refreshSession=function(i,s,r){var o=this,a=this.pool.wrapRefreshSessionCallback?this.pool.wrapRefreshSessionCallback(s):s,l={};l.REFRESH_TOKEN=i.getToken();var c="CognitoIdentityServiceProvider."+this.pool.getClientId(),u=c+".LastAuthUser";if(this.storage.getItem(u)){this.username=this.storage.getItem(u);var d=c+"."+this.username+".deviceKey";this.deviceKey=this.storage.getItem(d),l.DEVICE_KEY=this.deviceKey}var f={ClientId:this.pool.getClientId(),AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:l,ClientMetadata:r};this.getUserContextData()&&(f.UserContextData=this.getUserContextData()),this.client.requestWithRetry("InitiateAuth",f,function(p,m){if(p)return p.code==="NotAuthorizedException"&&o.clearCachedUser(),a(p,null);if(m){var g=m.AuthenticationResult;return Object.prototype.hasOwnProperty.call(g,"RefreshToken")||(g.RefreshToken=i.getToken()),o.signInUserSession=o.getCognitoUserSession(g),o.cacheTokens(),a(null,o.signInUserSession)}})},t.cacheTokens=function(){var i="CognitoIdentityServiceProvider."+this.pool.getClientId(),s=i+"."+this.username+".idToken",r=i+"."+this.username+".accessToken",o=i+"."+this.username+".refreshToken",a=i+"."+this.username+".clockDrift",l=i+".LastAuthUser";this.storage.setItem(s,this.signInUserSession.getIdToken().getJwtToken()),this.storage.setItem(r,this.signInUserSession.getAccessToken().getJwtToken()),this.storage.setItem(o,this.signInUserSession.getRefreshToken().getToken()),this.storage.setItem(a,""+this.signInUserSession.getClockDrift()),this.storage.setItem(l,this.username)},t.cacheUserData=function(i){this.storage.setItem(this.userDataKey,JSON.stringify(i))},t.clearCachedUserData=function(){this.storage.removeItem(this.userDataKey)},t.clearCachedUser=function(){this.clearCachedTokens(),this.clearCachedUserData()},t.cacheDeviceKeyAndPassword=function(){var i="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,s=i+".deviceKey",r=i+".randomPasswordKey",o=i+".deviceGroupKey";this.storage.setItem(s,this.deviceKey),this.storage.setItem(r,this.randomPassword),this.storage.setItem(o,this.deviceGroupKey)},t.getCachedDeviceKeyAndPassword=function(){var i="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,s=i+".deviceKey",r=i+".randomPasswordKey",o=i+".deviceGroupKey";this.storage.getItem(s)&&(this.deviceKey=this.storage.getItem(s),this.randomPassword=this.storage.getItem(r),this.deviceGroupKey=this.storage.getItem(o))},t.clearCachedDeviceKeyAndPassword=function(){var i="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,s=i+".deviceKey",r=i+".randomPasswordKey",o=i+".deviceGroupKey";this.storage.removeItem(s),this.storage.removeItem(r),this.storage.removeItem(o)},t.clearCachedTokens=function(){var i="CognitoIdentityServiceProvider."+this.pool.getClientId(),s=i+"."+this.username+".idToken",r=i+"."+this.username+".accessToken",o=i+"."+this.username+".refreshToken",a=i+".LastAuthUser",l=i+"."+this.username+".clockDrift";this.storage.removeItem(s),this.storage.removeItem(r),this.storage.removeItem(o),this.storage.removeItem(a),this.storage.removeItem(l)},t.getCognitoUserSession=function(i){var s=new e0(i),r=new Zg(i),o=new t0(i),a={IdToken:s,AccessToken:r,RefreshToken:o};return new n0(a)},t.forgotPassword=function(i,s){var r={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:s};this.getUserContextData()&&(r.UserContextData=this.getUserContextData()),this.client.request("ForgotPassword",r,function(o,a){return o?i.onFailure(o):typeof i.inputVerificationCode=="function"?i.inputVerificationCode(a):i.onSuccess(a)})},t.confirmPassword=function(i,s,r,o){var a={ClientId:this.pool.getClientId(),Username:this.username,ConfirmationCode:i,Password:s,ClientMetadata:o};this.getUserContextData()&&(a.UserContextData=this.getUserContextData()),this.client.request("ConfirmForgotPassword",a,function(l){return l?r.onFailure(l):r.onSuccess("SUCCESS")})},t.getAttributeVerificationCode=function(i,s,r){if(this.signInUserSession==null||!this.signInUserSession.isValid())return s.onFailure(new Error("User is not authenticated"));this.client.request("GetUserAttributeVerificationCode",{AttributeName:i,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:r},function(o,a){return o?s.onFailure(o):typeof s.inputVerificationCode=="function"?s.inputVerificationCode(a):s.onSuccess("SUCCESS")})},t.verifyAttribute=function(i,s,r){if(this.signInUserSession==null||!this.signInUserSession.isValid())return r.onFailure(new Error("User is not authenticated"));this.client.request("VerifyUserAttribute",{AttributeName:i,Code:s,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(o){return o?r.onFailure(o):r.onSuccess("SUCCESS")})},t.getDevice=function(i){if(this.signInUserSession==null||!this.signInUserSession.isValid())return i.onFailure(new Error("User is not authenticated"));this.client.request("GetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey},function(s,r){return s?i.onFailure(s):i.onSuccess(r)})},t.forgetSpecificDevice=function(i,s){if(this.signInUserSession==null||!this.signInUserSession.isValid())return s.onFailure(new Error("User is not authenticated"));this.client.request("ForgetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:i},function(r){return r?s.onFailure(r):s.onSuccess("SUCCESS")})},t.forgetDevice=function(i){var s=this;this.forgetSpecificDevice(this.deviceKey,{onFailure:i.onFailure,onSuccess:function(o){return s.deviceKey=null,s.deviceGroupKey=null,s.randomPassword=null,s.clearCachedDeviceKeyAndPassword(),i.onSuccess(o)}})},t.setDeviceStatusRemembered=function(i){if(this.signInUserSession==null||!this.signInUserSession.isValid())return i.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"remembered"},function(s){return s?i.onFailure(s):i.onSuccess("SUCCESS")})},t.setDeviceStatusNotRemembered=function(i){if(this.signInUserSession==null||!this.signInUserSession.isValid())return i.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"not_remembered"},function(s){return s?i.onFailure(s):i.onSuccess("SUCCESS")})},t.listDevices=function(i,s,r){if(this.signInUserSession==null||!this.signInUserSession.isValid())return r.onFailure(new Error("User is not authenticated"));var o={AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),Limit:i};s&&(o.PaginationToken=s),this.client.request("ListDevices",o,function(a,l){return a?r.onFailure(a):r.onSuccess(l)})},t.globalSignOut=function(i){var s=this;if(this.signInUserSession==null||!this.signInUserSession.isValid())return i.onFailure(new Error("User is not authenticated"));this.client.request("GlobalSignOut",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(r){return r?i.onFailure(r):(s.clearCachedUser(),i.onSuccess("SUCCESS"))})},t.signOut=function(i){var s=this;if(!i||typeof i!="function"){this.cleanClientData();return}this.getSession(function(r,o){if(r)return i(r);s.revokeTokens(function(a){s.cleanClientData(),i(a)})})},t.revokeTokens=function(i){if(i===void 0&&(i=function(){}),typeof i!="function")throw new Error("Invalid revokeTokenCallback. It should be a function.");if(!this.signInUserSession){var s=new Error("User is not authenticated");return i(s)}if(!this.signInUserSession.getAccessToken()){var r=new Error("No Access token available");return i(r)}var o=this.signInUserSession.getRefreshToken().getToken(),a=this.signInUserSession.getAccessToken();if(this.isSessionRevocable(a)&&o)return this.revokeToken({token:o,callback:i});i()},t.isSessionRevocable=function(i){if(i&&typeof i.decodePayload=="function")try{var s=i.decodePayload(),r=s.origin_jti;return!!r}catch{}return!1},t.cleanClientData=function(){this.signInUserSession=null,this.clearCachedUser()},t.revokeToken=function(i){var s=i.token,r=i.callback;this.client.requestWithRetry("RevokeToken",{Token:s,ClientId:this.pool.getClientId()},function(o){if(o)return r(o);r()})},t.sendMFASelectionAnswer=function(i,s){var r=this,o={};o.USERNAME=this.username,o.ANSWER=i;var a={ChallengeName:"SELECT_MFA_TYPE",ChallengeResponses:o,ClientId:this.pool.getClientId(),Session:this.Session};this.getUserContextData()&&(a.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",a,function(l,c){if(l)return s.onFailure(l);if(r.Session=c.Session,i==="SMS_MFA")return s.mfaRequired(c.ChallengeName,c.ChallengeParameters);if(i==="SOFTWARE_TOKEN_MFA")return s.totpRequired(c.ChallengeName,c.ChallengeParameters)})},t.getUserContextData=function(){var i=this.pool;return i.getUserContextData(this.username)},t.associateSoftwareToken=function(i){var s=this;this.signInUserSession!=null&&this.signInUserSession.isValid()?this.client.request("AssociateSoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(r,o){return r?i.onFailure(r):i.associateSecretCode(o.SecretCode)}):this.client.request("AssociateSoftwareToken",{Session:this.Session},function(r,o){return r?i.onFailure(r):(s.Session=o.Session,i.associateSecretCode(o.SecretCode))})},t.verifySoftwareToken=function(i,s,r){var o=this;this.signInUserSession!=null&&this.signInUserSession.isValid()?this.client.request("VerifySoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserCode:i,FriendlyDeviceName:s},function(a,l){return a?r.onFailure(a):r.onSuccess(l)}):this.client.request("VerifySoftwareToken",{Session:this.Session,UserCode:i,FriendlyDeviceName:s},function(a,l){if(a)return r.onFailure(a);o.Session=l.Session;var c={};c.USERNAME=o.username;var u={ChallengeName:"MFA_SETUP",ClientId:o.pool.getClientId(),ChallengeResponses:c,Session:o.Session};o.getUserContextData()&&(u.UserContextData=o.getUserContextData()),o.client.request("RespondToAuthChallenge",u,function(d,f){return d?r.onFailure(d):(o.signInUserSession=o.getCognitoUserSession(f.AuthenticationResult),o.cacheTokens(),r.onSuccess(o.signInUserSession))})})},e}();function Ej(e,t){return t=t||{},new Promise(function(n,i){var s=new XMLHttpRequest,r=[],o=[],a={},l=function(){return{ok:(s.status/100|0)==2,statusText:s.statusText,status:s.status,url:s.responseURL,text:function(){return Promise.resolve(s.responseText)},json:function(){return Promise.resolve(s.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([s.response]))},clone:l,headers:{keys:function(){return r},entries:function(){return o},get:function(u){return a[u.toLowerCase()]},has:function(u){return u.toLowerCase()in a}}}};for(var c in s.open(t.method||"get",e,!0),s.onload=function(){s.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(u,d,f){r.push(d=d.toLowerCase()),o.push([d,f]),a[d]=a[d]?a[d]+","+f:f}),n(l())},s.onerror=i,s.withCredentials=t.credentials=="include",t.headers)s.setRequestHeader(c,t.headers[c]);s.send(t.body||null)})}const Tj=Object.freeze(Object.defineProperty({__proto__:null,default:Ej},Symbol.toStringTag,{value:"Module"})),r0=ah(Tj);self.fetch||(self.fetch=r0.default||r0);function rs(){}rs.prototype.userAgent=wj();var kj=function(t){var n=rs.category?" "+rs.category:"",i=rs.framework?" framework/"+rs.framework:"",s=""+rs.prototype.userAgent+n+i;return s};function Pj(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,mo(e,t)}function Kd(e){var t=typeof Map=="function"?new Map:void 0;return Kd=function(i){if(i===null||!Nj(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(i))return t.get(i);t.set(i,s)}function s(){return Aj(i,arguments,Gd(this).constructor)}return s.prototype=Object.create(i.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),mo(s,i)},Kd(e)}function Aj(e,t,n){if(O1())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,t);var s=new(e.bind.apply(e,i));return n&&mo(s,n.prototype),s}function O1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O1=function(){return!!e})()}function Nj(e){try{return Function.toString.call(e).indexOf("[native code]")!==-1}catch{return typeof e=="function"}}function mo(e,t){return mo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mo(e,t)}function Gd(e){return Gd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Gd(e)}var jj=function(e){function t(n,i,s,r){var o;return o=e.call(this,n)||this,o.code=i,o.name=s,o.statusCode=r,o}return Pj(t,e),t}(Kd(Error)),Dj=function(){function e(n,i,s){this.endpoint=i||"https://cognito-idp."+n+".amazonaws.com/";var r=s||{},o=r.credentials;this.fetchOptions=o?{credentials:o}:{}}var t=e.prototype;return t.promisifyRequest=function(i,s){var r=this;return new Promise(function(o,a){r.request(i,s,function(l,c){l?a(new jj(l.message,l.code,l.name,l.statusCode)):o(c)})})},t.requestWithRetry=function(i,s,r){var o=this,a=5*1e3;Lj(function(l){return new Promise(function(c,u){o.request(i,l,function(d,f){d?u(d):c(f)})})},[s],a).then(function(l){return r(null,l)}).catch(function(l){return r(l)})},t.request=function(i,s,r){var o={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityProviderService."+i,"X-Amz-User-Agent":kj(),"Cache-Control":"no-store"},a=Object.assign({},this.fetchOptions,{headers:o,method:"POST",mode:"cors",body:JSON.stringify(s)}),l;fetch(this.endpoint,a).then(function(c){return l=c,c},function(c){throw c instanceof TypeError?new Error("Network error"):c}).then(function(c){return c.json().catch(function(){return{}})}).then(function(c){if(l.ok)return r(null,c);var u=(c.__type||c.code).split("#").pop(),d=new Error(c.message||c.Message||null);return d.name=u,d.code=u,r(d)}).catch(function(c){if(l&&l.headers&&l.headers.get("x-amzn-errortype"))try{var u=l.headers.get("x-amzn-errortype").split(":")[0],d=new Error(l.status?l.status.toString():null);return d.code=u,d.name=u,d.statusCode=l.status,r(d)}catch{return r(c)}else c instanceof Error&&c.message==="Network error"&&(c.code="NetworkError");return r(c)})},e}(),ca={debug:function(){}},Mj=function(t){var n="nonRetryable";return t&&t[n]};function U1(e,t,n,i){if(i===void 0&&(i=1),typeof e!="function")throw Error("functionToRetry must be a function");return ca.debug(e.name+" attempt #"+i+" with args: "+JSON.stringify(t)),e.apply(void 0,t).catch(function(s){if(ca.debug("error on "+e.name,s),Mj(s))throw ca.debug(e.name+" non retryable error",s),s;var r=n(i,t,s);if(ca.debug(e.name+" retrying in "+r+" ms"),r!==!1)return new Promise(function(o){return setTimeout(o,r)}).then(function(){return U1(e,t,n,i+1)});throw s})}function Rj(e){var t=100,n=100;return function(i){var s=Math.pow(2,i)*t+n*Math.random();return s>e?!1:s}}var Ij=5*60*1e3;function Lj(e,t,n){return n===void 0&&(n=Ij),U1(e,t,Rj(n))}/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var Fj=55,Oj=function(){function e(n,i){var s=n||{},r=s.UserPoolId,o=s.ClientId,a=s.endpoint,l=s.fetchOptions,c=s.AdvancedSecurityDataCollectionFlag;if(!r||!o)throw new Error("Both UserPoolId and ClientId are required.");if(r.length>Fj||!/^[\w-]+_[0-9a-zA-Z]+$/.test(r))throw new Error("Invalid UserPoolId format.");var u=r.split("_")[0];this.userPoolId=r,this.clientId=o,this.client=new Dj(u,a,l),this.advancedSecurityDataCollectionFlag=c!==!1,this.storage=n.Storage||new F1().getStorage(),i&&(this.wrapRefreshSessionCallback=i)}var t=e.prototype;return t.getUserPoolId=function(){return this.userPoolId},t.getUserPoolName=function(){return this.getUserPoolId().split("_")[1]},t.getClientId=function(){return this.clientId},t.signUp=function(i,s,r,o,a,l){var c=this,u={ClientId:this.clientId,Username:i,Password:s,UserAttributes:r,ValidationData:o,ClientMetadata:l};this.getUserContextData(i)&&(u.UserContextData=this.getUserContextData(i)),this.client.request("SignUp",u,function(d,f){if(d)return a(d,null);var p={Username:i,Pool:c,Storage:c.storage},m={user:new po(p),userConfirmed:f.UserConfirmed,userSub:f.UserSub,codeDeliveryDetails:f.CodeDeliveryDetails};return a(null,m)})},t.getCurrentUser=function(){var i="CognitoIdentityServiceProvider."+this.clientId+".LastAuthUser",s=this.storage.getItem(i);if(s){var r={Username:s,Pool:this,Storage:this.storage};return new po(r)}return null},t.getUserContextData=function(i){if(!(typeof AmazonCognitoAdvancedSecurityData>"u")){var s=AmazonCognitoAdvancedSecurityData;if(this.advancedSecurityDataCollectionFlag){var r=s.getData(i,this.userPoolId,this.clientId);if(r){var o={EncodedData:r};return o}}return{}}},e}(),Uj={exports:{}};/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */(function(e,t){(function(n){var i;if(e.exports=n(),i=!0,!i){var s=window.Cookies,r=window.Cookies=n();r.noConflict=function(){return window.Cookies=s,r}}})(function(){function n(){for(var r=0,o={};r<arguments.length;r++){var a=arguments[r];for(var l in a)o[l]=a[l]}return o}function i(r){return r.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function s(r){function o(){}function a(c,u,d){if(!(typeof document>"u")){d=n({path:"/"},o.defaults,d),typeof d.expires=="number"&&(d.expires=new Date(new Date*1+d.expires*864e5)),d.expires=d.expires?d.expires.toUTCString():"";try{var f=JSON.stringify(u);/^[\{\[]/.test(f)&&(u=f)}catch{}u=r.write?r.write(u,c):encodeURIComponent(String(u)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),c=encodeURIComponent(String(c)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var p="";for(var m in d)d[m]&&(p+="; "+m,d[m]!==!0&&(p+="="+d[m].split(";")[0]));return document.cookie=c+"="+u+p}}function l(c,u){if(!(typeof document>"u")){for(var d={},f=document.cookie?document.cookie.split("; "):[],p=0;p<f.length;p++){var m=f[p].split("="),g=m.slice(1).join("=");!u&&g.charAt(0)==='"'&&(g=g.slice(1,-1));try{var b=i(m[0]);if(g=(r.read||r)(g,b)||i(g),u)try{g=JSON.parse(g)}catch{}if(d[b]=g,c===b)break}catch{}}return c?d[c]:d}}return o.set=a,o.get=function(c){return l(c,!1)},o.getJSON=function(c){return l(c,!0)},o.remove=function(c,u){a(c,"",n(u,{expires:-1}))},o.defaults={},o.withConverter=s,o}return s(function(){})})})(Uj);const Yd={UserPoolId:"us-east-1_KSe5Rqt1I",ClientId:"3liju4ntik96j9e68ssm6tv1lq"};console.log("🌍 Environment variables:",{region:"us-east-1",userPoolId:"us-east-1_KSe5Rqt1I",clientId:"3liju4ntik96j9e68ssm6tv1lq",domain:"https://moodflow.auth.us-east-1.amazoncognito.com"});(!Yd.UserPoolId||!Yd.ClientId)&&(console.error("❌ Missing Cognito configuration! Check your .env.local file"),console.error("Required variables: VITE_COGNITO_USERPOOL_ID, VITE_COGNITO_CLIENT_ID"));const tr=new Oj(Yd),Bj=({username:e,email:t,password:n})=>new Promise((i,s)=>{const r=[new $d({Name:"email",Value:t}),new $d({Name:"preferred_username",Value:e})];tr.signUp(e,n,r,null,(o,a)=>{if(o){console.error("SignUp error:",o),s({code:o.code,message:o.message});return}console.log("SignUp success:",a),i({user:a.user,userConfirmed:a.userConfirmed,userSub:a.userSub})})}),Vj=({email:e,code:t})=>new Promise((n,i)=>{new po({Username:e,Pool:tr}).confirmRegistration(t,!0,(r,o)=>{if(r){console.error("ConfirmSignUp error:",r),i({code:r.code,message:r.message});return}console.log("ConfirmSignUp success:",o),n(o)})}),o0=({email:e,password:t})=>new Promise((n,i)=>{const s=new MA({Username:e,Password:t}),r=new po({Username:e,Pool:tr});r.authenticateUser(s,{onSuccess:o=>{console.log("SignIn success:",o);const a={idToken:o.getIdToken().getJwtToken(),accessToken:o.getAccessToken().getJwtToken(),refreshToken:o.getRefreshToken().getToken()},l={email:null,username:r.getUsername(),attributes:{}};r.getUserAttributes((c,u)=>{!c&&u?(u.forEach(d=>{l.attributes[d.getName()]=d.getValue()}),l.email=l.attributes.email||l.username,l.displayUsername=l.attributes.preferred_username||l.username):(l.email=l.username,l.displayUsername=l.username)}),n({user:l,tokens:a,session:o})},onFailure:o=>{console.error("SignIn error:",o),i({code:o.code,message:o.message})},newPasswordRequired:(o,a)=>{i({code:"NewPasswordRequired",message:"New password is required",userAttributes:o,requiredAttributes:a})}})}),zj=()=>new Promise(e=>{const t=tr.getCurrentUser();t?t.signOut(()=>{console.log("SignOut success"),e()}):(console.log("No user to sign out"),e())}),Hj=()=>new Promise((e,t)=>{const n=tr.getCurrentUser();if(!n){e(null);return}n.getSession((i,s)=>{if(i){console.error("GetCurrentSession error:",i),e(null);return}if(!s||!s.isValid()){e(null);return}const r={idToken:s.getIdToken().getJwtToken(),accessToken:s.getAccessToken().getJwtToken(),refreshToken:s.getRefreshToken().getToken()},o={email:null,username:n.getUsername(),attributes:{}};n.getUserAttributes((a,l)=>{!a&&l?(l.forEach(c=>{o.attributes[c.getName()]=c.getValue()}),o.email=o.attributes.email||n.getUsername(),o.displayUsername=o.attributes.preferred_username||o.username.split("@")[0]):(o.email=n.getUsername(),o.displayUsername=o.username.includes("@")?o.username.split("@")[0]:o.username),e({user:o,tokens:r,session:s})})})}),Wj=({email:e})=>new Promise((t,n)=>{new po({Username:e,Pool:tr}).resendConfirmationCode((s,r)=>{if(s){console.error("ResendConfirmationCode error:",s),n({code:s.code,message:s.message});return}console.log("ResendConfirmationCode success:",r),t(r)})}),$j={user:null,tokens:null,isAuthenticated:!1,isLoading:!0,error:null,authStatus:"checking",pendingVerificationEmail:null,pendingVerificationPassword:null,pendingVerificationUsername:null},ie={SET_LOADING:"SET_LOADING",SET_ERROR:"SET_ERROR",CLEAR_ERROR:"CLEAR_ERROR",SET_USER:"SET_USER",CLEAR_USER:"CLEAR_USER",SET_AUTH_STATUS:"SET_AUTH_STATUS",SET_PENDING_EMAIL:"SET_PENDING_EMAIL",SET_PENDING_PASSWORD:"SET_PENDING_PASSWORD",SET_PENDING_USERNAME:"SET_PENDING_USERNAME",CLEAR_PENDING_CREDENTIALS:"CLEAR_PENDING_CREDENTIALS"},Kj=(e,t)=>{switch(t.type){case ie.SET_LOADING:return{...e,isLoading:t.payload};case ie.SET_ERROR:return{...e,error:t.payload,isLoading:!1};case ie.CLEAR_ERROR:return{...e,error:null};case ie.SET_USER:return{...e,user:t.payload.user,tokens:t.payload.tokens,isAuthenticated:!0,authStatus:"signedIn",isLoading:!1,error:null};case ie.CLEAR_USER:return{...e,user:null,tokens:null,isAuthenticated:!1,authStatus:"signedOut",isLoading:!1};case ie.SET_AUTH_STATUS:return{...e,authStatus:t.payload,isLoading:!1};case ie.SET_PENDING_EMAIL:return{...e,pendingVerificationEmail:t.payload};case ie.SET_PENDING_PASSWORD:return{...e,pendingVerificationPassword:t.payload};case ie.SET_PENDING_USERNAME:return{...e,pendingVerificationUsername:t.payload};case ie.CLEAR_PENDING_CREDENTIALS:return{...e,pendingVerificationEmail:null,pendingVerificationPassword:null,pendingVerificationUsername:null};default:return e}},B1=C.createContext();function Gj({children:e}){const[t,n]=C.useReducer(Kj,$j);C.useEffect(()=>{i()},[]);const i=async()=>{console.log("🔍 Checking authentication...");const f=setTimeout(()=>{console.log("⏰ Auth check timeout - signing out"),n({type:ie.CLEAR_USER})},1e4);try{const p=await Hj();clearTimeout(f),p!=null&&p.user?n({type:ie.SET_USER,payload:{user:p.user,tokens:p.tokens}}):n({type:ie.CLEAR_USER})}catch(p){console.error("Auth check failed:",p),clearTimeout(f),n({type:ie.CLEAR_USER})}},s=async({username:f,email:p,password:m})=>{n({type:ie.SET_LOADING,payload:!0}),n({type:ie.CLEAR_ERROR});try{const g=await Bj({username:f,email:p,password:m});return n({type:ie.SET_PENDING_EMAIL,payload:p}),n({type:ie.SET_PENDING_PASSWORD,payload:m}),n({type:ie.SET_PENDING_USERNAME,payload:f}),n({type:ie.SET_AUTH_STATUS,payload:"needsConfirmation"}),setTimeout(()=>{typeof window<"u"&&(window.location.href="/verify")},100),{success:!0,message:"Sign up successful! Please check your email."}}catch(g){throw n({type:ie.SET_ERROR,payload:{code:g.code,message:u(g)}}),g}},r=async({email:f,code:p})=>{n({type:ie.SET_LOADING,payload:!0}),n({type:ie.CLEAR_ERROR});try{await Vj({email:f,code:p});const m=t.pendingVerificationPassword,g=t.pendingVerificationUsername;if(m&&g){console.log("✨ Email verified! Auto-signing in with username...");const b=await o0({email:g,password:m});return n({type:ie.CLEAR_PENDING_CREDENTIALS}),n({type:ie.SET_USER,payload:{user:b.user,tokens:b.tokens}}),setTimeout(()=>{typeof window<"u"&&(window.location.href="/dashboard")},100),{success:!0,message:"Email verified and signed in successfully!",autoSignedIn:!0}}else return n({type:ie.SET_AUTH_STATUS,payload:"signedOut"}),{success:!0,message:"Email verified! Please sign in.",autoSignedIn:!1}}catch(m){throw n({type:ie.SET_ERROR,payload:{code:m.code,message:u(m)}}),m}},o=async({email:f,password:p})=>{n({type:ie.SET_LOADING,payload:!0}),n({type:ie.CLEAR_ERROR});try{const m=await o0({email:f,password:p});return n({type:ie.SET_USER,payload:{user:m.user,tokens:m.tokens}}),{success:!0,user:m.user}}catch(m){throw n({type:ie.SET_ERROR,payload:{code:m.code,message:u(m)}}),m}},a=async()=>{n({type:ie.SET_LOADING,payload:!0});try{await zj()}catch(f){console.error("Sign out error:",f)}finally{n({type:ie.CLEAR_USER}),n({type:ie.CLEAR_PENDING_CREDENTIALS})}},l=async({email:f})=>{try{return await Wj({email:f}),{success:!0,message:"Confirmation code sent!"}}catch(p){throw new Error(u(p))}},c=()=>{n({type:ie.CLEAR_ERROR})},u=f=>{switch(f.code){case"UserNotFoundException":return"No account found with this email.";case"NotAuthorizedException":return"Incorrect email or password.";case"UserNotConfirmedException":return"Please verify your email first.";case"InvalidPasswordException":return"Password must be at least 8 characters.";case"UsernameExistsException":return"Username already exists. Please choose another one.";case"AliasExistsException":return"An account with this email already exists.";case"CodeMismatchException":return"Invalid verification code.";case"ExpiredCodeException":return"Code expired. Request a new one.";default:return f.message||"Something went wrong."}},d={...t,signUp:s,confirmSignUp:r,signIn:o,signOut:a,resendConfirmationCode:l,clearError:c};return h.jsx(B1.Provider,{value:d,children:e})}function hn(){const e=C.useContext(B1);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function Yj({onAddEntry:e}){const{user:t}=hn(),[n,i]=C.useState(3),[s,r]=C.useState(5),[o,a]=C.useState(""),[l,c]=C.useState([]),[u,d]=C.useState(""),[f,p]=C.useState(!1),[m,g]=C.useState(!1),[b,y]=C.useState(null),[w,S]=C.useState([]),[E,k]=C.useState(null),[N,j]=C.useState(!1),[P,R]=C.useState(!1),F=M=>{M.preventDefault(),e&&e({mood:n,intensity:s,note:o,tags:l,promptId:(b==null?void 0:b.id)||null,photos:w}),a(""),i(3),r(5),c([]),d(""),p(!1),y(null),S([])},D=M=>{c(J=>J.includes(M)?J.filter(le=>le!==M):[...J,M])},B=()=>{u.trim()&&!l.includes(u.trim().toLowerCase())&&(c(M=>[...M,u.trim().toLowerCase()]),d(""))},V=M=>{c(J=>J.filter(le=>le!==M))},Z=M=>{i(M.mood),r(M.intensity),p(!1),e&&e({mood:M.mood,intensity:M.intensity,note:`Quick check-in: ${M.label}`,tags:["quick-checkin"],promptId:null}),a(""),i(3),r(5),c([]),d(""),p(!1),S([])},X=M=>{y(M),M&&(o.trim()||a(M.placeholder))},ne=async()=>{if(!(!o.trim()||!(t!=null&&t.email))){j(!0),R(!0);try{console.log("🤖 Starting AI analysis...");let M=o;if(w.length>0){const le=`

[User has attached ${w.length} photo${w.length>1?"s":""} to this mood entry, which may provide additional emotional context.]`;M=o+le}const J=await PA(M,t.email);J.success&&J.analysis?(k(J.analysis),console.log("✅ AI Analysis completed:",J.analysis)):(console.error("❌ AI Analysis failed:",J),k(null))}catch(M){console.error("❌ AI Analysis error:",M),k(null)}finally{j(!1)}}},Q=M=>{i(M),R(!1),l.includes("ai-assisted")||c(J=>[...J,"ai-assisted"])},U=M=>{i(M),R(!1)},$=()=>{R(!1),k(null)},W=M=>{S(J=>[...J,M])},K=M=>{S(J=>J.filter(le=>le.id!==M))};return h.jsxs(h.Fragment,{children:[h.jsxs("form",{onSubmit:F,className:"bg-theme-glass rounded-3xl p-4 sm:p-8 border border-theme-glass shadow-xl mx-2 sm:mx-0",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6 sm:mb-8",children:[h.jsx("h3",{className:"text-lg sm:text-2xl font-semibold text-theme-primary",children:"Add Today's Mood"}),h.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[h.jsx("button",{type:"button",onClick:()=>g(!0),className:"px-3 py-2 sm:px-4 sm:py-2 rounded-xl bg-theme-glass text-theme-primary hover:bg-theme-glass border border-theme-glass hover:border-theme-glass transition-all duration-300 text-xs sm:text-sm font-medium",children:"💭 Writing Prompts"}),h.jsx("button",{type:"button",onClick:()=>p(!f),className:"px-3 py-2 sm:px-4 sm:py-2 rounded-xl bg-white/20 text-white hover:bg-white/30 transition-all duration-300 text-xs sm:text-sm font-medium",children:"⚡ Quick Check-in"})]})]}),f&&h.jsxs("div",{className:"mb-8 p-6 bg-gradient-to-r from-blue-500/10 to-purple-500/10 rounded-2xl border border-blue-400/20",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h4",{className:"text-white font-medium flex items-center gap-2",children:"⚡ Quick Check-in Mode"}),h.jsx("button",{type:"button",onClick:()=>p(!1),className:"text-white/60 hover:text-white text-sm",children:"Switch to Full Entry"})]}),h.jsx("p",{className:"text-white/70 text-sm mb-4",children:"Tap any emoji below to instantly log your mood:"}),h.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:bA.map((M,J)=>h.jsxs("button",{type:"button",onClick:le=>{le.preventDefault(),le.stopPropagation(),Z(M)},className:"p-4 rounded-2xl bg-white/10 hover:bg-white/20 transition-all duration-300 text-center group hover:scale-105",children:[h.jsx("div",{className:"text-3xl mb-2 group-hover:scale-110 transition-transform",children:M.emoji}),h.jsx("div",{className:"text-white/90 text-sm font-medium",children:M.label}),h.jsxs("div",{className:"text-white/60 text-xs mt-1",children:[M.mood,"/5 • ",M.intensity,"/10"]})]},J))}),h.jsx("div",{className:"mt-4 p-3 bg-white/5 rounded-xl border border-white/10",children:h.jsx("p",{className:"text-white/60 text-xs text-center",children:'📝 These will be saved immediately with "quick-checkin" tag'})})]}),b&&h.jsxs("div",{className:"mb-8 p-6 bg-gradient-to-r from-violet-500/20 to-purple-500/20 rounded-2xl border border-white/10",children:[h.jsxs("div",{className:"flex justify-between items-start mb-3",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("span",{className:"text-2xl",children:b.emoji}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-white font-medium",children:b.title}),h.jsx("p",{className:"text-white/70 text-sm",children:b.subtitle})]})]}),h.jsx("button",{type:"button",onClick:()=>y(null),className:"text-white/60 hover:text-white text-lg w-6 h-6 flex items-center justify-center rounded-full hover:bg-white/10 transition-colors",children:"×"})]}),h.jsxs("div",{className:"text-white/60 text-sm bg-white/5 rounded-lg px-3 py-2 border border-white/5",children:['Reflection starter: "',b.placeholder,'"']})]}),h.jsxs("div",{className:"space-y-8",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-white/90 text-base font-medium mb-6",children:["How's your mood? ",h.jsx("span",{className:"text-3xl ml-2",children:Bi[n]})]}),h.jsxs("div",{className:"bg-white/5 rounded-2xl p-6 border border-white/10",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("span",{className:"text-2xl",children:Bi[1]}),h.jsx("input",{type:"range",min:"1",max:"5",value:n,onChange:M=>i(parseInt(M.target.value)),className:"flex-1 mx-6 h-3 bg-white/20 rounded-lg appearance-none cursor-pointer slider",style:{background:`linear-gradient(to right, #8b5cf6 0%, #8b5cf6 ${(n-1)*25}%, rgba(255,255,255,0.2) ${(n-1)*25}%, rgba(255,255,255,0.2) 100%)`}}),h.jsx("span",{className:"text-2xl",children:Bi[5]})]}),h.jsx("div",{className:"flex justify-between max-w-sm mx-auto mt-4",children:[1,2,3,4,5].map(M=>h.jsx("div",{className:"flex flex-col items-center",children:h.jsx("span",{className:`text-sm font-bold transition-all duration-300 ${n===M?"text-purple-300 scale-110":"text-white/40"}`,children:M})},M))})]})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-white/90 text-base font-medium mb-4",children:["How intense is this feeling? ",h.jsxs("span",{className:"text-lg",children:[s,"/10"]}),h.jsxs("span",{className:"text-white/70 text-sm ml-2",children:["(",Ld[s],")"]})]}),h.jsxs("div",{className:"bg-white/5 rounded-2xl p-6 border border-white/10",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("span",{className:"text-white/60 text-sm",children:"1"}),h.jsx("input",{type:"range",min:"1",max:"10",value:s,onChange:M=>r(parseInt(M.target.value)),className:"flex-1 mx-6 h-3 bg-white/20 rounded-lg appearance-none cursor-pointer slider",style:{background:`linear-gradient(to right, #f59e0b 0%, #f59e0b ${(s-1)*11.11}%, rgba(255,255,255,0.2) ${(s-1)*11.11}%, rgba(255,255,255,0.2) 100%)`}}),h.jsx("span",{className:"text-white/60 text-sm",children:"10"})]}),h.jsx("div",{className:"grid grid-cols-5 gap-2 sm:gap-3 max-w-lg mx-auto mt-6",children:[1,3,5,7,10].map(M=>h.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[h.jsx("span",{className:`text-xs font-bold transition-all duration-300 ${s===M?"text-amber-300 scale-110":"text-white/40"}`,children:M}),h.jsx("span",{className:`text-xs transition-all duration-300 text-center leading-tight px-1 whitespace-pre-line ${s===M?"text-amber-200":"text-white/30"}`,style:{minHeight:"2.5rem",maxWidth:"100%"},children:Ld[M]})]},M))})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-white/90 text-base font-medium mb-4",children:"Add a note (optional)"}),h.jsx("textarea",{value:o,onChange:M=>a(M.target.value),className:"w-full px-4 py-4 rounded-2xl bg-white/10 backdrop-blur-sm border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-white/40 focus:border-transparent transition-all duration-300 resize-none",rows:"4",placeholder:"What's on your mind?"}),o.trim().length>10&&!f&&h.jsx("div",{className:"mt-3 flex justify-end",children:h.jsx("button",{type:"button",onClick:ne,disabled:N,className:"px-4 py-2 rounded-xl bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600 text-white font-medium text-sm transition-all duration-300 flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:N?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"animate-spin text-sm",children:"🤖"}),h.jsx("span",{children:"Analyzing..."})]}):h.jsxs(h.Fragment,{children:[h.jsx("span",{children:"🤖"}),h.jsx("span",{children:"Get AI Mood Suggestion"})]})})})]}),P&&h.jsx(TA,{analysis:E,onAccept:Q,onModify:U,onDismiss:$,isLoading:N}),!f&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-white/90 text-base font-medium mb-4",children:"Add tags (optional) 🏷️"}),h.jsxs("div",{className:"mb-4",children:[h.jsx("p",{className:"text-white/70 text-sm mb-3",children:"Quick tags:"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(Fd).map(([M,J])=>h.jsxs("button",{type:"button",onClick:()=>D(M),className:`px-3 py-2 rounded-full text-sm font-medium transition-all duration-300 border ${l.includes(M)?`${J.color} text-white border-white/30 shadow-lg scale-105`:"bg-white/10 text-white/80 border-white/20 hover:bg-white/20 hover:scale-105"}`,children:[h.jsx("span",{className:"mr-1",children:J.emoji}),M]},M))})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("p",{className:"text-white/70 text-sm mb-3",children:"Or add your own:"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("input",{type:"text",value:u,onChange:M=>d(M.target.value),onKeyPress:M=>M.key==="Enter"&&(M.preventDefault(),B()),className:"flex-1 px-4 py-2 rounded-xl bg-white/10 backdrop-blur-sm border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-white/40 focus:border-transparent transition-all duration-300",placeholder:"Enter custom tag...",maxLength:20}),h.jsx("button",{type:"button",onClick:B,disabled:!u.trim(),className:"px-4 py-2 rounded-xl bg-white/20 text-white hover:bg-white/30 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300",children:"Add"})]})]}),l.length>0&&h.jsxs("div",{children:[h.jsx("p",{className:"text-white/70 text-sm mb-3",children:"Selected tags:"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:l.map(M=>{const J=Fd[M]||{emoji:"🏷️",color:"bg-gray-500/80"};return h.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-full text-sm font-medium ${J.color} text-white border border-white/30 shadow-lg`,children:[h.jsx("span",{children:J.emoji}),h.jsx("span",{children:M}),h.jsx("button",{type:"button",onClick:()=>V(M),className:"ml-1 text-white/80 hover:text-white transition-colors",children:"×"})]},M)})})]})]}),!f&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-white/90 text-base font-medium mb-4",children:"Add photos (optional) 📷"}),h.jsx(A1,{photos:w,onPhotoAdd:W,onPhotoRemove:K,maxPhotos:3})]}),h.jsx("button",{type:"submit",className:"w-full py-4 px-6 rounded-2xl bg-gradient-to-r from-white to-gray-100 text-purple-700 font-semibold hover:from-gray-100 hover:to-white transform hover:scale-[1.02] transition-all duration-300 shadow-xl",children:"Save Entry"})]})]}),h.jsx(EA,{isOpen:m,onClose:()=>g(!1),onSelectPrompt:X,currentMood:n})]})}const go="moodtracker_photos",qj=()=>`photo_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,Xj=(e,t)=>{try{const n=yo();return n[e]={id:e,dataUrl:t.dataUrl,fileName:t.fileName,fileSize:t.fileSize,fileType:t.fileType,timestamp:new Date().toISOString()},localStorage.setItem(go,JSON.stringify(n)),e}catch(n){if(console.error("Error storing photo:",n),n.name==="QuotaExceededError"){Zj();try{const i=yo();return i[e]={id:e,dataUrl:t.dataUrl,fileName:t.fileName,fileSize:t.fileSize,fileType:t.fileType,timestamp:new Date().toISOString()},localStorage.setItem(go,JSON.stringify(i)),e}catch(i){throw console.error("Error storing photo after cleanup:",i),new Error("Photo storage is full. Please delete some old photos.")}}throw n}},Jj=e=>{try{return yo()[e]||null}catch(t){return console.error("Error retrieving photo:",t),null}},yo=()=>{try{const e=localStorage.getItem(go);return e?JSON.parse(e):{}}catch(e){return console.error("Error getting stored photos:",e),{}}},Qj=e=>{try{const t=yo();delete t[e],localStorage.setItem(go,JSON.stringify(t))}catch(t){console.error("Error deleting photo:",t)}},Zj=()=>{try{const e=yo(),t=new Date;t.setDate(t.getDate()-30);const n="moodtracker_entries";let i=new Set;try{const o=localStorage.getItem(n);if(o){const a=JSON.parse(o);Object.values(a).forEach(l=>{Array.isArray(l)&&l.forEach(c=>{c.photos&&Array.isArray(c.photos)&&c.photos.forEach(u=>{u.id&&i.add(u.id)})})})}}catch(o){console.error("Error checking used photos:",o)}const s={};let r=0;Object.entries(e).forEach(([o,a])=>{const c=new Date(a.timestamp||0)<t,u=i.has(o);!c||u?s[o]=a:r++}),localStorage.setItem(go,JSON.stringify(s)),console.log(`Cleaned up ${r} old photos`)}catch(e){console.error("Error cleaning up old photos:",e)}},qd=async e=>{const t=[];for(const n of e)try{const i=qj(),s=Xj(i,n);t.push({id:s,fileName:n.fileName,fileSize:n.fileSize,fileType:n.fileType,url:n.dataUrl,dataUrl:n.dataUrl,timestamp:new Date().toISOString()})}catch(i){console.error("Error storing photo:",i)}return t};function eD({entry:e,onUpdate:t,onClose:n}){const[i,s]=C.useState(e.photos||[]),[r,o]=C.useState(!1),a=u=>{s(d=>[...d,u])},l=u=>{s(d=>d.filter(f=>f.id!==u))},c=async()=>{o(!0);try{const u=i.filter(b=>b.file&&!b.id.startsWith("photo_")),d=i.filter(b=>!b.file||b.id.startsWith("photo_"));let f=[];u.length>0&&(f=await qd(u));const p=[...d,...f];(e.photos||[]).filter(b=>!p.find(y=>y.id===b.id)).map(b=>b.id).forEach(b=>{b.startsWith("photo_")&&Qj(b)});const g={...e,photos:p};t(g),n()}catch(u){console.error("Error updating photos:",u),alert("Failed to update photos. Please try again.")}finally{o(!1)}};return h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:h.jsxs("div",{className:"bg-gray-900 rounded-3xl p-6 max-w-4xl max-h-[90vh] overflow-y-auto border border-white/20 mx-4 w-full",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center gap-3",children:[h.jsx("span",{className:"text-2xl",children:"📷"}),"Manage Photos"]}),h.jsx("button",{onClick:n,className:"p-2 rounded-full text-white/60 hover:text-white hover:bg-white/10 transition-colors",children:h.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),h.jsxs("div",{className:"mb-6 p-4 bg-white/5 rounded-2xl border border-white/10",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx("span",{className:"text-2xl",children:e.mood?"😊😐😢🥺😭"[e.mood-1]:"😐"}),h.jsxs("div",{children:[h.jsxs("div",{className:"text-white font-medium",children:["Entry from ",e.date]}),h.jsxs("div",{className:"text-white/60 text-sm",children:["Mood: ",e.mood,"/5 • Intensity: ",e.intensity,"/10"]})]})]}),e.note&&h.jsx("p",{className:"text-white/80 text-sm mt-2 line-clamp-2",children:e.note})]}),h.jsx(A1,{photos:i,onPhotoAdd:a,onPhotoRemove:l,maxPhotos:5}),h.jsxs("div",{className:"flex gap-3 mt-6 pt-6 border-t border-white/10",children:[h.jsx("button",{onClick:n,className:"flex-1 py-3 px-6 rounded-2xl bg-white/10 text-white hover:bg-white/20 transition-all duration-300 font-medium",children:"Cancel"}),h.jsx("button",{onClick:c,disabled:r,className:"flex-1 py-3 px-6 rounded-2xl bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white font-medium transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:r?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"animate-spin text-lg",children:"🔄"}),h.jsx("span",{children:"Updating..."})]}):h.jsxs(h.Fragment,{children:[h.jsx("span",{children:"💾"}),h.jsx("span",{children:"Save Changes"})]})})]})]})})}const tD=({photo:e,onClose:t})=>{if(!e)return null;Gt.useEffect(()=>{document.body.style.overflow="hidden";const i=s=>{s.key==="Escape"&&t()};return document.addEventListener("keydown",i),()=>{document.body.style.overflow="unset",document.removeEventListener("keydown",i)}},[t]);const n=h.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/90 backdrop-blur-sm",onClick:t,style:{position:"fixed",top:0,left:0,right:0,bottom:0},children:[h.jsxs("div",{className:"relative p-4 flex items-center justify-center",onClick:i=>i.stopPropagation(),style:{maxWidth:"90vw",maxHeight:"90vh"},children:[h.jsx("img",{src:e.url||e.dataUrl,alt:e.fileName||"Mood photo",className:"max-w-full max-h-full object-contain rounded-2xl shadow-2xl",style:{maxWidth:"85vw",maxHeight:"85vh",width:"auto",height:"auto"},onError:i=>{console.error("❌ Modal image failed to load:",e.url||e.dataUrl)},onLoad:()=>{console.log("✅ Modal image loaded successfully")}}),h.jsx("button",{onClick:t,className:"absolute -top-2 -right-2 p-3 rounded-full bg-white text-gray-800 hover:bg-gray-100 shadow-lg transition-all duration-200 hover:scale-110",style:{zIndex:1e4},children:h.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),h.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2",children:h.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-lg px-4 py-2 text-gray-800 text-sm font-medium shadow-lg",children:e.fileName||"Mood photo"})})]}),h.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2",children:h.jsx("div",{className:"bg-black/70 text-white px-3 py-1 rounded-full text-sm",children:"Click anywhere to close"})})]});return nf.createPortal(n,document.body)},nD=({photo:e,onClick:t,size:n="small"})=>{let i=e,s=null;if(e.url)s=e.url;else if(e.dataUrl)s=e.dataUrl;else if(e.id){const o=Jj(e.id);o&&(i=o,s=o.dataUrl||o.url)}if(console.log("🖼️ PhotoThumbnail rendering:",{originalPhoto:{id:e.id,fileName:e.fileName,hasUrl:!!e.url,hasDataUrl:!!e.dataUrl,url:e.url?e.url.substring(0,50)+"...":null},finalImageUrl:s?s.substring(0,50)+"...":null,hasValidImage:!!s,photoSource:e.url?"S3":e.dataUrl?"localStorage-dataUrl":"fallback-lookup"}),!s)return console.warn("⚠️ No valid image URL found for photo:",e),h.jsx("div",{className:`${n==="large"?"w-32 h-32":"w-16 h-16"} bg-white/10 rounded-xl flex items-center justify-center text-white/50 border border-white/20`,children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-2xl mb-1",children:"🖼️"}),h.jsx("span",{className:"text-xs",children:"No Image"}),h.jsx("span",{className:"text-xs block",children:e.fileName||"Unknown"})]})});const r=n==="large"?"w-32 h-32":"w-16 h-16";return h.jsxs("div",{className:`${r} rounded-xl overflow-hidden cursor-pointer hover:scale-[1.02] transition-all duration-300 border-2 border-white/30 hover:border-white/60 shadow-lg hover:shadow-2xl relative group`,onClick:()=>t(i),children:[h.jsx("img",{src:s,alt:i.fileName||"Mood photo",className:"w-full h-full object-cover",onError:o=>{console.error("❌ Image failed to load:",s,o),o.target.style.display="none"},onLoad:()=>{console.log("✅ Image loaded successfully:",s?s.substring(0,50)+"...":"null")}}),h.jsx("div",{className:"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:h.jsx("div",{className:"bg-white/90 rounded-full p-2",children:h.jsx("svg",{className:"w-5 h-5 text-gray-800",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"})})})})]})},iD=()=>h.jsx("div",{className:"space-y-4 animate-pulse",children:[1,2,3].map(e=>h.jsxs("div",{className:"p-5 rounded-2xl bg-white/5 border border-white/10",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsx("div",{className:"h-4 w-20 bg-white/20 rounded"}),h.jsx("div",{className:"h-8 w-8 bg-white/20 rounded-full"})]}),h.jsx("div",{className:"h-6 w-24 bg-white/20 rounded-full mb-3"}),h.jsx("div",{className:"h-4 w-3/4 bg-white/20 rounded"})]},e))});function sD({entries:e,isLoading:t,onEntryUpdate:n}){const[i,s]=C.useState(null),[r,o]=C.useState(null),[a,l]=C.useState(1),c=5;Gt.useEffect(()=>{console.log("📝 EntryList received entries:",e.length),e.forEach((g,b)=>{var y,w;console.log(`Entry ${b}:`,{id:g.id,hasPhotos:((y=g.photos)==null?void 0:y.length)>0,photosCount:((w=g.photos)==null?void 0:w.length)||0,photos:g.photos})})},[e]);const u=Math.ceil(e.length/c),d=(a-1)*c,f=d+c,p=e.slice(d,f);Gt.useEffect(()=>{l(1)},[e.length]);const m=g=>{if(!g.promptId)return null;const b=_A(g.promptId);return b?h.jsxs("div",{className:"mt-3 p-3 rounded-xl bg-white/5 border border-white/10",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.jsx("span",{className:"text-lg",children:b.emoji}),h.jsx("span",{className:"text-white/80 text-sm font-medium",children:"Prompt:"}),h.jsx("span",{className:"text-white/90 text-sm",children:b.title})]}),h.jsx("p",{className:"text-white/60 text-xs ml-7",children:b.subtitle})]}):h.jsx("div",{className:"mt-3 p-3 rounded-xl bg-white/5 border border-white/10",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-lg",children:"📝"}),h.jsx("span",{className:"text-white/80 text-sm",children:"Used a writing prompt"})]})})};return h.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-3xl p-6 sm:p-8 border border-white/20 shadow-xl",children:[h.jsxs("div",{className:"flex justify-between items-center mb-8",children:[h.jsx("h3",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Recent Entries"}),h.jsx("div",{className:"text-white/60 text-sm",children:e.length>0?h.jsxs("span",{children:["Showing ",d+1,"-",Math.min(f,e.length)," of ",e.length]}):null})]}),h.jsx("div",{className:"space-y-4",children:t?h.jsx(iD,{}):e.length===0?h.jsxs("div",{className:"text-center py-8 text-white/60",children:[h.jsx("div",{className:"text-4xl mb-4",children:"📝"}),h.jsx("p",{children:"No entries yet. Add your first mood!"})]}):p.map((g,b)=>h.jsxs("div",{className:"p-5 rounded-2xl bg-white/5 border border-white/10 hover:bg-white/10 transition-all duration-300 group",style:{animationDelay:`${b*.1}s`},children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsx("span",{className:"text-white/70 text-sm font-medium",children:g.date}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:()=>o(g),className:"p-2 rounded-lg text-white/60 hover:text-white hover:bg-white/10 transition-all duration-200 opacity-0 group-hover:opacity-100",title:"Edit photos",children:h.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),h.jsx("span",{className:"text-3xl group-hover:scale-110 transition-transform duration-300",children:Bi[g.mood]})]})]}),h.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[h.jsxs("div",{className:`inline-flex items-center px-3 py-1.5 rounded-full text-white text-sm font-medium bg-gradient-to-r ${SA[g.mood]}`,children:["Mood Level ",g.mood]}),g.intensity!==null&&g.intensity!==void 0&&h.jsxs("div",{className:"inline-flex items-center px-3 py-1.5 rounded-full text-white text-sm font-medium bg-gradient-to-r from-amber-500 to-orange-500",children:[h.jsx("span",{className:"mr-1",children:"⚡"}),"Intensity ",g.intensity,"/10",h.jsxs("span",{className:"ml-1 text-xs opacity-80",children:["(",Ld[g.intensity],")"]})]})]}),g.tags&&g.tags.length>0&&h.jsx("div",{className:"flex flex-wrap gap-1.5 mt-3",children:g.tags.map((y,w)=>{const S=Fd[y]||{emoji:"🏷️",color:"bg-gray-500/80"},E=S.color.replace("/80","/60");return h.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium text-white ${E} border border-white/20`,children:[h.jsx("span",{className:"text-xs",children:S.emoji}),y]},w)})}),m(g),g.photos&&g.photos.length>0&&h.jsxs("div",{className:"mt-4 p-4 bg-white/5 rounded-2xl border border-white/10",children:[h.jsxs("div",{className:"text-white/90 text-base font-medium mb-3 flex items-center gap-2",children:[h.jsx("span",{className:"text-xl",children:"📷"}),h.jsxs("span",{children:["Photos (",g.photos.length,")"]})]}),h.jsx("div",{className:`grid gap-3 ${g.photos.length===1?"grid-cols-1 max-w-xs":g.photos.length===2?"grid-cols-2 max-w-sm":"grid-cols-3 max-w-md"}`,children:g.photos.map((y,w)=>h.jsx(nD,{photo:y,onClick:s,size:"large"},w))}),h.jsx("div",{className:"text-white/60 text-xs mt-2 text-center",children:"👆 Click any photo to view full size"})]}),g.note&&h.jsx("p",{className:"text-white/90 mt-4 leading-relaxed",children:g.note})]},g.id))}),u>1&&h.jsxs("div",{className:"mt-8 flex justify-center items-center gap-4",children:[h.jsxs("button",{onClick:()=>l(g=>Math.max(g-1,1)),disabled:a===1,className:"px-4 py-2 rounded-xl bg-white/10 text-white hover:bg-white/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center gap-2",children:[h.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Previous"]}),h.jsx("div",{className:"flex items-center gap-2",children:Array.from({length:Math.min(u,5)},(g,b)=>{let y;if(u<=5)y=b+1;else{const w=Math.max(1,a-2),S=Math.min(u,w+4);if(y=w+b,y>S)return null}return h.jsx("button",{onClick:()=>l(y),className:`w-10 h-10 rounded-xl font-medium transition-all duration-200 ${a===y?"bg-white text-purple-700 shadow-lg":"bg-white/10 text-white hover:bg-white/20"}`,children:y},y)})}),h.jsxs("button",{onClick:()=>l(g=>Math.min(g+1,u)),disabled:a===u,className:"px-4 py-2 rounded-xl bg-white/10 text-white hover:bg-white/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center gap-2",children:["Next",h.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),i&&h.jsx(tD,{photo:i,onClose:()=>s(null)}),r&&h.jsx(eD,{entry:r,onUpdate:g=>{n&&n(g)},onClose:()=>o(null)})]})}const a0={1:"bg-red-500 border-red-600 text-white",2:"bg-orange-500 border-orange-600 text-white",3:"bg-gray-500 border-gray-600 text-white",4:"bg-blue-500 border-blue-600 text-white",5:"bg-green-500 border-green-600 text-white"},rD={1:"hover:bg-red-600",2:"hover:bg-orange-600",3:"hover:bg-gray-600",4:"hover:bg-blue-600",5:"hover:bg-green-600"};function oD({userEmail:e}){const[t,n]=C.useState([]),[i,s]=C.useState(!0),[r,o]=C.useState(new Date);C.useState(null);const[a,l]=C.useState(null);C.useState(!1);const[c,u]=C.useState(""),[d,f]=C.useState("all");C.useEffect(()=>{e&&p()},[e]),C.useEffect(()=>{const D=B=>{a&&!B.target.closest(".calendar-container")&&!B.target.closest(".chat-container")&&l(null)};return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[a]);const p=async()=>{try{s(!0);const D=await kA(e);n(D)}catch(D){console.error("Error fetching entries for calendar:",D),n([])}finally{s(!1)}},m=()=>new Date(r.getFullYear(),r.getMonth(),1),g=()=>{const D=m(),B=D.getDay(),V=new Date(D);return V.setDate(V.getDate()-B),V},b=()=>{const D=[],B=g();for(let V=0;V<42;V++){const Z=new Date(B);Z.setDate(B.getDate()+V),D.push(Z)}return D},y=D=>{const B=D.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),V=t.filter(ne=>ne.date===B);if(V.length===0)return null;const Z=V.reduce((ne,Q)=>ne+Q.mood,0)/V.length;return{mood:Math.round(Z),entries:V,count:V.length}},w=()=>{o(D=>new Date(D.getFullYear(),D.getMonth()-1,1))},S=()=>{o(D=>new Date(D.getFullYear(),D.getMonth()+1,1))},E=D=>D.getMonth()===r.getMonth(),k=D=>{const B=new Date;return D.toDateString()===B.toDateString()},N=["January","February","March","April","May","June","July","August","September","October","November","December"],j=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];if(i)return h.jsx("div",{className:"bg-white/10 backdrop-blur-lg rounded-3xl p-6 sm:p-8 border border-white/20 shadow-xl",children:h.jsxs("div",{className:"text-center py-12",children:[h.jsx("div",{className:"text-6xl mb-4 animate-spin",children:"📅"}),h.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Loading Calendar"}),h.jsx("p",{className:"text-white/70",children:"Fetching your mood history..."})]})});const P=b(),R=D=>{let B=[...D];return c.trim()&&(B=B.filter(V=>V.note&&V.note.toLowerCase().includes(c.toLowerCase())||V.tags&&V.tags.some(Z=>Z.toLowerCase().includes(c.toLowerCase())))),d!=="all"&&(B=B.filter(V=>V.mood===parseInt(d))),B},F=D=>{if(!D.length)return null;const B=D.map(W=>W.mood),V=B.reduce((W,K)=>W+K,0)/B.length,Z=Math.min(...B),X=Math.max(...B),ne=X-Z,Q=D.flatMap(W=>W.tags||[]),U=[...new Set(Q)];let $="stable";if(D.length>1){const W=D[D.length-1].mood,K=D[0].mood;K>W+.5?$="improving":K<W-.5&&($="declining")}return{avgMood:Math.round(V*10)/10,minMood:Z,maxMood:X,moodRange:ne,uniqueTags:U,trend:$,totalEntries:D.length}};return h.jsx("div",{className:"bg-white/10 backdrop-blur-lg rounded-3xl p-6 border border-white/20 shadow-xl overflow-hidden max-w-full",children:h.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 min-h-[580px] min-w-0 w-full",children:[h.jsxs("div",{className:"flex-shrink-0 w-full sm:w-[420px] calendar-container",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("button",{onClick:w,className:"p-2 rounded-xl bg-white/20 text-white hover:bg-white/30 transition-all duration-300",children:"←"}),h.jsxs("h2",{className:"text-xl font-bold text-white",children:[N[r.getMonth()]," ",r.getFullYear()]}),h.jsx("button",{onClick:S,className:"p-2 rounded-xl bg-white/20 text-white hover:bg-white/30 transition-all duration-300",children:"→"})]}),h.jsx("div",{className:"grid grid-cols-7 gap-1 sm:gap-1.5 mb-3",children:j.map(D=>h.jsx("div",{className:"text-center text-white/70 text-sm font-medium py-2",children:D},D))}),h.jsx("div",{className:"grid grid-cols-7 gap-1 sm:gap-1.5",children:P.map((D,B)=>{const V=y(D),Z=E(D),X=k(D);return h.jsxs("div",{className:`
                    relative w-11 h-11 sm:w-12 sm:h-12 rounded-lg border transition-all duration-300 cursor-pointer flex items-center justify-center
                    ${Z?"opacity-100":"opacity-40"}
                    ${X?"ring-2 ring-white/50":""}
                    ${V?`${a0[V.mood]} ${rD[V.mood]}`:"bg-white/20 border-white/30 hover:bg-white/30 text-white"}
                  `,onClick:()=>{V&&l({date:D,moodData:V})},children:[h.jsx("span",{className:`text-sm font-bold z-10 ${V?"text-white":"text-white/90"}`,children:D.getDate()}),V&&h.jsx("div",{className:"absolute top-0.5 right-0.5 text-xs",children:Bi[V.mood]}),V&&V.count>1&&h.jsx("div",{className:"absolute bottom-0.5 right-0.5 bg-white text-black text-xs rounded-full w-4 h-4 flex items-center justify-center font-bold shadow-sm",children:V.count})]},B)})}),h.jsxs("div",{className:"mt-4 flex flex-wrap items-center justify-center gap-3",children:[h.jsx("span",{className:"text-white/70 text-sm mr-1",children:"Mood Scale:"}),[1,2,3,4,5].map(D=>h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("div",{className:`w-4 h-4 rounded border ${a0[D]}`}),h.jsx("span",{className:"text-white/70 text-sm",children:D})]},D))]}),t.length===0&&h.jsxs("div",{className:"text-center py-6 text-white/60",children:[h.jsx("div",{className:"text-4xl mb-3",children:"📅"}),h.jsx("p",{className:"text-sm",children:"No mood entries yet. Start tracking to see your mood calendar!"})]})]}),h.jsx("div",{className:"flex-1 min-w-0 overflow-hidden",children:a&&a.moodData?h.jsxs("div",{className:"h-full bg-white rounded-2xl shadow-xl border border-gray-200 chat-container flex flex-col overflow-hidden",children:[h.jsx("div",{className:"bg-gray-50 px-6 py-4 rounded-t-2xl border-b border-gray-200 flex-shrink-0",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:h.jsx("span",{className:"text-white text-xl font-bold",children:a.date.getDate()})}),h.jsxs("div",{children:[h.jsx("div",{className:"font-semibold text-gray-800 text-lg",children:a.date.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})}),h.jsxs("div",{className:"text-gray-500 text-sm",children:[a.moodData.count," ",a.moodData.count===1?"entry":"entries"," • ",a.date.getFullYear()]})]})]}),h.jsx("button",{onClick:()=>l(null),className:"text-gray-400 hover:text-gray-600 text-2xl font-bold w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-200 transition-colors",children:"×"})]})}),h.jsx("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-purple-50 border-b border-gray-100",children:(()=>{const D=F(a.moodData.entries);return h.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-2xl font-bold text-blue-600",children:D.avgMood}),h.jsx("div",{className:"text-xs text-gray-600",children:"Avg Mood"})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-2xl font-bold text-green-600",children:D.maxMood}),h.jsx("div",{className:"text-xs text-gray-600",children:"Peak Mood"})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-lg font-medium text-gray-700",children:D.trend==="improving"?"📈":D.trend==="declining"?"📉":"➡️"}),h.jsx("div",{className:"text-xs text-gray-600 capitalize",children:D.trend})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-lg font-medium text-purple-600",children:D.uniqueTags.length}),h.jsx("div",{className:"text-xs text-gray-600",children:"Tags Used"})]})]})})()}),h.jsxs("div",{className:"p-4 bg-gray-50 border-b border-gray-100",children:[h.jsxs("div",{className:"flex gap-3 mb-3",children:[h.jsx("div",{className:"flex-1",children:h.jsx("input",{type:"text",placeholder:"Search notes and tags...",value:c,onChange:D=>u(D.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})}),h.jsxs("select",{value:d,onChange:D=>f(D.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[h.jsx("option",{value:"all",children:"All Moods"}),h.jsx("option",{value:"5",children:"😄 Very Happy (5)"}),h.jsx("option",{value:"4",children:"😊 Happy (4)"}),h.jsx("option",{value:"3",children:"😐 Neutral (3)"}),h.jsx("option",{value:"2",children:"😔 Sad (2)"}),h.jsx("option",{value:"1",children:"😢 Very Sad (1)"})]})]}),(()=>{const D=F(a.moodData.entries);return D.uniqueTags.length>0&&h.jsxs("div",{className:"flex flex-wrap gap-2",children:[h.jsx("span",{className:"text-xs text-gray-500 self-center mr-2",children:"Tags:"}),D.uniqueTags.map((B,V)=>h.jsxs("button",{onClick:()=>u(B),className:"bg-blue-100 text-blue-700 text-xs px-2 py-1 rounded-full hover:bg-blue-200 transition-colors",children:["#",B]},V))]})})()]}),h.jsx("div",{className:"flex-1 p-4 space-y-3 overflow-y-auto overflow-x-hidden",children:(()=>{const D=R(a.moodData.entries);return D.length===0?h.jsxs("div",{className:"text-center py-8 text-gray-400",children:[h.jsx("div",{className:"text-4xl mb-2",children:"🔍"}),h.jsx("p",{className:"text-sm",children:"No entries match your search criteria"}),h.jsx("button",{onClick:()=>{u(""),f("all")},className:"text-blue-500 text-sm mt-2 hover:underline",children:"Clear filters"})]}):D.map((B,V)=>{const Z=`${8+V}:${String(V*15%60).padStart(2,"0")} AM`;return h.jsx("div",{className:"flex flex-col",children:h.jsxs("div",{className:"max-w-lg ml-auto",children:[h.jsxs("div",{className:"bg-blue-500 text-white px-4 py-3 rounded-2xl rounded-br-md shadow-sm",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx("span",{className:"text-2xl",children:Bi[B.mood]}),h.jsxs("span",{className:"text-sm font-medium",children:["Mood: ",B.mood,"/5"]})]}),B.tags&&B.tags.length>0&&h.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:B.tags.map((X,ne)=>h.jsxs("span",{className:"bg-white/20 text-xs px-2 py-1 rounded-full",children:["#",X]},ne))}),B.note&&h.jsx("p",{className:"text-sm leading-relaxed",children:B.note})]}),h.jsx("div",{className:"text-xs text-gray-500 mt-1 text-right",children:Z})]})},V)})})()}),h.jsx("div",{className:"bg-gray-50 px-6 py-3 rounded-b-2xl border-t border-gray-100 flex-shrink-0",children:h.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[h.jsxs("span",{className:"font-medium",children:["Average: ",a.moodData.mood,"/5"]}),h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"w-3 h-3 bg-green-400 rounded-full"}),"Active day"]})]})})]}):h.jsx("div",{className:"h-full bg-white/5 rounded-2xl border-2 border-dashed border-white/20 flex items-center justify-center",children:h.jsxs("div",{className:"text-center text-white/60",children:[h.jsx("div",{className:"text-5xl mb-4",children:"💬"}),h.jsx("p",{className:"text-xl font-medium mb-3",children:"Select a date to view entries"}),h.jsx("p",{className:"text-base",children:"Click on any colored date in the calendar to see your mood entries for that day"})]})})})]})})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Lo(e){return e+.5|0}const Wn=(e,t,n)=>Math.max(Math.min(e,n),t);function Cr(e){return Wn(Lo(e*2.55),0,255)}function si(e){return Wn(Lo(e*255),0,255)}function xn(e){return Wn(Lo(e/2.55)/100,0,1)}function l0(e){return Wn(Lo(e*100),0,100)}const kt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Xd=[..."0123456789ABCDEF"],aD=e=>Xd[e&15],lD=e=>Xd[(e&240)>>4]+Xd[e&15],ua=e=>(e&240)>>4===(e&15),cD=e=>ua(e.r)&&ua(e.g)&&ua(e.b)&&ua(e.a);function uD(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&kt[e[1]]*17,g:255&kt[e[2]]*17,b:255&kt[e[3]]*17,a:t===5?kt[e[4]]*17:255}:(t===7||t===9)&&(n={r:kt[e[1]]<<4|kt[e[2]],g:kt[e[3]]<<4|kt[e[4]],b:kt[e[5]]<<4|kt[e[6]],a:t===9?kt[e[7]]<<4|kt[e[8]]:255})),n}const dD=(e,t)=>e<255?t(e):"";function hD(e){var t=cD(e)?aD:lD;return e?"#"+t(e.r)+t(e.g)+t(e.b)+dD(e.a,t):void 0}const fD=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function V1(e,t,n){const i=t*Math.min(n,1-n),s=(r,o=(r+e/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function pD(e,t,n){const i=(s,r=(s+e/60)%6)=>n-n*t*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function mD(e,t,n){const i=V1(e,1,.5);let s;for(t+n>1&&(s=1/(t+n),t*=s,n*=s),s=0;s<3;s++)i[s]*=1-t-n,i[s]+=t;return i}function gD(e,t,n,i,s){return e===s?(t-n)/i+(t<n?6:0):t===s?(n-e)/i+2:(e-t)/i+4}function Qf(e){const n=e.r/255,i=e.g/255,s=e.b/255,r=Math.max(n,i,s),o=Math.min(n,i,s),a=(r+o)/2;let l,c,u;return r!==o&&(u=r-o,c=a>.5?u/(2-r-o):u/(r+o),l=gD(n,i,s,u,r),l=l*60+.5),[l|0,c||0,a]}function Zf(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(si)}function ep(e,t,n){return Zf(V1,e,t,n)}function yD(e,t,n){return Zf(mD,e,t,n)}function xD(e,t,n){return Zf(pD,e,t,n)}function z1(e){return(e%360+360)%360}function vD(e){const t=fD.exec(e);let n=255,i;if(!t)return;t[5]!==i&&(n=t[6]?Cr(+t[5]):si(+t[5]));const s=z1(+t[2]),r=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?i=yD(s,r,o):t[1]==="hsv"?i=xD(s,r,o):i=ep(s,r,o),{r:i[0],g:i[1],b:i[2],a:n}}function wD(e,t){var n=Qf(e);n[0]=z1(n[0]+t),n=ep(n),e.r=n[0],e.g=n[1],e.b=n[2]}function bD(e){if(!e)return;const t=Qf(e),n=t[0],i=l0(t[1]),s=l0(t[2]);return e.a<255?`hsla(${n}, ${i}%, ${s}%, ${xn(e.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const c0={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},u0={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function SD(){const e={},t=Object.keys(u0),n=Object.keys(c0);let i,s,r,o,a;for(i=0;i<t.length;i++){for(o=a=t[i],s=0;s<n.length;s++)r=n[s],a=a.replace(r,c0[r]);r=parseInt(u0[o],16),e[a]=[r>>16&255,r>>8&255,r&255]}return e}let da;function _D(e){da||(da=SD(),da.transparent=[0,0,0,0]);const t=da[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const CD=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function ED(e){const t=CD.exec(e);let n=255,i,s,r;if(t){if(t[7]!==i){const o=+t[7];n=t[8]?Cr(o):Wn(o*255,0,255)}return i=+t[1],s=+t[3],r=+t[5],i=255&(t[2]?Cr(i):Wn(i,0,255)),s=255&(t[4]?Cr(s):Wn(s,0,255)),r=255&(t[6]?Cr(r):Wn(r,0,255)),{r:i,g:s,b:r,a:n}}}function TD(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${xn(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const du=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,is=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function kD(e,t,n){const i=is(xn(e.r)),s=is(xn(e.g)),r=is(xn(e.b));return{r:si(du(i+n*(is(xn(t.r))-i))),g:si(du(s+n*(is(xn(t.g))-s))),b:si(du(r+n*(is(xn(t.b))-r))),a:e.a+n*(t.a-e.a)}}function ha(e,t,n){if(e){let i=Qf(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,t===0?360:1)),i=ep(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function H1(e,t){return e&&Object.assign(t||{},e)}function d0(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=si(e[3]))):(t=H1(e,{r:0,g:0,b:0,a:1}),t.a=si(t.a)),t}function PD(e){return e.charAt(0)==="r"?ED(e):vD(e)}class xo{constructor(t){if(t instanceof xo)return t;const n=typeof t;let i;n==="object"?i=d0(t):n==="string"&&(i=uD(t)||_D(t)||PD(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=H1(this._rgb);return t&&(t.a=xn(t.a)),t}set rgb(t){this._rgb=d0(t)}rgbString(){return this._valid?TD(this._rgb):void 0}hexString(){return this._valid?hD(this._rgb):void 0}hslString(){return this._valid?bD(this._rgb):void 0}mix(t,n){if(t){const i=this.rgb,s=t.rgb;let r;const o=n===r?.5:n,a=2*o-1,l=i.a-s.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,i.r=255&c*i.r+r*s.r+.5,i.g=255&c*i.g+r*s.g+.5,i.b=255&c*i.b+r*s.b+.5,i.a=o*i.a+(1-o)*s.a,this.rgb=i}return this}interpolate(t,n){return t&&(this._rgb=kD(this._rgb,t._rgb,n)),this}clone(){return new xo(this.rgb)}alpha(t){return this._rgb.a=si(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=Lo(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return ha(this._rgb,2,t),this}darken(t){return ha(this._rgb,2,-t),this}saturate(t){return ha(this._rgb,1,t),this}desaturate(t){return ha(this._rgb,1,-t),this}rotate(t){return wD(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function fn(){}const AD=(()=>{let e=0;return()=>e++})();function oe(e){return e==null}function we(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function ae(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Ue(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function ft(e,t){return Ue(e)?e:t}function ee(e,t){return typeof e>"u"?t:e}const ND=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function pe(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function ce(e,t,n,i){let s,r,o;if(we(e))if(r=e.length,i)for(s=r-1;s>=0;s--)t.call(n,e[s],s);else for(s=0;s<r;s++)t.call(n,e[s],s);else if(ae(e))for(o=Object.keys(e),r=o.length,s=0;s<r;s++)t.call(n,e[o[s]],o[s])}function Al(e,t){let n,i,s,r;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(s=e[n],r=t[n],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function Nl(e){if(we(e))return e.map(Nl);if(ae(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let s=0;for(;s<i;++s)t[n[s]]=Nl(e[n[s]]);return t}return e}function W1(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function jD(e,t,n,i){if(!W1(e))return;const s=t[e],r=n[e];ae(s)&&ae(r)?vo(s,r,i):t[e]=Nl(r)}function vo(e,t,n){const i=we(t)?t:[t],s=i.length;if(!ae(e))return e;n=n||{};const r=n.merger||jD;let o;for(let a=0;a<s;++a){if(o=i[a],!ae(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)r(l[c],e,o,n)}return e}function Br(e,t){return vo(e,t,{merger:DD})}function DD(e,t,n){if(!W1(e))return;const i=t[e],s=n[e];ae(i)&&ae(s)?Br(i,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Nl(s))}const h0={"":e=>e,x:e=>e.x,y:e=>e.y};function MD(e){const t=e.split("."),n=[];let i="";for(const s of t)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function RD(e){const t=MD(e);return n=>{for(const i of t){if(i==="")break;n=n&&n[i]}return n}}function zs(e,t){return(h0[t]||(h0[t]=RD(t)))(e)}function tp(e){return e.charAt(0).toUpperCase()+e.slice(1)}const wo=e=>typeof e<"u",ui=e=>typeof e=="function",f0=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function ID(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const Me=Math.PI,Ft=2*Me,LD=Ft+Me,jl=Number.POSITIVE_INFINITY,FD=Me/180,yt=Me/2,bi=Me/4,p0=Me*2/3,$n=Math.log10,un=Math.sign;function Vr(e,t,n){return Math.abs(e-t)<n}function m0(e){const t=Math.round(e);e=Vr(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor($n(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function OD(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i===0&&(t.push(i),t.push(e/i));return n===(n|0)&&t.push(n),t.sort((s,r)=>s-r).pop(),t}function UD(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function bo(e){return!UD(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function BD(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function $1(e,t,n){let i,s,r;for(i=0,s=e.length;i<s;i++)r=e[i][n],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function Kn(e){return e*(Me/180)}function np(e){return e*(180/Me)}function g0(e){if(!Ue(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function VD(e,t){const n=t.x-e.x,i=t.y-e.y,s=Math.sqrt(n*n+i*i);let r=Math.atan2(i,n);return r<-.5*Me&&(r+=Ft),{angle:r,distance:s}}function Jd(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function zD(e,t){return(e-t+LD)%Ft-Me}function Ht(e){return(e%Ft+Ft)%Ft}function K1(e,t,n,i){const s=Ht(e),r=Ht(t),o=Ht(n),a=Ht(r-s),l=Ht(o-s),c=Ht(s-r),u=Ht(s-o);return s===r||s===o||i&&r===o||a>l&&c<u}function xt(e,t,n){return Math.max(t,Math.min(n,e))}function HD(e){return xt(e,-32768,32767)}function Ii(e,t,n,i=1e-6){return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}function ip(e,t,n){n=n||(o=>e[o]<t);let i=e.length-1,s=0,r;for(;i-s>1;)r=s+i>>1,n(r)?s=r:i=r;return{lo:s,hi:i}}const Li=(e,t,n,i)=>ip(e,n,i?s=>{const r=e[s][t];return r<n||r===n&&e[s+1][t]===n}:s=>e[s][t]<n),WD=(e,t,n)=>ip(e,n,i=>e[i][t]>=n);function $D(e,t,n){let i=0,s=e.length;for(;i<s&&e[i]<t;)i++;for(;s>i&&e[s-1]>n;)s--;return i>0||s<e.length?e.slice(i,s):e}const G1=["push","pop","shift","splice","unshift"];function KD(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),G1.forEach(n=>{const i="_onData"+tp(n),s=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...r){const o=s.apply(this,r);return e._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...r)}),o}})})}function y0(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(t);s!==-1&&i.splice(s,1),!(i.length>0)&&(G1.forEach(r=>{delete e[r]}),delete e._chartjs)}function Y1(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const q1=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function X1(e,t){let n=[],i=!1;return function(...s){n=s,i||(i=!0,q1.call(window,()=>{i=!1,e.apply(t,n)}))}}function GD(e,t){let n;return function(...i){return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}const sp=e=>e==="start"?"left":e==="end"?"right":"center",qe=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,YD=(e,t,n,i)=>e===(i?"left":"right")?n:e==="center"?(t+n)/2:t;function qD(e,t,n){const i=t.length;let s=0,r=i;if(e._sorted){const{iScale:o,vScale:a,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,u=o.axis,{min:d,max:f,minDefined:p,maxDefined:m}=o.getUserBounds();if(p){if(s=Math.min(Li(l,u,d).lo,n?i:Li(t,u,o.getPixelForValue(d)).lo),c){const g=l.slice(0,s+1).reverse().findIndex(b=>!oe(b[a.axis]));s-=Math.max(0,g)}s=xt(s,0,i-1)}if(m){let g=Math.max(Li(l,o.axis,f,!0).hi+1,n?0:Li(t,u,o.getPixelForValue(f),!0).hi+1);if(c){const b=l.slice(g-1).findIndex(y=>!oe(y[a.axis]));g+=Math.max(0,b)}r=xt(g,s,i)-s}else r=i-s}return{start:s,count:r}}function XD(e){const{xScale:t,yScale:n,_scaleRanges:i}=e,s={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!i)return e._scaleRanges=s,!0;const r=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,s),r}const fa=e=>e===0||e===1,x0=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Ft/n)),v0=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Ft/n)+1,zr={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*yt)+1,easeOutSine:e=>Math.sin(e*yt),easeInOutSine:e=>-.5*(Math.cos(Me*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>fa(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>fa(e)?e:x0(e,.075,.3),easeOutElastic:e=>fa(e)?e:v0(e,.075,.3),easeInOutElastic(e){return fa(e)?e:e<.5?.5*x0(e*2,.1125,.45):.5+.5*v0(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-zr.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?zr.easeInBounce(e*2)*.5:zr.easeOutBounce(e*2-1)*.5+.5};function rp(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function w0(e){return rp(e)?e:new xo(e)}function hu(e){return rp(e)?e:new xo(e).saturate(.5).darken(.1).hexString()}const JD=["x","y","borderWidth","radius","tension"],QD=["color","borderColor","backgroundColor"];function ZD(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:QD},numbers:{type:"number",properties:JD}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function eM(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const b0=new Map;function tM(e,t){t=t||{};const n=e+JSON.stringify(t);let i=b0.get(n);return i||(i=new Intl.NumberFormat(e,t),b0.set(n,i)),i}function op(e,t,n){return tM(t,n).format(e)}const J1={values(e){return we(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const i=this.chart.options.locale;let s,r=e;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),r=nM(e,n)}const o=$n(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),op(e,i,l)},logarithmic(e,t,n){if(e===0)return"0";const i=n[t].significand||e/Math.pow(10,Math.floor($n(e)));return[1,2,3,5,10,15].includes(i)||t>.8*n.length?J1.numeric.call(this,e,t,n):""}};function nM(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var yc={formatters:J1};function iM(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:yc.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Yi=Object.create(null),Qd=Object.create(null);function Hr(e,t){if(!t)return e;const n=t.split(".");for(let i=0,s=n.length;i<s;++i){const r=n[i];e=e[r]||(e[r]=Object.create(null))}return e}function fu(e,t,n){return typeof t=="string"?vo(Hr(e,t),n):vo(Hr(e,""),t)}class sM{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>hu(s.backgroundColor),this.hoverBorderColor=(i,s)=>hu(s.borderColor),this.hoverColor=(i,s)=>hu(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return fu(this,t,n)}get(t){return Hr(this,t)}describe(t,n){return fu(Qd,t,n)}override(t,n){return fu(Yi,t,n)}route(t,n,i,s){const r=Hr(this,t),o=Hr(this,i),a="_"+n;Object.defineProperties(r,{[a]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[s];return ae(l)?Object.assign({},c,l):ee(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(n=>n(this))}}var Ae=new sM({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[ZD,eM,iM]);function rM(e){return!e||oe(e.size)||oe(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function Dl(e,t,n,i,s){let r=t[s];return r||(r=t[s]=e.measureText(s).width,n.push(s)),r>i&&(i=r),i}function oM(e,t,n,i){i=i||{};let s=i.data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(s=i.data={},r=i.garbageCollect=[],i.font=t),e.save(),e.font=t;let o=0;const a=n.length;let l,c,u,d,f;for(l=0;l<a;l++)if(d=n[l],d!=null&&!we(d))o=Dl(e,s,r,o,d);else if(we(d))for(c=0,u=d.length;c<u;c++)f=d[c],f!=null&&!we(f)&&(o=Dl(e,s,r,o,f));e.restore();const p=r.length/2;if(p>n.length){for(l=0;l<p;l++)delete s[r[l]];r.splice(0,p)}return o}function Si(e,t,n){const i=e.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((t-s)*i)/i+s}function S0(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Zd(e,t,n,i){Q1(e,t,n,i,null)}function Q1(e,t,n,i,s){let r,o,a,l,c,u,d,f;const p=t.pointStyle,m=t.rotation,g=t.radius;let b=(m||0)*FD;if(p&&typeof p=="object"&&(r=p.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){e.save(),e.translate(n,i),e.rotate(b),e.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),e.restore();return}if(!(isNaN(g)||g<=0)){switch(e.beginPath(),p){default:s?e.ellipse(n,i,s/2,g,0,0,Ft):e.arc(n,i,g,0,Ft),e.closePath();break;case"triangle":u=s?s/2:g,e.moveTo(n+Math.sin(b)*u,i-Math.cos(b)*g),b+=p0,e.lineTo(n+Math.sin(b)*u,i-Math.cos(b)*g),b+=p0,e.lineTo(n+Math.sin(b)*u,i-Math.cos(b)*g),e.closePath();break;case"rectRounded":c=g*.516,l=g-c,o=Math.cos(b+bi)*l,d=Math.cos(b+bi)*(s?s/2-c:l),a=Math.sin(b+bi)*l,f=Math.sin(b+bi)*(s?s/2-c:l),e.arc(n-d,i-a,c,b-Me,b-yt),e.arc(n+f,i-o,c,b-yt,b),e.arc(n+d,i+a,c,b,b+yt),e.arc(n-f,i+o,c,b+yt,b+Me),e.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*g,u=s?s/2:l,e.rect(n-u,i-l,2*u,2*l);break}b+=bi;case"rectRot":d=Math.cos(b)*(s?s/2:g),o=Math.cos(b)*g,a=Math.sin(b)*g,f=Math.sin(b)*(s?s/2:g),e.moveTo(n-d,i-a),e.lineTo(n+f,i-o),e.lineTo(n+d,i+a),e.lineTo(n-f,i+o),e.closePath();break;case"crossRot":b+=bi;case"cross":d=Math.cos(b)*(s?s/2:g),o=Math.cos(b)*g,a=Math.sin(b)*g,f=Math.sin(b)*(s?s/2:g),e.moveTo(n-d,i-a),e.lineTo(n+d,i+a),e.moveTo(n+f,i-o),e.lineTo(n-f,i+o);break;case"star":d=Math.cos(b)*(s?s/2:g),o=Math.cos(b)*g,a=Math.sin(b)*g,f=Math.sin(b)*(s?s/2:g),e.moveTo(n-d,i-a),e.lineTo(n+d,i+a),e.moveTo(n+f,i-o),e.lineTo(n-f,i+o),b+=bi,d=Math.cos(b)*(s?s/2:g),o=Math.cos(b)*g,a=Math.sin(b)*g,f=Math.sin(b)*(s?s/2:g),e.moveTo(n-d,i-a),e.lineTo(n+d,i+a),e.moveTo(n+f,i-o),e.lineTo(n-f,i+o);break;case"line":o=s?s/2:Math.cos(b)*g,a=Math.sin(b)*g,e.moveTo(n-o,i-a),e.lineTo(n+o,i+a);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(b)*(s?s/2:g),i+Math.sin(b)*g);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function Sn(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function ap(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function lp(e){e.restore()}function aM(e,t,n,i,s){if(!t)return e.lineTo(n.x,n.y);if(s==="middle"){const r=(t.x+n.x)/2;e.lineTo(r,t.y),e.lineTo(r,n.y)}else s==="after"!=!!i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function lM(e,t,n,i){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function cM(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),oe(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function uM(e,t,n,i,s){if(s.strikethrough||s.underline){const r=e.measureText(i),o=t-r.actualBoundingBoxLeft,a=t+r.actualBoundingBoxRight,l=n-r.actualBoundingBoxAscent,c=n+r.actualBoundingBoxDescent,u=s.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(o,u),e.lineTo(a,u),e.stroke()}}function dM(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function qi(e,t,n,i,s,r={}){const o=we(t)?t:[t],a=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(e.save(),e.font=s.string,cM(e,r),l=0;l<o.length;++l)c=o[l],r.backdrop&&dM(e,r.backdrop),a&&(r.strokeColor&&(e.strokeStyle=r.strokeColor),oe(r.strokeWidth)||(e.lineWidth=r.strokeWidth),e.strokeText(c,n,i,r.maxWidth)),e.fillText(c,n,i,r.maxWidth),uM(e,n,i,c,r),i+=Number(s.lineHeight);e.restore()}function So(e,t){const{x:n,y:i,w:s,h:r,radius:o}=t;e.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*Me,Me,!0),e.lineTo(n,i+r-o.bottomLeft),e.arc(n+o.bottomLeft,i+r-o.bottomLeft,o.bottomLeft,Me,yt,!0),e.lineTo(n+s-o.bottomRight,i+r),e.arc(n+s-o.bottomRight,i+r-o.bottomRight,o.bottomRight,yt,0,!0),e.lineTo(n+s,i+o.topRight),e.arc(n+s-o.topRight,i+o.topRight,o.topRight,0,-yt,!0),e.lineTo(n+o.topLeft,i)}const hM=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,fM=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function pM(e,t){const n=(""+e).match(hM);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const mM=e=>+e||0;function Z1(e,t){const n={},i=ae(t),s=i?Object.keys(t):t,r=ae(e)?i?o=>ee(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of s)n[o]=mM(r(o));return n}function eb(e){return Z1(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Vi(e){return Z1(e,["topLeft","topRight","bottomLeft","bottomRight"])}function et(e){const t=eb(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Le(e,t){e=e||{},t=t||Ae.font;let n=ee(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let i=ee(e.style,t.style);i&&!(""+i).match(fM)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:ee(e.family,t.family),lineHeight:pM(ee(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:ee(e.weight,t.weight),string:""};return s.string=rM(s),s}function pa(e,t,n,i){let s=!0,r,o,a;for(r=0,o=e.length;r<o;++r)if(a=e[r],a!==void 0&&(t!==void 0&&typeof a=="function"&&(a=a(t),s=!1),n!==void 0&&we(a)&&(a=a[n%a.length],s=!1),a!==void 0))return i&&!s&&(i.cacheable=!1),a}function gM(e,t,n){const{min:i,max:s}=e,r=ND(t,(s-i)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(i,-Math.abs(r)),max:o(s,r)}}function gi(e,t){return Object.assign(Object.create(e),t)}function cp(e,t=[""],n,i,s=()=>e[0]){const r=n||e;typeof i>"u"&&(i=sb("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:r,_fallback:i,_getTarget:s,override:a=>cp([a,...e],t,r,i)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete e[0][l],!0},get(a,l){return nb(a,l,()=>CM(l,t,e,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,l){return C0(a).includes(l)},ownKeys(a){return C0(a)},set(a,l,c){const u=a._storage||(a._storage=s());return a[l]=u[l]=c,delete a._keys,!0}})}function Hs(e,t,n,i){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:tb(e,i),setContext:r=>Hs(e,r,n,i),override:r=>Hs(e.override(r),t,n,i)};return new Proxy(s,{deleteProperty(r,o){return delete r[o],delete e[o],!0},get(r,o,a){return nb(r,o,()=>xM(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(r,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(r,o,a){return e[o]=a,delete r[o],!0}})}function tb(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:n,indexable:i,isScriptable:ui(n)?n:()=>n,isIndexable:ui(i)?i:()=>i}}const yM=(e,t)=>e?e+tp(t):t,up=(e,t)=>ae(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function nb(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const i=n();return e[t]=i,i}function xM(e,t,n){const{_proxy:i,_context:s,_subProxy:r,_descriptors:o}=e;let a=i[t];return ui(a)&&o.isScriptable(t)&&(a=vM(t,a,e,n)),we(a)&&a.length&&(a=wM(t,a,e,o.isIndexable)),up(t,a)&&(a=Hs(a,s,r&&r[t],o)),a}function vM(e,t,n,i){const{_proxy:s,_context:r,_subProxy:o,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(r,o||i);return a.delete(e),up(e,l)&&(l=dp(s._scopes,s,e,l)),l}function wM(e,t,n,i){const{_proxy:s,_context:r,_subProxy:o,_descriptors:a}=n;if(typeof r.index<"u"&&i(e))return t[r.index%t.length];if(ae(t[0])){const l=t,c=s._scopes.filter(u=>u!==l);t=[];for(const u of l){const d=dp(c,s,e,u);t.push(Hs(d,r,o&&o[e],a))}}return t}function ib(e,t,n){return ui(e)?e(t,n):e}const bM=(e,t)=>e===!0?t:typeof e=="string"?zs(t,e):void 0;function SM(e,t,n,i,s){for(const r of t){const o=bM(n,r);if(o){e.add(o);const a=ib(o._fallback,n,s);if(typeof a<"u"&&a!==n&&a!==i)return a}else if(o===!1&&typeof i<"u"&&n!==i)return null}return!1}function dp(e,t,n,i){const s=t._rootScopes,r=ib(t._fallback,n,i),o=[...e,...s],a=new Set;a.add(i);let l=_0(a,o,n,r||n,i);return l===null||typeof r<"u"&&r!==n&&(l=_0(a,o,r,l,i),l===null)?!1:cp(Array.from(a),[""],s,r,()=>_M(t,n,i))}function _0(e,t,n,i,s){for(;n;)n=SM(e,t,n,i,s);return n}function _M(e,t,n){const i=e._getTarget();t in i||(i[t]={});const s=i[t];return we(s)&&ae(n)?n:s||{}}function CM(e,t,n,i){let s;for(const r of t)if(s=sb(yM(r,e),n),typeof s<"u")return up(e,s)?dp(n,i,e,s):s}function sb(e,t){for(const n of t){if(!n)continue;const i=n[e];if(typeof i<"u")return i}}function C0(e){let t=e._keys;return t||(t=e._keys=EM(e._scopes)),t}function EM(e){const t=new Set;for(const n of e)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))t.add(i);return Array.from(t)}const TM=Number.EPSILON||1e-14,Ws=(e,t)=>t<e.length&&!e[t].skip&&e[t],rb=e=>e==="x"?"y":"x";function kM(e,t,n,i){const s=e.skip?t:e,r=t,o=n.skip?t:n,a=Jd(r,s),l=Jd(o,r);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=i*c,f=i*u;return{previous:{x:r.x-d*(o.x-s.x),y:r.y-d*(o.y-s.y)},next:{x:r.x+f*(o.x-s.x),y:r.y+f*(o.y-s.y)}}}function PM(e,t,n){const i=e.length;let s,r,o,a,l,c=Ws(e,0);for(let u=0;u<i-1;++u)if(l=c,c=Ws(e,u+1),!(!l||!c)){if(Vr(t[u],0,TM)){n[u]=n[u+1]=0;continue}s=n[u]/t[u],r=n[u+1]/t[u],a=Math.pow(s,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=s*o*t[u],n[u+1]=r*o*t[u])}}function AM(e,t,n="x"){const i=rb(n),s=e.length;let r,o,a,l=Ws(e,0);for(let c=0;c<s;++c){if(o=a,a=l,l=Ws(e,c+1),!a)continue;const u=a[n],d=a[i];o&&(r=(u-o[n])/3,a[`cp1${n}`]=u-r,a[`cp1${i}`]=d-r*t[c]),l&&(r=(l[n]-u)/3,a[`cp2${n}`]=u+r,a[`cp2${i}`]=d+r*t[c])}}function NM(e,t="x"){const n=rb(t),i=e.length,s=Array(i).fill(0),r=Array(i);let o,a,l,c=Ws(e,0);for(o=0;o<i;++o)if(a=l,l=c,c=Ws(e,o+1),!!l){if(c){const u=c[t]-l[t];s[o]=u!==0?(c[n]-l[n])/u:0}r[o]=a?c?un(s[o-1])!==un(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}PM(e,s,r),AM(e,r,t)}function ma(e,t,n){return Math.max(Math.min(e,n),t)}function jM(e,t){let n,i,s,r,o,a=Sn(e[0],t);for(n=0,i=e.length;n<i;++n)o=r,r=a,a=n<i-1&&Sn(e[n+1],t),r&&(s=e[n],o&&(s.cp1x=ma(s.cp1x,t.left,t.right),s.cp1y=ma(s.cp1y,t.top,t.bottom)),a&&(s.cp2x=ma(s.cp2x,t.left,t.right),s.cp2y=ma(s.cp2y,t.top,t.bottom)))}function DM(e,t,n,i,s){let r,o,a,l;if(t.spanGaps&&(e=e.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")NM(e,s);else{let c=i?e[e.length-1]:e[0];for(r=0,o=e.length;r<o;++r)a=e[r],l=kM(c,a,e[Math.min(r+1,o-(i?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&jM(e,n)}function hp(){return typeof window<"u"&&typeof document<"u"}function fp(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Ml(e,t,n){let i;return typeof e=="string"?(i=parseInt(e,10),e.indexOf("%")!==-1&&(i=i/100*t.parentNode[n])):i=e,i}const xc=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function MM(e,t){return xc(e).getPropertyValue(t)}const RM=["top","right","bottom","left"];function zi(e,t,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const r=RM[s];i[r]=parseFloat(e[t+"-"+r+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const IM=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function LM(e,t){const n=e.touches,i=n&&n.length?n[0]:e,{offsetX:s,offsetY:r}=i;let o=!1,a,l;if(IM(s,r,e.target))a=s,l=r;else{const c=t.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Ai(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:i}=t,s=xc(n),r=s.boxSizing==="border-box",o=zi(s,"padding"),a=zi(s,"border","width"),{x:l,y:c,box:u}=LM(e,n),d=o.left+(u&&a.left),f=o.top+(u&&a.top);let{width:p,height:m}=t;return r&&(p-=o.width+a.width,m-=o.height+a.height),{x:Math.round((l-d)/p*n.width/i),y:Math.round((c-f)/m*n.height/i)}}function FM(e,t,n){let i,s;if(t===void 0||n===void 0){const r=e&&fp(e);if(!r)t=e.clientWidth,n=e.clientHeight;else{const o=r.getBoundingClientRect(),a=xc(r),l=zi(a,"border","width"),c=zi(a,"padding");t=o.width-c.width-l.width,n=o.height-c.height-l.height,i=Ml(a.maxWidth,r,"clientWidth"),s=Ml(a.maxHeight,r,"clientHeight")}}return{width:t,height:n,maxWidth:i||jl,maxHeight:s||jl}}const ga=e=>Math.round(e*10)/10;function OM(e,t,n,i){const s=xc(e),r=zi(s,"margin"),o=Ml(s.maxWidth,e,"clientWidth")||jl,a=Ml(s.maxHeight,e,"clientHeight")||jl,l=FM(e,t,n);let{width:c,height:u}=l;if(s.boxSizing==="content-box"){const f=zi(s,"border","width"),p=zi(s,"padding");c-=p.width+f.width,u-=p.height+f.height}return c=Math.max(0,c-r.width),u=Math.max(0,i?c/i:u-r.height),c=ga(Math.min(c,o,l.maxWidth)),u=ga(Math.min(u,a,l.maxHeight)),c&&!u&&(u=ga(c/2)),(t!==void 0||n!==void 0)&&i&&l.height&&u>l.height&&(u=l.height,c=ga(Math.floor(u*i))),{width:c,height:u}}function E0(e,t,n){const i=t||1,s=Math.floor(e.height*i),r=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==i||o.height!==s||o.width!==r?(e.currentDevicePixelRatio=i,o.height=s,o.width=r,e.ctx.setTransform(i,0,0,i,0,0),!0):!1}const UM=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};hp()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function T0(e,t){const n=MM(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Ni(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function BM(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:i==="middle"?n<.5?e.y:t.y:i==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function VM(e,t,n,i){const s={x:e.cp2x,y:e.cp2y},r={x:t.cp1x,y:t.cp1y},o=Ni(e,s,n),a=Ni(s,r,n),l=Ni(r,t,n),c=Ni(o,a,n),u=Ni(a,l,n);return Ni(c,u,n)}const zM=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},HM=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Ns(e,t,n){return e?zM(t,n):HM()}function ob(e,t){let n,i;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function ab(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function lb(e){return e==="angle"?{between:K1,compare:zD,normalize:Ht}:{between:Ii,compare:(t,n)=>t-n,normalize:t=>t}}function k0({start:e,end:t,count:n,loop:i,style:s}){return{start:e%n,end:t%n,loop:i&&(t-e+1)%n===0,style:s}}function WM(e,t,n){const{property:i,start:s,end:r}=n,{between:o,normalize:a}=lb(i),l=t.length;let{start:c,end:u,loop:d}=e,f,p;if(d){for(c+=l,u+=l,f=0,p=l;f<p&&o(a(t[c%l][i]),s,r);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:e.style}}function $M(e,t,n){if(!n)return[e];const{property:i,start:s,end:r}=n,o=t.length,{compare:a,between:l,normalize:c}=lb(i),{start:u,end:d,loop:f,style:p}=WM(e,t,n),m=[];let g=!1,b=null,y,w,S;const E=()=>l(s,S,y)&&a(s,S)!==0,k=()=>a(r,y)===0||l(r,S,y),N=()=>g||E(),j=()=>!g||k();for(let P=u,R=u;P<=d;++P)w=t[P%o],!w.skip&&(y=c(w[i]),y!==S&&(g=l(y,s,r),b===null&&N()&&(b=a(y,s)===0?P:R),b!==null&&j()&&(m.push(k0({start:b,end:P,loop:f,count:o,style:p})),b=null),R=P,S=y));return b!==null&&m.push(k0({start:b,end:d,loop:f,count:o,style:p})),m}function KM(e,t){const n=[],i=e.segments;for(let s=0;s<i.length;s++){const r=$M(i[s],e.points,t);r.length&&n.push(...r)}return n}function GM(e,t,n,i){let s=0,r=t-1;if(n&&!i)for(;s<t&&!e[s].skip;)s++;for(;s<t&&e[s].skip;)s++;for(s%=t,n&&(r+=s);r>s&&e[r%t].skip;)r--;return r%=t,{start:s,end:r}}function YM(e,t,n,i){const s=e.length,r=[];let o=t,a=e[t],l;for(l=t+1;l<=n;++l){const c=e[l%s];c.skip||c.stop?a.skip||(i=!1,r.push({start:t%s,end:(l-1)%s,loop:i}),t=o=c.stop?l:null):(o=l,a.skip&&(t=l)),a=c}return o!==null&&r.push({start:t%s,end:o%s,loop:i}),r}function qM(e,t){const n=e.points,i=e.options.spanGaps,s=n.length;if(!s)return[];const r=!!e._loop,{start:o,end:a}=GM(n,s,r,i);if(i===!0)return P0(e,[{start:o,end:a,loop:r}],n,t);const l=a<o?a+s:a,c=!!e._fullLoop&&o===0&&a===s-1;return P0(e,YM(n,o,l,c),n,t)}function P0(e,t,n,i){return!i||!i.setContext||!n?t:XM(e,t,n,i)}function XM(e,t,n,i){const s=e._chart.getContext(),r=A0(e.options),{_datasetIndex:o,options:{spanGaps:a}}=e,l=n.length,c=[];let u=r,d=t[0].start,f=d;function p(m,g,b,y){const w=a?-1:1;if(m!==g){for(m+=l;n[m%l].skip;)m-=w;for(;n[g%l].skip;)g+=w;m%l!==g%l&&(c.push({start:m%l,end:g%l,loop:b,style:y}),u=y,d=g%l)}}for(const m of t){d=a?d:m.start;let g=n[d%l],b;for(f=d+1;f<=m.end;f++){const y=n[f%l];b=A0(i.setContext(gi(s,{type:"segment",p0:g,p1:y,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),JM(b,u)&&p(d,f-1,m.loop,u),g=y,u=b}d<f-1&&p(d,f-1,m.loop,u)}return c}function A0(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function JM(e,t){if(!t)return!1;const n=[],i=function(s,r){return rp(r)?(n.includes(r)||n.push(r),n.indexOf(r)):r};return JSON.stringify(e,i)!==JSON.stringify(t,i)}function ya(e,t,n){return e.options.clip?e[n]:t[n]}function QM(e,t){const{xScale:n,yScale:i}=e;return n&&i?{left:ya(n,t,"left"),right:ya(n,t,"right"),top:ya(i,t,"top"),bottom:ya(i,t,"bottom")}:t}function ZM(e,t){const n=t._clip;if(n.disabled)return!1;const i=QM(t,e.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:i.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class eR{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,i,s){const r=n.listeners[s],o=n.duration;r.forEach(a=>a({chart:t,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=q1.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const r=i.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(t),a=!0):(r[o]=r[r.length-1],r.pop());a&&(s.draw(),this._notify(s,i,t,"progress")),r.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),n+=r.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let i=n.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,i)),i}listen(t,n,i){this._getAnims(t).listeners[n].push(i)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var pn=new eR;const N0="transparent",tR={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const i=w0(e||N0),s=i.valid&&w0(t||N0);return s&&s.valid?s.mix(i,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class nR{constructor(t,n,i,s){const r=n[i];s=pa([t.to,s,r,t.from]);const o=pa([t.from,r,s]);this._active=!0,this._fn=t.fn||tR[t.type||typeof o],this._easing=zr[t.easing]||zr.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=i,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(t,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],r=i-this._start,o=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=pa([t.to,n,s,t.from]),this._from=pa([t.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,i=this._duration,s=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||n<i),!this._active){this._target[s]=a,this._notify(!0);return}if(n<0){this._target[s]=r;return}l=n/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(r,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,i)=>{t.push({res:n,rej:i})})}_notify(t){const n=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}class cb{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!ae(t))return;const n=Object.keys(Ae.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const r=t[s];if(!ae(r))return;const o={};for(const a of n)o[a]=r[a];(we(r.properties)&&r.properties||[s]).forEach(a=>{(a===s||!i.has(a))&&i.set(a,o)})})}_animateOptions(t,n){const i=n.options,s=sR(t,i);if(!s)return[];const r=this._createAnimations(s,i);return i.$shared&&iR(t.options.$animations,i).then(()=>{t.options=i},()=>{}),r}_createAnimations(t,n){const i=this._properties,s=[],r=t.$animations||(t.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(t,n));continue}const u=n[c];let d=r[c];const f=i.get(c);if(d)if(f&&d.active()){d.update(f,u,a);continue}else d.cancel();if(!f||!f.duration){t[c]=u;continue}r[c]=d=new nR(f,t,c,u),s.push(d)}return s}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const i=this._createAnimations(t,n);if(i.length)return pn.add(this._chart,i),!0}}function iR(e,t){const n=[],i=Object.keys(t);for(let s=0;s<i.length;s++){const r=e[i[s]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function sR(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function j0(e,t){const n=e&&e.options||{},i=n.reverse,s=n.min===void 0?t:0,r=n.max===void 0?t:0;return{start:i?r:s,end:i?s:r}}function rR(e,t,n){if(n===!1)return!1;const i=j0(e,n),s=j0(t,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function oR(e){let t,n,i,s;return ae(e)?(t=e.top,n=e.right,i=e.bottom,s=e.left):t=n=i=s=e,{top:t,right:n,bottom:i,left:s,disabled:e===!1}}function ub(e,t){const n=[],i=e._getSortedDatasetMetas(t);let s,r;for(s=0,r=i.length;s<r;++s)n.push(i[s].index);return n}function D0(e,t,n,i={}){const s=e.keys,r=i.mode==="single";let o,a,l,c;if(t===null)return;let u=!1;for(o=0,a=s.length;o<a;++o){if(l=+s[o],l===n){if(u=!0,i.all)continue;break}c=e.values[l],Ue(c)&&(r||t===0||un(t)===un(c))&&(t+=c)}return!u&&!i.all?0:t}function aR(e,t){const{iScale:n,vScale:i}=t,s=n.axis==="x"?"x":"y",r=i.axis==="x"?"x":"y",o=Object.keys(e),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[s]:u,[r]:e[u]};return a}function pu(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function lR(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function cR(e){const{min:t,max:n,minDefined:i,maxDefined:s}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function uR(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function M0(e,t,n,i){for(const s of t.getMatchingVisibleMetas(i).reverse()){const r=e[s.index];if(n&&r>0||!n&&r<0)return s.index}return null}function R0(e,t){const{chart:n,_cachedMeta:i}=e,s=n._stacks||(n._stacks={}),{iScale:r,vScale:o,index:a}=i,l=r.axis,c=o.axis,u=lR(r,o,i),d=t.length;let f;for(let p=0;p<d;++p){const m=t[p],{[l]:g,[c]:b}=m,y=m._stacks||(m._stacks={});f=y[c]=uR(s,u,g),f[a]=b,f._top=M0(f,o,!0,i.type),f._bottom=M0(f,o,!1,i.type);const w=f._visualValues||(f._visualValues={});w[a]=b}}function mu(e,t){const n=e.scales;return Object.keys(n).filter(i=>n[i].axis===t).shift()}function dR(e,t){return gi(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function hR(e,t,n){return gi(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function hr(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const s of t){const r=s._stacks;if(!r||r[i]===void 0||r[i][n]===void 0)return;delete r[i][n],r[i]._visualValues!==void 0&&r[i]._visualValues[n]!==void 0&&delete r[i]._visualValues[n]}}}const gu=e=>e==="reset"||e==="none",I0=(e,t)=>t?e:Object.assign({},e),fR=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:ub(n,!0),values:null};class js{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=pu(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&hr(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(d,f,p,m)=>d==="x"?f:d==="r"?m:p,r=n.xAxisID=ee(i.xAxisID,mu(t,"x")),o=n.yAxisID=ee(i.yAxisID,mu(t,"y")),a=n.rAxisID=ee(i.rAxisID,mu(t,"r")),l=n.indexAxis,c=n.iAxisID=s(l,r,o,a),u=n.vAxisID=s(l,o,r,a);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&y0(this._data,this),t._stacked&&hr(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),i=this._data;if(ae(n)){const s=this._cachedMeta;this._data=aR(n,s)}else if(i!==n){if(i){y0(i,this);const s=this._cachedMeta;hr(s),s._parsed=[]}n&&Object.isExtensible(n)&&KD(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const r=n._stacked;n._stacked=pu(n.vScale,n),n.stack!==i.stack&&(s=!0,hr(n),n.stack=i.stack),this._resyncElements(t),(s||r!==n._stacked)&&(R0(this,n._parsed),n._stacked=pu(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:i,_data:s}=this,{iScale:r,_stacked:o}=i,a=r.axis;let l=t===0&&n===s.length?!0:i._sorted,c=t>0&&i._parsed[t-1],u,d,f;if(this._parsing===!1)i._parsed=s,i._sorted=!0,f=s;else{we(s[t])?f=this.parseArrayData(i,s,t,n):ae(s[t])?f=this.parseObjectData(i,s,t,n):f=this.parsePrimitiveData(i,s,t,n);const p=()=>d[a]===null||c&&d[a]<c[a];for(u=0;u<n;++u)i._parsed[u+t]=d=f[u],l&&(p()&&(l=!1),c=d);i._sorted=l}o&&R0(this,f)}parsePrimitiveData(t,n,i,s){const{iScale:r,vScale:o}=t,a=r.axis,l=o.axis,c=r.getLabels(),u=r===o,d=new Array(s);let f,p,m;for(f=0,p=s;f<p;++f)m=f+i,d[f]={[a]:u||r.parse(c[m],m),[l]:o.parse(n[m],m)};return d}parseArrayData(t,n,i,s){const{xScale:r,yScale:o}=t,a=new Array(s);let l,c,u,d;for(l=0,c=s;l<c;++l)u=l+i,d=n[u],a[l]={x:r.parse(d[0],u),y:o.parse(d[1],u)};return a}parseObjectData(t,n,i,s){const{xScale:r,yScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(s);let u,d,f,p;for(u=0,d=s;u<d;++u)f=u+i,p=n[f],c[u]={x:r.parse(zs(p,a),f),y:o.parse(zs(p,l),f)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,i){const s=this.chart,r=this._cachedMeta,o=n[t.axis],a={keys:ub(s,!0),values:n._stacks[t.axis]._visualValues};return D0(a,o,r.index,{mode:i})}updateRangeFromParsed(t,n,i,s){const r=i[n.axis];let o=r===null?NaN:r;const a=s&&i._stacks[n.axis];s&&a&&(s.values=a,o=D0(s,r,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,n){const i=this._cachedMeta,s=i._parsed,r=i._sorted&&t===i.iScale,o=s.length,a=this._getOtherScale(t),l=fR(n,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=cR(a);let f,p;function m(){p=s[f];const g=p[a.axis];return!Ue(p[t.axis])||u>g||d<g}for(f=0;f<o&&!(!m()&&(this.updateRangeFromParsed(c,t,p,l),r));++f);if(r){for(f=o-1;f>=0;--f)if(!m()){this.updateRangeFromParsed(c,t,p,l);break}}return c}getAllParsedValues(t){const n=this._cachedMeta._parsed,i=[];let s,r,o;for(s=0,r=n.length;s<r;++s)o=n[s][t.axis],Ue(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,i=n.iScale,s=n.vScale,r=this.getParsed(t);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=oR(ee(this.options.clip,rR(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],r=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||s.length-a,c=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(t,r,a,l),u=a;u<a+l;++u){const d=s[u];d.hidden||(d.active&&c?o.push(d):d.draw(t,r))}for(u=0;u<o.length;++u)o[u].draw(t,r)}getStyle(t,n){const i=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,n,i){const s=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];r=o.$context||(o.$context=hR(this.getContext(),t,o)),r.parsed=this.getParsed(t),r.raw=s.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=dR(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=i,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",i){const s=n==="active",r=this._cachedDataOpts,o=t+"-"+n,a=r[o],l=this.enableOptionSharing&&wo(i);if(a)return I0(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,t),d=s?[`${t}Hover`,"hover",t,""]:[t,""],f=c.getOptionScopes(this.getDataset(),u),p=Object.keys(Ae.elements[t]),m=()=>this.getContext(i,s,n),g=c.resolveNamedOptions(f,p,m,d);return g.$shared&&(g.$shared=l,r[o]=Object.freeze(I0(g,l))),g}_resolveAnimations(t,n,i){const s=this.chart,r=this._cachedDataOpts,o=`animation-${n}`,a=r[o];if(a)return a;let l;if(s.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,n),f=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(f,this.getContext(t,i,n))}const c=new cb(s,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||gu(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const i=this.resolveDataElementOptions(t,n),s=this._sharedOptions,r=this.getSharedOptions(i),o=this.includeOptions(n,r)||r!==s;return this.updateSharedOptions(r,n,i),{sharedOptions:r,includeOptions:o}}updateElement(t,n,i,s){gu(s)?Object.assign(t,i):this._resolveAnimations(n,s).update(t,i)}updateSharedOptions(t,n,i){t&&!gu(n)&&this._resolveAnimations(void 0,n).update(t,i)}_setStyle(t,n,i,s){t.active=s;const r=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(t,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(t,n,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,n,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,i=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const s=i.length,r=n.length,o=Math.min(r,s);o&&this.parse(0,o),r>s?this._insertElements(s,r-s,t):r<s&&this._removeElements(r,s-r)}_insertElements(t,n,i=!0){const s=this._cachedMeta,r=s.data,o=t+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(r),a=t;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(t,n),i&&this.updateElements(r,t,n,"reset")}updateElements(t,n,i,s){}_removeElements(t,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,n);i._stacked&&hr(i,s)}i.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,i,s]=t;this[n](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}G(js,"defaults",{}),G(js,"datasetElementType",null),G(js,"dataElementType",null);function pR(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let i=[];for(let s=0,r=n.length;s<r;s++)i=i.concat(n[s].controller.getAllParsedValues(e));e._cache.$bar=Y1(i.sort((s,r)=>s-r))}return e._cache.$bar}function mR(e){const t=e.iScale,n=pR(t,e.type);let i=t._length,s,r,o,a;const l=()=>{o===32767||o===-32768||(wo(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(s=0,r=n.length;s<r;++s)o=t.getPixelForValue(n[s]),l();for(a=void 0,s=0,r=t.ticks.length;s<r;++s)o=t.getPixelForTick(s),l();return i}function gR(e,t,n,i){const s=n.barThickness;let r,o;return oe(s)?(r=t.min*n.categoryPercentage,o=n.barPercentage):(r=s*i,o=1),{chunk:r/i,ratio:o,start:t.pixels[e]-r/2}}function yR(e,t,n,i){const s=t.pixels,r=s[e];let o=e>0?s[e-1]:null,a=e<s.length-1?s[e+1]:null;const l=n.categoryPercentage;o===null&&(o=r-(a===null?t.end-t.start:a-r)),a===null&&(a=r+r-o);const c=r-(r-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:n.barPercentage,start:c}}function xR(e,t,n,i){const s=n.parse(e[0],i),r=n.parse(e[1],i),o=Math.min(s,r),a=Math.max(s,r);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:s,end:r,min:o,max:a}}function db(e,t,n,i){return we(e)?xR(e,t,n,i):t[n.axis]=n.parse(e,i),t}function L0(e,t,n,i){const s=e.iScale,r=e.vScale,o=s.getLabels(),a=s===r,l=[];let c,u,d,f;for(c=n,u=n+i;c<u;++c)f=t[c],d={},d[s.axis]=a||s.parse(o[c],c),l.push(db(f,d,r,c));return l}function yu(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function vR(e,t,n){return e!==0?un(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function wR(e){let t,n,i,s,r;return e.horizontal?(t=e.base>e.x,n="left",i="right"):(t=e.base<e.y,n="bottom",i="top"),t?(s="end",r="start"):(s="start",r="end"),{start:n,end:i,reverse:t,top:s,bottom:r}}function bR(e,t,n,i){let s=t.borderSkipped;const r={};if(!s){e.borderSkipped=r;return}if(s===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=wR(e);s==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===i?s=c:(n._bottom||0)===i?s=u:(r[F0(u,o,a,l)]=!0,s=c)),r[F0(s,o,a,l)]=!0,e.borderSkipped=r}function F0(e,t,n,i){return i?(e=SR(e,t,n),e=O0(e,n,t)):e=O0(e,t,n),e}function SR(e,t,n){return e===t?n:e===n?t:e}function O0(e,t,n){return e==="start"?t:e==="end"?n:e}function _R(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class Wa extends js{parsePrimitiveData(t,n,i,s){return L0(t,n,i,s)}parseArrayData(t,n,i,s){return L0(t,n,i,s)}parseObjectData(t,n,i,s){const{iScale:r,vScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=r.axis==="x"?a:l,u=o.axis==="x"?a:l,d=[];let f,p,m,g;for(f=i,p=i+s;f<p;++f)g=n[f],m={},m[r.axis]=r.parse(zs(g,c),f),d.push(db(zs(g,u),m,o,f));return d}updateRangeFromParsed(t,n,i,s){super.updateRangeFromParsed(t,n,i,s);const r=i._custom;r&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:i,vScale:s}=n,r=this.getParsed(t),o=r._custom,a=yu(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(r[s.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,i,s){const r=s==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:d,includeOptions:f}=this._getSharedOptions(n,s);for(let p=n;p<n+i;p++){const m=this.getParsed(p),g=r||oe(m[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),b=this._calculateBarIndexPixels(p,u),y=(m._stacks||{})[a.axis],w={horizontal:c,base:g.base,enableBorderRadius:!y||yu(m._custom)||o===y._top||o===y._bottom,x:c?g.head:b.center,y:c?b.center:g.head,height:c?b.size:Math.abs(g.size),width:c?Math.abs(g.size):b.size};f&&(w.options=d||this.resolveDataElementOptions(p,t[p].active?"active":s));const S=w.options||t[p].options;bR(w,S,y,o),_R(w,S,u.ratio),this.updateElement(t[p],p,w,s)}}_getStacks(t,n){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),r=i.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[i.axis],c=u=>{const d=u._parsed.find(p=>p[i.axis]===l),f=d&&d[u.vScale.axis];if(oe(f)||isNaN(f))return!0};for(const u of s)if(!(n!==void 0&&c(u))&&((r===!1||o.indexOf(u.stack)===-1||r===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===n).shift()}_getAxis(){const t={},n=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[ee(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,n)]=!0;return Object.keys(t)}_getStackIndex(t,n,i){const s=this._getStacks(t,i),r=n!==void 0?s.indexOf(n):-1;return r===-1?s.length-1:r}_getRuler(){const t=this.options,n=this._cachedMeta,i=n.iScale,s=[];let r,o;for(r=0,o=n.data.length;r<o;++r)s.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const a=t.barThickness;return{min:a||mR(n),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:i,index:s},options:{base:r,minBarLength:o}}=this,a=r||0,l=this.getParsed(t),c=l._custom,u=yu(c);let d=l[n.axis],f=0,p=i?this.applyStack(n,l,i):d,m,g;p!==d&&(f=p-d,p=d),u&&(d=c.barStart,p=c.barEnd-c.barStart,d!==0&&un(d)!==un(c.barEnd)&&(f=0),f+=d);const b=!oe(r)&&!u?r:f;let y=n.getPixelForValue(b);if(this.chart.getDataVisibility(t)?m=n.getPixelForValue(f+p):m=y,g=m-y,Math.abs(g)<o){g=vR(g,n,a)*o,d===a&&(y-=g/2);const w=n.getPixelForDecimal(0),S=n.getPixelForDecimal(1),E=Math.min(w,S),k=Math.max(w,S);y=Math.max(Math.min(y,k),E),m=y+g,i&&!u&&(l._stacks[n.axis]._visualValues[s]=n.getValueForPixel(m)-n.getValueForPixel(y))}if(y===n.getPixelForValue(a)){const w=un(g)*n.getLineWidthForValue(a)/2;y+=w,g-=w}return{size:g,base:y,head:m,center:m+g/2}}_calculateBarIndexPixels(t,n){const i=n.scale,s=this.options,r=s.skipNull,o=ee(s.maxBarThickness,1/0);let a,l;const c=this._getAxisCount();if(n.grouped){const u=r?this._getStackCount(t):n.stackCount,d=s.barThickness==="flex"?yR(t,n,s,u*c):gR(t,n,s,u*c),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,p=this._getAxis().indexOf(ee(f,this.getFirstScaleIdForIndexAxis())),m=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0)+p;a=d.start+d.chunk*m+d.chunk/2,l=Math.min(o,d.chunk*d.ratio)}else a=i.getPixelForValue(this.getParsed(t)[i.axis],t),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const t=this._cachedMeta,n=t.vScale,i=t.data,s=i.length;let r=0;for(;r<s;++r)this.getParsed(r)[n.axis]!==null&&!i[r].hidden&&i[r].draw(this._ctx)}}G(Wa,"id","bar"),G(Wa,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),G(Wa,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class $a extends js{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:i,data:s=[],_dataset:r}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=qD(n,s,o);this._drawStart=a,this._drawCount=l,XD(n)&&(a=0,l=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!r._decimated,i.points=s;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:c},t),this.updateElements(s,a,l,t)}updateElements(t,n,i,s){const r=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(n,s),f=o.axis,p=a.axis,{spanGaps:m,segment:g}=this.options,b=bo(m)?m:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||r||s==="none",w=n+i,S=t.length;let E=n>0&&this.getParsed(n-1);for(let k=0;k<S;++k){const N=t[k],j=y?N:{};if(k<n||k>=w){j.skip=!0;continue}const P=this.getParsed(k),R=oe(P[p]),F=j[f]=o.getPixelForValue(P[f],k),D=j[p]=r||R?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,P,l):P[p],k);j.skip=isNaN(F)||isNaN(D)||R,j.stop=k>0&&Math.abs(P[f]-E[f])>b,g&&(j.parsed=P,j.raw=c.data[k]),d&&(j.options=u||this.resolveDataElementOptions(k,N.active?"active":s)),y||this.updateElement(N,k,j,s),E=P}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,i=n.options&&n.options.borderWidth||0,s=t.data||[];if(!s.length)return i;const r=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,r,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}G($a,"id","line"),G($a,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),G($a,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function _i(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class pp{constructor(t){G(this,"options");this.options=t||{}}static override(t){Object.assign(pp.prototype,t)}init(){}formats(){return _i()}parse(){return _i()}format(){return _i()}add(){return _i()}diff(){return _i()}startOf(){return _i()}endOf(){return _i()}}var CR={_date:pp};function ER(e,t,n,i){const{controller:s,data:r,_sorted:o}=e,a=s._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(a&&t===a.axis&&t!=="r"&&o&&r.length){const c=a._reversePixels?WD:Li;if(i){if(s._sharedOptions){const u=r[0],d=typeof u.getRange=="function"&&u.getRange(t);if(d){const f=c(r,t,n-d),p=c(r,t,n+d);return{lo:f.lo,hi:p.hi}}}}else{const u=c(r,t,n);if(l){const{vScale:d}=s._cachedMeta,{_parsed:f}=e,p=f.slice(0,u.lo+1).reverse().findIndex(g=>!oe(g[d.axis]));u.lo-=Math.max(0,p);const m=f.slice(u.hi).findIndex(g=>!oe(g[d.axis]));u.hi+=Math.max(0,m)}return u}}return{lo:0,hi:r.length-1}}function Fo(e,t,n,i,s){const r=e.getSortedVisibleDatasetMetas(),o=n[t];for(let a=0,l=r.length;a<l;++a){const{index:c,data:u}=r[a],{lo:d,hi:f}=ER(r[a],t,o,s);for(let p=d;p<=f;++p){const m=u[p];m.skip||i(m,c,p)}}}function TR(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(i,s){const r=t?Math.abs(i.x-s.x):0,o=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function xu(e,t,n,i,s){const r=[];return!s&&!e.isPointInArea(t)||Fo(e,n,t,function(a,l,c){!s&&!Sn(a,e.chartArea,0)||a.inRange(t.x,t.y,i)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function kR(e,t,n,i){let s=[];function r(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],i),{angle:d}=VD(o,{x:t.x,y:t.y});K1(d,c,u)&&s.push({element:o,datasetIndex:a,index:l})}return Fo(e,n,t,r),s}function PR(e,t,n,i,s,r){let o=[];const a=TR(n);let l=Number.POSITIVE_INFINITY;function c(u,d,f){const p=u.inRange(t.x,t.y,s);if(i&&!p)return;const m=u.getCenterPoint(s);if(!(!!r||e.isPointInArea(m))&&!p)return;const b=a(t,m);b<l?(o=[{element:u,datasetIndex:d,index:f}],l=b):b===l&&o.push({element:u,datasetIndex:d,index:f})}return Fo(e,n,t,c),o}function vu(e,t,n,i,s,r){return!r&&!e.isPointInArea(t)?[]:n==="r"&&!i?kR(e,t,n,s):PR(e,t,n,i,s,r)}function U0(e,t,n,i,s){const r=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Fo(e,n,t,(l,c,u)=>{l[o]&&l[o](t[n],s)&&(r.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(t.x,t.y,s))}),i&&!a?[]:r}var AR={evaluateInteractionItems:Fo,modes:{index(e,t,n,i){const s=Ai(t,e),r=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?xu(e,s,r,i,o):vu(e,s,r,!1,i,o),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(e,t,n,i){const s=Ai(t,e),r=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?xu(e,s,r,i,o):vu(e,s,r,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,c=e.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(e,t,n,i){const s=Ai(t,e),r=n.axis||"xy",o=n.includeInvisible||!1;return xu(e,s,r,i,o)},nearest(e,t,n,i){const s=Ai(t,e),r=n.axis||"xy",o=n.includeInvisible||!1;return vu(e,s,r,n.intersect,i,o)},x(e,t,n,i){const s=Ai(t,e);return U0(e,s,"x",n.intersect,i)},y(e,t,n,i){const s=Ai(t,e);return U0(e,s,"y",n.intersect,i)}}};const hb=["left","top","right","bottom"];function fr(e,t){return e.filter(n=>n.pos===t)}function B0(e,t){return e.filter(n=>hb.indexOf(n.pos)===-1&&n.box.axis===t)}function pr(e,t){return e.sort((n,i)=>{const s=t?i:n,r=t?n:i;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function NR(e){const t=[];let n,i,s,r,o,a;for(n=0,i=(e||[]).length;n<i;++n)s=e[n],{position:r,options:{stack:o,stackWeight:a=1}}=s,t.push({index:n,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&r+o,stackWeight:a});return t}function jR(e){const t={};for(const n of e){const{stack:i,pos:s,stackWeight:r}=n;if(!i||!hb.includes(s))continue;const o=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return t}function DR(e,t){const n=jR(e),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t;let r,o,a;for(r=0,o=e.length;r<o;++r){a=e[r];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*i:l&&t.availableWidth,a.height=s):(a.width=i,a.height=u?u*s:l&&t.availableHeight)}return n}function MR(e){const t=NR(e),n=pr(t.filter(c=>c.box.fullSize),!0),i=pr(fr(t,"left"),!0),s=pr(fr(t,"right")),r=pr(fr(t,"top"),!0),o=pr(fr(t,"bottom")),a=B0(t,"x"),l=B0(t,"y");return{fullSize:n,leftAndTop:i.concat(r),rightAndBottom:s.concat(l).concat(o).concat(a),chartArea:fr(t,"chartArea"),vertical:i.concat(s).concat(l),horizontal:r.concat(o).concat(a)}}function V0(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function fb(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function RR(e,t,n,i){const{pos:s,box:r}=n,o=e.maxPadding;if(!ae(s)){n.size&&(e[s]-=n.size);const d=i[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?r.height:r.width),n.size=d.size/d.count,e[s]+=n.size}r.getPadding&&fb(o,r.getPadding());const a=Math.max(0,t.outerWidth-V0(o,e,"left","right")),l=Math.max(0,t.outerHeight-V0(o,e,"top","bottom")),c=a!==e.w,u=l!==e.h;return e.w=a,e.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function IR(e){const t=e.maxPadding;function n(i){const s=Math.max(t[i]-e[i],0);return e[i]+=s,s}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function LR(e,t){const n=t.maxPadding;function i(s){const r={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{r[o]=Math.max(t[o],n[o])}),r}return i(e?["left","right"]:["top","bottom"])}function Er(e,t,n,i){const s=[];let r,o,a,l,c,u;for(r=0,o=e.length,c=0;r<o;++r){a=e[r],l=a.box,l.update(a.width||t.w,a.height||t.h,LR(a.horizontal,t));const{same:d,other:f}=RR(t,n,a,i);c|=d&&s.length,u=u||f,l.fullSize||s.push(a)}return c&&Er(s,t,n,i)||u}function xa(e,t,n,i,s){e.top=n,e.left=t,e.right=t+i,e.bottom=n+s,e.width=i,e.height=s}function z0(e,t,n,i){const s=n.padding;let{x:r,y:o}=t;for(const a of e){const l=a.box,c=i[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const d=t.w*u,f=c.size||l.height;wo(c.start)&&(o=c.start),l.fullSize?xa(l,s.left,o,n.outerWidth-s.right-s.left,f):xa(l,t.left+c.placed,o,d,f),c.start=o,c.placed+=d,o=l.bottom}else{const d=t.h*u,f=c.size||l.width;wo(c.start)&&(r=c.start),l.fullSize?xa(l,r,s.top,f,n.outerHeight-s.bottom-s.top):xa(l,r,t.top+c.placed,f,d),c.start=r,c.placed+=d,r=l.right}}t.x=r,t.y=o}var It={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const s=et(e.options.layout.padding),r=Math.max(t-s.width,0),o=Math.max(n-s.height,0),a=MR(e.boxes),l=a.vertical,c=a.horizontal;ce(e.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const u=l.reduce((g,b)=>b.box.options&&b.box.options.display===!1?g:g+1,0)||1,d=Object.freeze({outerWidth:t,outerHeight:n,padding:s,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},s);fb(f,et(i));const p=Object.assign({maxPadding:f,w:r,h:o,x:s.left,y:s.top},s),m=DR(l.concat(c),d);Er(a.fullSize,p,d,m),Er(l,p,d,m),Er(c,p,d,m)&&Er(l,p,d,m),IR(p),z0(a.leftAndTop,p,d,m),p.x+=p.w,p.y+=p.h,z0(a.rightAndBottom,p,d,m),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},ce(a.chartArea,g=>{const b=g.box;Object.assign(b,e.chartArea),b.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class pb{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,i){}removeEventListener(t,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,i,s){return n=Math.max(0,n||t.width),i=i||t.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(t){return!0}updateConfig(t){}}class FR extends pb{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Ka="$chartjs",OR={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},H0=e=>e===null||e==="";function UR(e,t){const n=e.style,i=e.getAttribute("height"),s=e.getAttribute("width");if(e[Ka]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",H0(s)){const r=T0(e,"width");r!==void 0&&(e.width=r)}if(H0(i))if(e.style.height==="")e.height=e.width/(t||2);else{const r=T0(e,"height");r!==void 0&&(e.height=r)}return e}const mb=UM?{passive:!0}:!1;function BR(e,t,n){e&&e.addEventListener(t,n,mb)}function VR(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,mb)}function zR(e,t){const n=OR[e.type]||e.type,{x:i,y:s}=Ai(e,t);return{type:n,chart:t,native:e,x:i!==void 0?i:null,y:s!==void 0?s:null}}function Rl(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function HR(e,t,n){const i=e.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Rl(a.addedNodes,i),o=o&&!Rl(a.removedNodes,i);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function WR(e,t,n){const i=e.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Rl(a.removedNodes,i),o=o&&!Rl(a.addedNodes,i);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const _o=new Map;let W0=0;function gb(){const e=window.devicePixelRatio;e!==W0&&(W0=e,_o.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function $R(e,t){_o.size||window.addEventListener("resize",gb),_o.set(e,t)}function KR(e){_o.delete(e),_o.size||window.removeEventListener("resize",gb)}function GR(e,t,n){const i=e.canvas,s=i&&fp(i);if(!s)return;const r=X1((a,l)=>{const c=s.clientWidth;n(a,l),c<s.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||r(c,u)});return o.observe(s),$R(e,r),o}function wu(e,t,n){n&&n.disconnect(),t==="resize"&&KR(e)}function YR(e,t,n){const i=e.canvas,s=X1(r=>{e.ctx!==null&&n(zR(r,e))},e);return BR(i,t,s),s}class qR extends pb{acquireContext(t,n){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(UR(t,n),i):null}releaseContext(t){const n=t.canvas;if(!n[Ka])return!1;const i=n[Ka].initial;["height","width"].forEach(r=>{const o=i[r];oe(o)?n.removeAttribute(r):n.setAttribute(r,o)});const s=i.style||{};return Object.keys(s).forEach(r=>{n.style[r]=s[r]}),n.width=n.width,delete n[Ka],!0}addEventListener(t,n,i){this.removeEventListener(t,n);const s=t.$proxies||(t.$proxies={}),o={attach:HR,detach:WR,resize:GR}[n]||YR;s[n]=o(t,n,i)}removeEventListener(t,n){const i=t.$proxies||(t.$proxies={}),s=i[n];if(!s)return;({attach:wu,detach:wu,resize:wu}[n]||VR)(t,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,i,s){return OM(t,n,i,s)}isAttached(t){const n=t&&fp(t);return!!(n&&n.isConnected)}}function XR(e){return!hp()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?FR:qR}var Ea;let yi=(Ea=class{constructor(){G(this,"x");G(this,"y");G(this,"active",!1);G(this,"options");G(this,"$animations")}tooltipPosition(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}hasValue(){return bo(this.x)&&bo(this.y)}getProps(t,n){const i=this.$animations;if(!n||!i)return this;const s={};return t.forEach(r=>{s[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),s}},G(Ea,"defaults",{}),G(Ea,"defaultRoutes"),Ea);function JR(e,t){const n=e.options.ticks,i=QR(e),s=Math.min(n.maxTicksLimit||i,i),r=n.major.enabled?eI(t):[],o=r.length,a=r[0],l=r[o-1],c=[];if(o>s)return tI(t,c,r,o/s),c;const u=ZR(r,t,s);if(o>0){let d,f;const p=o>1?Math.round((l-a)/(o-1)):null;for(va(t,c,u,oe(p)?0:a-p,a),d=0,f=o-1;d<f;d++)va(t,c,u,r[d],r[d+1]);return va(t,c,u,l,oe(p)?t.length:l+p),c}return va(t,c,u),c}function QR(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),s=e._maxLength/n;return Math.floor(Math.min(i,s))}function ZR(e,t,n){const i=nI(e),s=t.length/n;if(!i)return Math.max(s,1);const r=OD(i);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>s)return l}return Math.max(s,1)}function eI(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}function tI(e,t,n,i){let s=0,r=n[0],o;for(i=Math.ceil(i),o=0;o<e.length;o++)o===r&&(t.push(e[o]),s++,r=n[s*i])}function va(e,t,n,i,s){const r=ee(i,0),o=Math.min(ee(s,e.length),e.length);let a=0,l,c,u;for(n=Math.ceil(n),s&&(l=s-i,n=l/Math.floor(l/n)),u=r;u<0;)a++,u=Math.round(r+a*n);for(c=Math.max(r,0);c<o;c++)c===u&&(t.push(e[c]),a++,u=Math.round(r+a*n))}function nI(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}const iI=e=>e==="left"?"right":e==="right"?"left":e,$0=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,K0=(e,t)=>Math.min(t||e,e);function G0(e,t){const n=[],i=e.length/t,s=e.length;let r=0;for(;r<s;r+=i)n.push(e[Math.floor(r)]);return n}function sI(e,t,n){const i=e.ticks.length,s=Math.min(t,i-1),r=e._startPixel,o=e._endPixel,a=1e-6;let l=e.getPixelForTick(s),c;if(!(n&&(i===1?c=Math.max(l-r,o-l):t===0?c=(e.getPixelForTick(1)-l)/2:c=(l-e.getPixelForTick(s-1))/2,l+=s<t?c:-c,l<r-a||l>o+a)))return l}function rI(e,t){ce(e,n=>{const i=n.gc,s=i.length/2;let r;if(s>t){for(r=0;r<s;++r)delete n.data[i[r]];i.splice(0,s)}})}function mr(e){return e.drawTicks?e.tickLength:0}function Y0(e,t){if(!e.display)return 0;const n=Le(e.font,t),i=et(e.padding);return(we(e.text)?e.text.length:1)*n.lineHeight+i.height}function oI(e,t){return gi(e,{scale:t,type:"scale"})}function aI(e,t,n){return gi(e,{tick:n,index:t,type:"tick"})}function lI(e,t,n){let i=sp(e);return(n&&t!=="right"||!n&&t==="right")&&(i=iI(i)),i}function cI(e,t,n,i){const{top:s,left:r,bottom:o,right:a,chart:l}=e,{chartArea:c,scales:u}=l;let d=0,f,p,m;const g=o-s,b=a-r;if(e.isHorizontal()){if(p=qe(i,r,a),ae(n)){const y=Object.keys(n)[0],w=n[y];m=u[y].getPixelForValue(w)+g-t}else n==="center"?m=(c.bottom+c.top)/2+g-t:m=$0(e,n,t);f=a-r}else{if(ae(n)){const y=Object.keys(n)[0],w=n[y];p=u[y].getPixelForValue(w)-b+t}else n==="center"?p=(c.left+c.right)/2-b+t:p=$0(e,n,t);m=qe(i,o,s),d=n==="left"?-yt:yt}return{titleX:p,titleY:m,maxWidth:f,rotation:d}}class Zi extends yi{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return t=ft(t,Number.POSITIVE_INFINITY),n=ft(n,Number.NEGATIVE_INFINITY),i=ft(i,Number.POSITIVE_INFINITY),s=ft(s,Number.NEGATIVE_INFINITY),{min:ft(t,i),max:ft(n,s),minDefined:Ue(t),maxDefined:Ue(n)}}getMinMax(t){let{min:n,max:i,minDefined:s,maxDefined:r}=this.getUserBounds(),o;if(s&&r)return{min:n,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,t),s||(n=Math.min(n,o.min)),r||(i=Math.max(i,o.max));return n=r&&n>i?i:n,i=s&&n>i?n:i,{min:ft(n,ft(i,n)),max:ft(i,ft(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){pe(this.options.beforeUpdate,[this])}update(t,n,i){const{beginAtZero:s,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=gM(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?G0(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=JR(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,t=!t),this._startPixel=n,this._endPixel=i,this._reversePixels=t,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){pe(this.options.afterUpdate,[this])}beforeSetDimensions(){pe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){pe(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),pe(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){pe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let i,s,r;for(i=0,s=t.length;i<s;i++)r=t[i],r.label=pe(n.callback,[r.value,i,t],this)}afterTickToLabelConversion(){pe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){pe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,i=K0(this.ticks.length,t.ticks.maxTicksLimit),s=n.minRotation||0,r=n.maxRotation;let o=s,a,l,c;if(!this._isVisible()||!n.display||s>=r||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const u=this._getLabelSizes(),d=u.widest.width,f=u.highest.height,p=xt(this.chart.width-d,0,this.maxWidth);a=t.offset?this.maxWidth/i:p/(i-1),d+6>a&&(a=p/(i-(t.offset?.5:1)),l=this.maxHeight-mr(t.grid)-n.padding-Y0(t.title,this.chart.options.font),c=Math.sqrt(d*d+f*f),o=np(Math.min(Math.asin(xt((u.highest.height+6)/a,-1,1)),Math.asin(xt(l/c,-1,1))-Math.asin(xt(f/c,-1,1)))),o=Math.max(s,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){pe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){pe(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Y0(s,n.options.font);if(a?(t.width=this.maxWidth,t.height=mr(r)+l):(t.height=this.maxHeight,t.width=mr(r)+l),i.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:f}=this._getLabelSizes(),p=i.padding*2,m=Kn(this.labelRotation),g=Math.cos(m),b=Math.sin(m);if(a){const y=i.mirror?0:b*d.width+g*f.height;t.height=Math.min(this.maxHeight,t.height+y+p)}else{const y=i.mirror?0:g*d.width+b*f.height;t.width=Math.min(this.maxWidth,t.width+y+p)}this._calculatePadding(c,u,b,g)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,i,s){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,p=0;l?c?(f=s*t.width,p=i*n.height):(f=i*t.height,p=s*n.width):r==="start"?p=n.width:r==="end"?f=t.width:r!=="inner"&&(f=t.width/2,p=n.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((p-d+o)*this.width/(this.width-d),0)}else{let u=n.height/2,d=t.height/2;r==="start"?(u=0,d=t.height):r==="end"&&(u=n.height,d=0),this.paddingTop=u+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){pe(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,i;for(n=0,i=t.length;n<i;n++)oe(t[n].label)&&(t.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=G0(i,n)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,i){const{ctx:s,_longestTextCache:r}=this,o=[],a=[],l=Math.floor(n/K0(n,i));let c=0,u=0,d,f,p,m,g,b,y,w,S,E,k;for(d=0;d<n;d+=l){if(m=t[d].label,g=this._resolveTickFontOptions(d),s.font=b=g.string,y=r[b]=r[b]||{data:{},gc:[]},w=g.lineHeight,S=E=0,!oe(m)&&!we(m))S=Dl(s,y.data,y.gc,S,m),E=w;else if(we(m))for(f=0,p=m.length;f<p;++f)k=m[f],!oe(k)&&!we(k)&&(S=Dl(s,y.data,y.gc,S,k),E+=w);o.push(S),a.push(E),c=Math.max(S,c),u=Math.max(E,u)}rI(r,n);const N=o.indexOf(c),j=a.indexOf(u),P=R=>({width:o[R]||0,height:a[R]||0});return{first:P(0),last:P(n-1),widest:P(N),highest:P(j),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return HD(this._alignToPixels?Si(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const i=n[t];return i.$context||(i.$context=aI(this.getContext(),t,i))}return this.$context||(this.$context=oI(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=Kn(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),r=this._getLabelSizes(),o=t.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*i>a*s?a/i:l/s:l*s<a*i?l/i:a/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,i=this.chart,s=this.options,{grid:r,position:o,border:a}=s,l=r.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),f=mr(r),p=[],m=a.setContext(this.getContext()),g=m.display?m.width:0,b=g/2,y=function(ne){return Si(i,ne,g)};let w,S,E,k,N,j,P,R,F,D,B,V;if(o==="top")w=y(this.bottom),j=this.bottom-f,R=w-b,D=y(t.top)+b,V=t.bottom;else if(o==="bottom")w=y(this.top),D=t.top,V=y(t.bottom)-b,j=w+b,R=this.top+f;else if(o==="left")w=y(this.right),N=this.right-f,P=w-b,F=y(t.left)+b,B=t.right;else if(o==="right")w=y(this.left),F=t.left,B=y(t.right)-b,N=w+b,P=this.left+f;else if(n==="x"){if(o==="center")w=y((t.top+t.bottom)/2+.5);else if(ae(o)){const ne=Object.keys(o)[0],Q=o[ne];w=y(this.chart.scales[ne].getPixelForValue(Q))}D=t.top,V=t.bottom,j=w+b,R=j+f}else if(n==="y"){if(o==="center")w=y((t.left+t.right)/2);else if(ae(o)){const ne=Object.keys(o)[0],Q=o[ne];w=y(this.chart.scales[ne].getPixelForValue(Q))}N=w-b,P=N-f,F=t.left,B=t.right}const Z=ee(s.ticks.maxTicksLimit,d),X=Math.max(1,Math.ceil(d/Z));for(S=0;S<d;S+=X){const ne=this.getContext(S),Q=r.setContext(ne),U=a.setContext(ne),$=Q.lineWidth,W=Q.color,K=U.dash||[],M=U.dashOffset,J=Q.tickWidth,le=Q.tickColor,Ct=Q.tickBorderDash||[],Fe=Q.tickBorderDashOffset;E=sI(this,S,l),E!==void 0&&(k=Si(i,E,$),c?N=P=F=B=k:j=R=D=V=k,p.push({tx1:N,ty1:j,tx2:P,ty2:R,x1:F,y1:D,x2:B,y2:V,width:$,color:W,borderDash:K,borderDashOffset:M,tickWidth:J,tickColor:le,tickBorderDash:Ct,tickBorderDashOffset:Fe}))}return this._ticksLength=d,this._borderValue=w,p}_computeLabelItems(t){const n=this.axis,i=this.options,{position:s,ticks:r}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=r,f=mr(i.grid),p=f+u,m=d?-u:p,g=-Kn(this.labelRotation),b=[];let y,w,S,E,k,N,j,P,R,F,D,B,V="middle";if(s==="top")N=this.bottom-m,j=this._getXAxisLabelAlignment();else if(s==="bottom")N=this.top+m,j=this._getXAxisLabelAlignment();else if(s==="left"){const X=this._getYAxisLabelAlignment(f);j=X.textAlign,k=X.x}else if(s==="right"){const X=this._getYAxisLabelAlignment(f);j=X.textAlign,k=X.x}else if(n==="x"){if(s==="center")N=(t.top+t.bottom)/2+p;else if(ae(s)){const X=Object.keys(s)[0],ne=s[X];N=this.chart.scales[X].getPixelForValue(ne)+p}j=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")k=(t.left+t.right)/2-p;else if(ae(s)){const X=Object.keys(s)[0],ne=s[X];k=this.chart.scales[X].getPixelForValue(ne)}j=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?V="top":l==="end"&&(V="bottom"));const Z=this._getLabelSizes();for(y=0,w=a.length;y<w;++y){S=a[y],E=S.label;const X=r.setContext(this.getContext(y));P=this.getPixelForTick(y)+r.labelOffset,R=this._resolveTickFontOptions(y),F=R.lineHeight,D=we(E)?E.length:1;const ne=D/2,Q=X.color,U=X.textStrokeColor,$=X.textStrokeWidth;let W=j;o?(k=P,j==="inner"&&(y===w-1?W=this.options.reverse?"left":"right":y===0?W=this.options.reverse?"right":"left":W="center"),s==="top"?c==="near"||g!==0?B=-D*F+F/2:c==="center"?B=-Z.highest.height/2-ne*F+F:B=-Z.highest.height+F/2:c==="near"||g!==0?B=F/2:c==="center"?B=Z.highest.height/2-ne*F:B=Z.highest.height-D*F,d&&(B*=-1),g!==0&&!X.showLabelBackdrop&&(k+=F/2*Math.sin(g))):(N=P,B=(1-D)*F/2);let K;if(X.showLabelBackdrop){const M=et(X.backdropPadding),J=Z.heights[y],le=Z.widths[y];let Ct=B-M.top,Fe=0-M.left;switch(V){case"middle":Ct-=J/2;break;case"bottom":Ct-=J;break}switch(j){case"center":Fe-=le/2;break;case"right":Fe-=le;break;case"inner":y===w-1?Fe-=le:y>0&&(Fe-=le/2);break}K={left:Fe,top:Ct,width:le+M.width,height:J+M.height,color:X.backdropColor}}b.push({label:E,font:R,textOffset:B,options:{rotation:g,color:Q,strokeColor:U,strokeWidth:$,textAlign:W,textBaseline:V,translation:[k,N],backdrop:K}})}return b}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-Kn(this.labelRotation))return t==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:i,mirror:s,padding:r}}=this.options,o=this._getLabelSizes(),a=t+r,l=o.widest.width;let c,u;return n==="left"?s?(u=this.right+r,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?s?(u=this.left+r,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:i,top:s,width:r,height:o}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(i,s,r,o),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(r=>r.value===t);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,o;const a=(l,c,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(r=0,o=s.length;r<o;++r){const l=s[r];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:i,grid:s}}=this,r=i.setContext(this.getContext()),o=i.display?r.width:0;if(!o)return;const a=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,f;this.isHorizontal()?(c=Si(t,this.left,o)-o/2,u=Si(t,this.right,a)+a/2,d=f=l):(d=Si(t,this.top,o)-o/2,f=Si(t,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(c,d),n.lineTo(u,f),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&ap(i,s);const r=this.getLabelItems(t);for(const o of r){const a=o.options,l=o.font,c=o.label,u=o.textOffset;qi(i,c,0,u,l,a)}s&&lp(i)}drawTitle(){const{ctx:t,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const r=Le(i.font),o=et(i.padding),a=i.align;let l=r.lineHeight/2;n==="bottom"||n==="center"||ae(n)?(l+=o.bottom,we(i.text)&&(l+=r.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:d,rotation:f}=cI(this,l,n,a);qi(t,i.text,0,0,r,{color:i.color,maxWidth:d,rotation:f,textAlign:lI(a,n,s),textBaseline:"middle",translation:[c,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,i=ee(t.grid&&t.grid.z,-1),s=ee(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Zi.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let r,o;for(r=0,o=n.length;r<o;++r){const a=n[r];a[i]===this.id&&(!t||a.type===t)&&s.push(a)}return s}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return Le(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class wa{constructor(t,n,i){this.type=t,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let i;hI(n)&&(i=this.register(n));const s=this.items,r=t.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in s||(s[r]=t,uI(t,o,i),this.override&&Ae.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const n=this.items,i=t.id,s=this.scope;i in n&&delete n[i],s&&i in Ae[s]&&(delete Ae[s][i],this.override&&delete Yi[i])}}function uI(e,t,n){const i=vo(Object.create(null),[n?Ae.get(n):{},Ae.get(t),e.defaults]);Ae.set(t,i),e.defaultRoutes&&dI(t,e.defaultRoutes),e.descriptors&&Ae.describe(t,e.descriptors)}function dI(e,t){Object.keys(t).forEach(n=>{const i=n.split("."),s=i.pop(),r=[e].concat(i).join("."),o=t[n].split("."),a=o.pop(),l=o.join(".");Ae.route(r,s,l,a)})}function hI(e){return"id"in e&&"defaults"in e}class fI{constructor(){this.controllers=new wa(js,"datasets",!0),this.elements=new wa(yi,"elements"),this.plugins=new wa(Object,"plugins"),this.scales=new wa(Zi,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,i){[...n].forEach(s=>{const r=i||this._getRegistryForType(s);i||r.isForType(s)||r===this.plugins&&s.id?this._exec(t,r,s):ce(s,o=>{const a=i||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,n,i){const s=tp(t);pe(i["before"+s],[],i),n[t](i),pe(i["after"+s],[],i)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(t))return i}return this.plugins}_get(t,n,i){const s=n.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return s}}var en=new fI;class pI{constructor(){this._init=[]}notify(t,n,i,s){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=s?this._descriptors(t).filter(s):this._descriptors(t),o=this._notify(r,t,n,i);return n==="afterDestroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,n,i,s){s=s||{};for(const r of t){const o=r.plugin,a=o[i],l=[n,s,r.options];if(pe(a,l,o)===!1&&s.cancelable)return!1}return!0}invalidate(){oe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const i=t&&t.config,s=ee(i.options&&i.options.plugins,{}),r=mI(i);return s===!1&&!n?[]:yI(t,r,s,n)}_notifyStateChanges(t){const n=this._oldCache||[],i=this._cache,s=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(s(n,i),t,"stop"),this._notify(s(i,n),t,"start")}}function mI(e){const t={},n=[],i=Object.keys(en.plugins.items);for(let r=0;r<i.length;r++)n.push(en.getPlugin(i[r]));const s=e.plugins||[];for(let r=0;r<s.length;r++){const o=s[r];n.indexOf(o)===-1&&(n.push(o),t[o.id]=!0)}return{plugins:n,localIds:t}}function gI(e,t){return!t&&e===!1?null:e===!0?{}:e}function yI(e,{plugins:t,localIds:n},i,s){const r=[],o=e.getContext();for(const a of t){const l=a.id,c=gI(i[l],s);c!==null&&r.push({plugin:a,options:xI(e.config,{plugin:a,local:n[l]},c,o)})}return r}function xI(e,{plugin:t,local:n},i,s){const r=e.pluginScopeKeys(t),o=e.getOptionScopes(i,r);return n&&t.defaults&&o.push(t.defaults),e.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function eh(e,t){const n=Ae.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function vI(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function wI(e,t){return e===t?"_index_":"_value_"}function q0(e){if(e==="x"||e==="y"||e==="r")return e}function bI(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function th(e,...t){if(q0(e))return e;for(const n of t){const i=n.axis||bI(n.position)||e.length>1&&q0(e[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function X0(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function SI(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(i=>i.xAxisID===e||i.yAxisID===e);if(n.length)return X0(e,"x",n[0])||X0(e,"y",n[0])}return{}}function _I(e,t){const n=Yi[e.type]||{scales:{}},i=t.scales||{},s=eh(e.type,t),r=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!ae(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=th(o,a,SI(o,e),Ae.scales[a.type]),c=wI(l,s),u=n.scales||{};r[o]=Br(Object.create(null),[{axis:l},a,u[l],u[c]])}),e.data.datasets.forEach(o=>{const a=o.type||e.type,l=o.indexAxis||eh(a,t),u=(Yi[a]||{}).scales||{};Object.keys(u).forEach(d=>{const f=vI(d,l),p=o[f+"AxisID"]||f;r[p]=r[p]||Object.create(null),Br(r[p],[{axis:f},i[p],u[d]])})}),Object.keys(r).forEach(o=>{const a=r[o];Br(a,[Ae.scales[a.type],Ae.scale])}),r}function yb(e){const t=e.options||(e.options={});t.plugins=ee(t.plugins,{}),t.scales=_I(e,t)}function xb(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function CI(e){return e=e||{},e.data=xb(e.data),yb(e),e}const J0=new Map,vb=new Set;function ba(e,t){let n=J0.get(e);return n||(n=t(),J0.set(e,n),vb.add(n)),n}const gr=(e,t,n)=>{const i=zs(t,n);i!==void 0&&e.add(i)};class EI{constructor(t){this._config=CI(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=xb(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),yb(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return ba(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return ba(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return ba(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,i=this.type;return ba(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const i=this._scopeCache;let s=i.get(t);return(!s||n)&&(s=new Map,i.set(t,s)),s}getOptionScopes(t,n,i){const{options:s,type:r}=this,o=this._cachedScopes(t,i),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{t&&(l.add(t),u.forEach(d=>gr(l,t,d))),u.forEach(d=>gr(l,s,d)),u.forEach(d=>gr(l,Yi[r]||{},d)),u.forEach(d=>gr(l,Ae,d)),u.forEach(d=>gr(l,Qd,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),vb.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:t,type:n}=this;return[t,Yi[n]||{},Ae.datasets[n]||{},{type:n},Ae,Qd]}resolveNamedOptions(t,n,i,s=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=Q0(this._resolverCache,t,s);let l=o;if(kI(o,n)){r.$shared=!1,i=ui(i)?i():i;const c=this.createResolver(t,i,a);l=Hs(o,i,c)}for(const c of n)r[c]=l[c];return r}createResolver(t,n,i=[""],s){const{resolver:r}=Q0(this._resolverCache,t,i);return ae(n)?Hs(r,n,void 0,s):r}}function Q0(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const s=n.join();let r=i.get(s);return r||(r={resolver:cp(t,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(s,r)),r}const TI=e=>ae(e)&&Object.getOwnPropertyNames(e).some(t=>ui(e[t]));function kI(e,t){const{isScriptable:n,isIndexable:i}=tb(e);for(const s of t){const r=n(s),o=i(s),a=(o||r)&&e[s];if(r&&(ui(a)||TI(a))||o&&we(a))return!0}return!1}var PI="4.5.0";const AI=["top","bottom","left","right","chartArea"];function Z0(e,t){return e==="top"||e==="bottom"||AI.indexOf(e)===-1&&t==="x"}function ey(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function ty(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),pe(n&&n.onComplete,[e],t)}function NI(e){const t=e.chart,n=t.options.animation;pe(n&&n.onProgress,[e],t)}function wb(e){return hp()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Ga={},ny=e=>{const t=wb(e);return Object.values(Ga).filter(n=>n.canvas===t).pop()};function jI(e,t,n){const i=Object.keys(e);for(const s of i){const r=+s;if(r>=t){const o=e[s];delete e[s],(n>0||r>t)&&(e[r+n]=o)}}}function DI(e,t,n,i){return!n||e.type==="mouseout"?null:i?t:e}var In;let vc=(In=class{static register(...t){en.add(...t),iy()}static unregister(...t){en.remove(...t),iy()}constructor(t,n){const i=this.config=new EI(n),s=wb(t),r=ny(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||XR(s)),this.platform.updateConfig(i);const a=this.platform.acquireContext(s,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=AD(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new pI,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=GD(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],Ga[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}pn.listen(this,"complete",ty),pn.listen(this,"progress",NI),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:i,height:s,_aspectRatio:r}=this;return oe(t)?n&&r?r:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return en}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():E0(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return S0(this.canvas,this.ctx),this}stop(){return pn.stop(this),this}resize(t,n){pn.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const i=this.options,s=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,t,n,r),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,E0(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),pe(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};ce(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const t=this.options,n=t.scales,i=this.scales,s=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let r=[];n&&(r=r.concat(Object.keys(n).map(o=>{const a=n[o],l=th(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),ce(r,o=>{const a=o.options,l=a.id,c=th(l,a),u=ee(a.type,o.dtype);(a.position===void 0||Z0(a.position,c)!==Z0(o.dposition))&&(a.position=o.dposition),s[l]=!0;let d=null;if(l in i&&i[l].type===u)d=i[l];else{const f=en.getScale(u);d=new f({id:l,type:u,ctx:this.ctx,chart:this}),i[d.id]=d}d.init(a,t)}),ce(s,(o,a)=>{o||delete i[a]}),ce(i,o=>{It.configure(this,o,o.options),It.addBox(this,o)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,i=t.length;if(t.sort((s,r)=>s.index-r.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);t.splice(n,i-n)}this._sortedMetasets=t.slice(0).sort(ey("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((i,s)=>{n.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const r=n[i];let o=this.getDatasetMeta(i);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=r.indexAxis||eh(a,this.options),o.order=r.order||0,o.index=i,o.label=""+r.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=en.getController(a),{datasetElementType:c,dataElementType:u}=Ae.datasets[a];Object.assign(l,{dataElementType:en.getElement(u),datasetElementType:c&&en.getElement(c)}),o.controller=new l(this,i),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){ce(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),f=!s&&r.indexOf(d)===-1;d.buildOrUpdateElements(f),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),s||ce(r,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(ey("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){ce(this.scales,t=>{It.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!f0(n,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:r}of n){const o=i==="_removeElements"?-r:r;jI(t,s,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=r=>new Set(t.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),s=i(0);for(let r=1;r<n;r++)if(!f0(s,i(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;It.update(this,this.width,this.height,t);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],ce(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,ui(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(pn.has(this)?this.attached&&!pn.running(this)&&pn.start(this):(this.draw(),ty({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,i=[];let s,r;for(s=0,r=n.length;s<r;++s){const o=n[s];(!t||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,i={meta:t,index:t.index,cancelable:!0},s=ZM(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&ap(n,s),t.controller.draw(),s&&lp(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return Sn(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,i,s){const r=AR.modes[n];return typeof r=="function"?r(this,t,i,s):[]}getDatasetMeta(t){const n=this.data.datasets[t],i=this._metasets;let s=i.filter(r=>r&&r._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=gi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(t,n){const i=this.getDatasetMeta(t);i.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,i){const s=i?"show":"hide",r=this.getDatasetMeta(t),o=r.controller._resolveAnimations(void 0,s);wo(n)?(r.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),o.update(r,{visible:i}),this.update(a=>a.datasetIndex===t?s:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),pn.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),S0(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Ga[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,i=(r,o)=>{n.addEventListener(this,r,o),t[r]=o},s=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};ce(this.options.events,r=>i(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,i=(l,c)=>{n.addEventListener(this,l,c),t[l]=c},s=(l,c)=>{t[l]&&(n.removeEventListener(this,l,c),delete t[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),i("resize",r),i("detach",o)};o=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),i("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){ce(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},ce(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,i){const s=i?"set":"remove";let r,o,a,l;for(n==="dataset"&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],i=t.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!Al(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(t,n,i){return this._plugins.notify(this,t,n,i)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,i){const s=this.options.hover,r=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),o=r(n,t),a=i?t:r(t,n);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(t,n){const i={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},s=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const r=this._handleEvent(t,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(r||i.changed)&&this.render(),this}_handleEvent(t,n,i){const{_active:s=[],options:r}=this,o=n,a=this._getActiveElements(t,s,i,o),l=ID(t),c=DI(t,this._lastEvent,i,l);i&&(this._lastEvent=null,pe(r.onHover,[t,a,this],this),l&&pe(r.onClick,[t,a,this],this));const u=!Al(a,s);return(u||n)&&(this._active=a,this._updateHoverStyles(a,s,n)),this._lastEvent=c,u}_getActiveElements(t,n,i,s){if(t.type==="mouseout")return[];if(!i)return n;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,s)}},G(In,"defaults",Ae),G(In,"instances",Ga),G(In,"overrides",Yi),G(In,"registry",en),G(In,"version",PI),G(In,"getChart",ny),In);function iy(){return ce(vc.instances,e=>e._plugins.invalidate())}function bb(e,t,n=t){e.lineCap=ee(n.borderCapStyle,t.borderCapStyle),e.setLineDash(ee(n.borderDash,t.borderDash)),e.lineDashOffset=ee(n.borderDashOffset,t.borderDashOffset),e.lineJoin=ee(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=ee(n.borderWidth,t.borderWidth),e.strokeStyle=ee(n.borderColor,t.borderColor)}function MI(e,t,n){e.lineTo(n.x,n.y)}function RI(e){return e.stepped?aM:e.tension||e.cubicInterpolationMode==="monotone"?lM:MI}function Sb(e,t,n={}){const i=e.length,{start:s=0,end:r=i-1}=n,{start:o,end:a}=t,l=Math.max(s,o),c=Math.min(r,a),u=s<o&&r<o||s>a&&r>a;return{count:i,start:l,loop:t.loop,ilen:c<l&&!u?i+c-l:c-l}}function II(e,t,n,i){const{points:s,options:r}=t,{count:o,start:a,loop:l,ilen:c}=Sb(s,n,i),u=RI(r);let{move:d=!0,reverse:f}=i||{},p,m,g;for(p=0;p<=c;++p)m=s[(a+(f?c-p:p))%o],!m.skip&&(d?(e.moveTo(m.x,m.y),d=!1):u(e,g,m,f,r.stepped),g=m);return l&&(m=s[(a+(f?c:0))%o],u(e,g,m,f,r.stepped)),!!l}function LI(e,t,n,i){const s=t.points,{count:r,start:o,ilen:a}=Sb(s,n,i),{move:l=!0,reverse:c}=i||{};let u=0,d=0,f,p,m,g,b,y;const w=E=>(o+(c?a-E:E))%r,S=()=>{g!==b&&(e.lineTo(u,b),e.lineTo(u,g),e.lineTo(u,y))};for(l&&(p=s[w(0)],e.moveTo(p.x,p.y)),f=0;f<=a;++f){if(p=s[w(f)],p.skip)continue;const E=p.x,k=p.y,N=E|0;N===m?(k<g?g=k:k>b&&(b=k),u=(d*u+E)/++d):(S(),e.lineTo(E,k),m=N,d=0,g=b=k),y=k}S()}function nh(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?LI:II}function FI(e){return e.stepped?BM:e.tension||e.cubicInterpolationMode==="monotone"?VM:Ni}function OI(e,t,n,i){let s=t._path;s||(s=t._path=new Path2D,t.path(s,n,i)&&s.closePath()),bb(e,t.options),e.stroke(s)}function UI(e,t,n,i){const{segments:s,options:r}=t,o=nh(t);for(const a of s)bb(e,r,a.style),e.beginPath(),o(e,t,a,{start:n,end:n+i-1})&&e.closePath(),e.stroke()}const BI=typeof Path2D=="function";function VI(e,t,n,i){BI&&!t.options.segment?OI(e,t,n,i):UI(e,t,n,i)}class Tr extends yi{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;DM(this._points,i,t,s,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=qM(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,i=t.length;return i&&n[t[i-1].end]}interpolate(t,n){const i=this.options,s=t[n],r=this.points,o=KM(this,{property:n,start:s,end:s});if(!o.length)return;const a=[],l=FI(i);let c,u;for(c=0,u=o.length;c<u;++c){const{start:d,end:f}=o[c],p=r[d],m=r[f];if(p===m){a.push(p);continue}const g=Math.abs((s-p[n])/(m[n]-p[n])),b=l(p,m,g,i.stepped);b[n]=t[n],a.push(b)}return a.length===1?a[0]:a}pathSegment(t,n,i){return nh(this)(t,this,n,i)}path(t,n,i){const s=this.segments,r=nh(this);let o=this._loop;n=n||0,i=i||this.points.length-n;for(const a of s)o&=r(t,this,a,{start:n,end:n+i-1});return!!o}draw(t,n,i,s){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),VI(t,this,i,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}G(Tr,"id","line"),G(Tr,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),G(Tr,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),G(Tr,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function sy(e,t,n,i){const s=e.options,{[n]:r}=e.getProps([n],i);return Math.abs(t-r)<s.radius+s.hitRadius}class Ya extends yi{constructor(n){super();G(this,"parsed");G(this,"skip");G(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,s){const r=this.options,{x:o,y:a}=this.getProps(["x","y"],s);return Math.pow(n-o,2)+Math.pow(i-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(n,i){return sy(this,n,"x",i)}inYRange(n,i){return sy(this,n,"y",i)}getCenterPoint(n){const{x:i,y:s}=this.getProps(["x","y"],n);return{x:i,y:s}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const s=i&&n.borderWidth||0;return(i+s)*2}draw(n,i){const s=this.options;this.skip||s.radius<.1||!Sn(this,i,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,Zd(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}G(Ya,"id","point"),G(Ya,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),G(Ya,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function _b(e,t){const{x:n,y:i,base:s,width:r,height:o}=e.getProps(["x","y","base","width","height"],t);let a,l,c,u,d;return e.horizontal?(d=o/2,a=Math.min(n,s),l=Math.max(n,s),c=i-d,u=i+d):(d=r/2,a=n-d,l=n+d,c=Math.min(i,s),u=Math.max(i,s)),{left:a,top:c,right:l,bottom:u}}function Gn(e,t,n,i){return e?0:xt(t,n,i)}function zI(e,t,n){const i=e.options.borderWidth,s=e.borderSkipped,r=eb(i);return{t:Gn(s.top,r.top,0,n),r:Gn(s.right,r.right,0,t),b:Gn(s.bottom,r.bottom,0,n),l:Gn(s.left,r.left,0,t)}}function HI(e,t,n){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,r=Vi(s),o=Math.min(t,n),a=e.borderSkipped,l=i||ae(s);return{topLeft:Gn(!l||a.top||a.left,r.topLeft,0,o),topRight:Gn(!l||a.top||a.right,r.topRight,0,o),bottomLeft:Gn(!l||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:Gn(!l||a.bottom||a.right,r.bottomRight,0,o)}}function WI(e){const t=_b(e),n=t.right-t.left,i=t.bottom-t.top,s=zI(e,n/2,i/2),r=HI(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i,radius:r},inner:{x:t.left+s.l,y:t.top+s.t,w:n-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}function bu(e,t,n,i){const s=t===null,r=n===null,a=e&&!(s&&r)&&_b(e,i);return a&&(s||Ii(t,a.left,a.right))&&(r||Ii(n,a.top,a.bottom))}function $I(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function KI(e,t){e.rect(t.x,t.y,t.w,t.h)}function Su(e,t,n={}){const i=e.x!==n.x?-t:0,s=e.y!==n.y?-t:0,r=(e.x+e.w!==n.x+n.w?t:0)-i,o=(e.y+e.h!==n.y+n.h?t:0)-s;return{x:e.x+i,y:e.y+s,w:e.w+r,h:e.h+o,radius:e.radius}}class qa extends yi{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:i,backgroundColor:s}}=this,{inner:r,outer:o}=WI(this),a=$I(o.radius)?So:KI;t.save(),(o.w!==r.w||o.h!==r.h)&&(t.beginPath(),a(t,Su(o,n,r)),t.clip(),a(t,Su(r,-n,o)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),a(t,Su(r,n)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,n,i){return bu(this,t,n,i)}inXRange(t,n){return bu(this,t,null,n)}inYRange(t,n){return bu(this,null,t,n)}getCenterPoint(t){const{x:n,y:i,base:s,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(n+s)/2:n,y:r?i:(i+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}G(qa,"id","bar"),G(qa,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),G(qa,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const ry=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}},GI=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class oy extends yi{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,i){this.maxWidth=t,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=pe(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(i=>t.filter(i,this.chart.data))),t.sort&&(n=n.sort((i,s)=>t.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,s=Le(i.font),r=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=ry(i,r);let c,u;n.font=s.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,r,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,s,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,n,i,s){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=s+a;let d=t;r.textAlign="left",r.textBaseline="middle";let f=-1,p=-u;return this.legendItems.forEach((m,g)=>{const b=i+n/2+r.measureText(m.text).width;(g===0||c[c.length-1]+b+2*a>o)&&(d+=u,c[c.length-(g>0?0:1)]=0,p+=u,f++),l[g]={left:0,top:p,row:f,width:b,height:s},c[c.length-1]+=b+a}),d}_fitCols(t,n,i,s){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-t;let d=a,f=0,p=0,m=0,g=0;return this.legendItems.forEach((b,y)=>{const{itemWidth:w,itemHeight:S}=YI(i,n,r,b,s);y>0&&p+S+2*a>u&&(d+=f+a,c.push({width:f,height:p}),m+=f+a,g++,f=p=0),l[y]={left:m,top:p,col:g,width:w,height:S},f=Math.max(f,w),p+=S+a}),d+=f,c.push({width:f,height:p}),d}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:r}}=this,o=Ns(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=qe(i,this.left+s,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=qe(i,this.left+s,this.right-this.lineWidths[a])),c.top+=this.top+t+s,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+s}else{let a=0,l=qe(i,this.top+t+s,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=qe(i,this.top+t+s,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+s,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;ap(t,this),this._draw(),lp(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:i,ctx:s}=this,{align:r,labels:o}=t,a=Ae.color,l=Ns(t.rtl,this.left,this.width),c=Le(o.font),{padding:u}=o,d=c.size,f=d/2;let p;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;const{boxWidth:m,boxHeight:g,itemHeight:b}=ry(o,d),y=function(N,j,P){if(isNaN(m)||m<=0||isNaN(g)||g<0)return;s.save();const R=ee(P.lineWidth,1);if(s.fillStyle=ee(P.fillStyle,a),s.lineCap=ee(P.lineCap,"butt"),s.lineDashOffset=ee(P.lineDashOffset,0),s.lineJoin=ee(P.lineJoin,"miter"),s.lineWidth=R,s.strokeStyle=ee(P.strokeStyle,a),s.setLineDash(ee(P.lineDash,[])),o.usePointStyle){const F={radius:g*Math.SQRT2/2,pointStyle:P.pointStyle,rotation:P.rotation,borderWidth:R},D=l.xPlus(N,m/2),B=j+f;Q1(s,F,D,B,o.pointStyleWidth&&m)}else{const F=j+Math.max((d-g)/2,0),D=l.leftForLtr(N,m),B=Vi(P.borderRadius);s.beginPath(),Object.values(B).some(V=>V!==0)?So(s,{x:D,y:F,w:m,h:g,radius:B}):s.rect(D,F,m,g),s.fill(),R!==0&&s.stroke()}s.restore()},w=function(N,j,P){qi(s,P.text,N,j+b/2,c,{strikethrough:P.hidden,textAlign:l.textAlign(P.textAlign)})},S=this.isHorizontal(),E=this._computeTitleHeight();S?p={x:qe(r,this.left+u,this.right-i[0]),y:this.top+u+E,line:0}:p={x:this.left+u,y:qe(r,this.top+E+u,this.bottom-n[0].height),line:0},ob(this.ctx,t.textDirection);const k=b+u;this.legendItems.forEach((N,j)=>{s.strokeStyle=N.fontColor,s.fillStyle=N.fontColor;const P=s.measureText(N.text).width,R=l.textAlign(N.textAlign||(N.textAlign=o.textAlign)),F=m+f+P;let D=p.x,B=p.y;l.setWidth(this.width),S?j>0&&D+F+u>this.right&&(B=p.y+=k,p.line++,D=p.x=qe(r,this.left+u,this.right-i[p.line])):j>0&&B+k>this.bottom&&(D=p.x=D+n[p.line].width+u,p.line++,B=p.y=qe(r,this.top+E+u,this.bottom-n[p.line].height));const V=l.x(D);if(y(V,B,N),D=YD(R,D+m+f,S?D+F:this.right,t.rtl),w(l.x(D),B,N),S)p.x+=F+u;else if(typeof N.text!="string"){const Z=c.lineHeight;p.y+=Cb(N,Z)+u}else p.y+=k}),ab(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,i=Le(n.font),s=et(n.padding);if(!n.display)return;const r=Ns(t.rtl,this.left,this.width),o=this.ctx,a=n.position,l=i.size/2,c=s.top+l;let u,d=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,d=qe(t.align,d,this.right-f);else{const m=this.columnSizes.reduce((g,b)=>Math.max(g,b.height),0);u=c+qe(t.align,this.top,this.bottom-m-t.labels.padding-this._computeTitleHeight())}const p=qe(a,d,d+f);o.textAlign=r.textAlign(sp(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,qi(o,n.text,p,u,i)}_computeTitleHeight(){const t=this.options.title,n=Le(t.font),i=et(t.padding);return t.display?n.lineHeight+i.height:0}_getLegendItemAt(t,n){let i,s,r;if(Ii(t,this.left,this.right)&&Ii(n,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(s=r[i],Ii(t,s.left,s.left+s.width)&&Ii(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(t){const n=this.options;if(!JI(t.type,n))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,r=GI(s,i);s&&!r&&pe(n.onLeave,[t,s,this],this),this._hoveredItem=i,i&&!r&&pe(n.onHover,[t,i,this],this)}else i&&pe(n.onClick,[t,i,this],this)}}function YI(e,t,n,i,s){const r=qI(i,e,t,n),o=XI(s,i,t.lineHeight);return{itemWidth:r,itemHeight:o}}function qI(e,t,n,i){let s=e.text;return s&&typeof s!="string"&&(s=s.reduce((r,o)=>r.length>o.length?r:o)),t+n.size/2+i.measureText(s).width}function XI(e,t,n){let i=e;return typeof t.text!="string"&&(i=Cb(t,n)),i}function Cb(e,t){const n=e.text?e.text.length:0;return t*n}function JI(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var QI={id:"legend",_element:oy,start(e,t,n){const i=e.legend=new oy({ctx:e.ctx,options:n,chart:e});It.configure(e,i,n),It.addBox(e,i)},stop(e){It.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;It.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:r,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=et(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:s||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Eb extends yi{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const s=we(i.text)?i.text.length:1;this._padding=et(i.padding);const r=s*Le(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:i,bottom:s,right:r,options:o}=this,a=o.align;let l=0,c,u,d;return this.isHorizontal()?(u=qe(a,i,r),d=n+t,c=r-i):(o.position==="left"?(u=i+t,d=qe(a,s,n),l=Me*-.5):(u=r-t,d=qe(a,n,s),l=Me*.5),c=s-n),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const i=Le(n.font),r=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);qi(t,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:c,textAlign:sp(n.align),textBaseline:"middle",translation:[o,a]})}}function ZI(e,t){const n=new Eb({ctx:e.ctx,options:t,chart:e});It.configure(e,n,t),It.addBox(e,n),e.titleBlock=n}var eL={id:"title",_element:Eb,start(e,t,n){ZI(e,n)},stop(e){const t=e.titleBlock;It.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const i=e.titleBlock;It.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const kr={average(e){if(!e.length)return!1;let t,n,i=new Set,s=0,r=0;for(t=0,n=e.length;t<n;++t){const a=e[t].element;if(a&&a.hasValue()){const l=a.tooltipPosition();i.add(l.x),s+=l.y,++r}}return r===0||i.size===0?!1:{x:[...i].reduce((a,l)=>a+l)/i.size,y:s/r}},nearest(e,t){if(!e.length)return!1;let n=t.x,i=t.y,s=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=e.length;r<o;++r){const l=e[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=Jd(t,c);u<s&&(s=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function Qt(e,t){return t&&(we(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function mn(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function tL(e,t){const{element:n,datasetIndex:i,index:s}=t,r=e.getDatasetMeta(i).controller,{label:o,value:a}=r.getLabelAndValue(s);return{chart:e,label:o,parsed:r.getParsed(s),raw:e.data.datasets[i].data[s],formattedValue:a,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function ay(e,t){const n=e.chart.ctx,{body:i,footer:s,title:r}=e,{boxWidth:o,boxHeight:a}=t,l=Le(t.bodyFont),c=Le(t.titleFont),u=Le(t.footerFont),d=r.length,f=s.length,p=i.length,m=et(t.padding);let g=m.height,b=0,y=i.reduce((E,k)=>E+k.before.length+k.lines.length+k.after.length,0);if(y+=e.beforeBody.length+e.afterBody.length,d&&(g+=d*c.lineHeight+(d-1)*t.titleSpacing+t.titleMarginBottom),y){const E=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=p*E+(y-p)*l.lineHeight+(y-1)*t.bodySpacing}f&&(g+=t.footerMarginTop+f*u.lineHeight+(f-1)*t.footerSpacing);let w=0;const S=function(E){b=Math.max(b,n.measureText(E).width+w)};return n.save(),n.font=c.string,ce(e.title,S),n.font=l.string,ce(e.beforeBody.concat(e.afterBody),S),w=t.displayColors?o+2+t.boxPadding:0,ce(i,E=>{ce(E.before,S),ce(E.lines,S),ce(E.after,S)}),w=0,n.font=u.string,ce(e.footer,S),n.restore(),b+=m.width,{width:b,height:g}}function nL(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}function iL(e,t,n,i){const{x:s,width:r}=i,o=n.caretSize+n.caretPadding;if(e==="left"&&s+r+o>t.width||e==="right"&&s-r-o<0)return!0}function sL(e,t,n,i){const{x:s,width:r}=n,{width:o,chartArea:{left:a,right:l}}=e;let c="center";return i==="center"?c=s<=(a+l)/2?"left":"right":s<=r/2?c="left":s>=o-r/2&&(c="right"),iL(c,e,t,n)&&(c="center"),c}function ly(e,t,n){const i=n.yAlign||t.yAlign||nL(e,n);return{xAlign:n.xAlign||t.xAlign||sL(e,t,n,i),yAlign:i}}function rL(e,t){let{x:n,width:i}=e;return t==="right"?n-=i:t==="center"&&(n-=i/2),n}function oL(e,t,n){let{y:i,height:s}=e;return t==="top"?i+=n:t==="bottom"?i-=s+n:i-=s/2,i}function cy(e,t,n,i){const{caretSize:s,caretPadding:r,cornerRadius:o}=e,{xAlign:a,yAlign:l}=n,c=s+r,{topLeft:u,topRight:d,bottomLeft:f,bottomRight:p}=Vi(o);let m=rL(t,a);const g=oL(t,l,c);return l==="center"?a==="left"?m+=c:a==="right"&&(m-=c):a==="left"?m-=Math.max(u,f)+s:a==="right"&&(m+=Math.max(d,p)+s),{x:xt(m,0,i.width-t.width),y:xt(g,0,i.height-t.height)}}function Sa(e,t,n){const i=et(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-i.right:e.x+i.left}function uy(e){return Qt([],mn(e))}function aL(e,t,n){return gi(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function dy(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const Tb={beforeTitle:fn,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:fn,beforeBody:fn,beforeLabel:fn,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return oe(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:fn,afterBody:fn,beforeFooter:fn,footer:fn,afterFooter:fn};function ot(e,t,n,i){const s=e[t].call(n,i);return typeof s>"u"?Tb[t].call(n,i):s}class ih extends yi{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,r=new cb(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=aL(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:i}=n,s=ot(i,"beforeTitle",this,t),r=ot(i,"title",this,t),o=ot(i,"afterTitle",this,t);let a=[];return a=Qt(a,mn(s)),a=Qt(a,mn(r)),a=Qt(a,mn(o)),a}getBeforeBody(t,n){return uy(ot(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:i}=n,s=[];return ce(t,r=>{const o={before:[],lines:[],after:[]},a=dy(i,r);Qt(o.before,mn(ot(a,"beforeLabel",this,r))),Qt(o.lines,ot(a,"label",this,r)),Qt(o.after,mn(ot(a,"afterLabel",this,r))),s.push(o)}),s}getAfterBody(t,n){return uy(ot(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:i}=n,s=ot(i,"beforeFooter",this,t),r=ot(i,"footer",this,t),o=ot(i,"afterFooter",this,t);let a=[];return a=Qt(a,mn(s)),a=Qt(a,mn(r)),a=Qt(a,mn(o)),a}_createItems(t){const n=this._active,i=this.chart.data,s=[],r=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(tL(this.chart,n[l]));return t.filter&&(a=a.filter((u,d,f)=>t.filter(u,d,f,i))),t.itemSort&&(a=a.sort((u,d)=>t.itemSort(u,d,i))),ce(a,u=>{const d=dy(t.callbacks,u);s.push(ot(d,"labelColor",this,u)),r.push(ot(d,"labelPointStyle",this,u)),o.push(ot(d,"labelTextColor",this,u))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(t,n){const i=this.options.setContext(this.getContext()),s=this._active;let r,o=[];if(!s.length)this.opacity!==0&&(r={opacity:0});else{const a=kr[i.position].call(this,s,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=ay(this,i),c=Object.assign({},a,l),u=ly(this.chart,i,c),d=cy(i,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,r={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,i,s){const r=this.getCaretPosition(t,i,s);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(t,n,i){const{xAlign:s,yAlign:r}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=Vi(a),{x:f,y:p}=t,{width:m,height:g}=n;let b,y,w,S,E,k;return r==="center"?(E=p+g/2,s==="left"?(b=f,y=b-o,S=E+o,k=E-o):(b=f+m,y=b+o,S=E-o,k=E+o),w=b):(s==="left"?y=f+Math.max(l,u)+o:s==="right"?y=f+m-Math.max(c,d)-o:y=this.caretX,r==="top"?(S=p,E=S-o,b=y-o,w=y+o):(S=p+g,E=S+o,b=y+o,w=y-o),k=S),{x1:b,x2:y,x3:w,y1:S,y2:E,y3:k}}drawTitle(t,n,i){const s=this.title,r=s.length;let o,a,l;if(r){const c=Ns(i.rtl,this.x,this.width);for(t.x=Sa(this,i.titleAlign,i),n.textAlign=c.textAlign(i.titleAlign),n.textBaseline="middle",o=Le(i.titleFont),a=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,l=0;l<r;++l)n.fillText(s[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,l+1===r&&(t.y+=i.titleMarginBottom-a)}}_drawColorBox(t,n,i,s,r){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:c}=r,u=Le(r.bodyFont),d=Sa(this,"left",r),f=s.x(d),p=l<u.lineHeight?(u.lineHeight-l)/2:0,m=n.y+p;if(r.usePointStyle){const g={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},b=s.leftForLtr(f,c)+c/2,y=m+l/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,Zd(t,g,b,y),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,Zd(t,g,b,y)}else{t.lineWidth=ae(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const g=s.leftForLtr(f,c),b=s.leftForLtr(s.xPlus(f,1),c-2),y=Vi(o.borderRadius);Object.values(y).some(w=>w!==0)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,So(t,{x:g,y:m,w:c,h:l,radius:y}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),So(t,{x:b,y:m+1,w:c-2,h:l-2,radius:y}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(g,m,c,l),t.strokeRect(g,m,c,l),t.fillStyle=o.backgroundColor,t.fillRect(b,m+1,c-2,l-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,n,i){const{body:s}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=i,d=Le(i.bodyFont);let f=d.lineHeight,p=0;const m=Ns(i.rtl,this.x,this.width),g=function(P){n.fillText(P,m.x(t.x+p),t.y+f/2),t.y+=f+r},b=m.textAlign(o);let y,w,S,E,k,N,j;for(n.textAlign=o,n.textBaseline="middle",n.font=d.string,t.x=Sa(this,b,i),n.fillStyle=i.bodyColor,ce(this.beforeBody,g),p=a&&b!=="right"?o==="center"?c/2+u:c+2+u:0,E=0,N=s.length;E<N;++E){for(y=s[E],w=this.labelTextColors[E],n.fillStyle=w,ce(y.before,g),S=y.lines,a&&S.length&&(this._drawColorBox(n,t,E,m,i),f=Math.max(d.lineHeight,l)),k=0,j=S.length;k<j;++k)g(S[k]),f=d.lineHeight;ce(y.after,g)}p=0,f=d.lineHeight,ce(this.afterBody,g),t.y-=r}drawFooter(t,n,i){const s=this.footer,r=s.length;let o,a;if(r){const l=Ns(i.rtl,this.x,this.width);for(t.x=Sa(this,i.footerAlign,i),t.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",o=Le(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,a=0;a<r;++a)n.fillText(s[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+i.footerSpacing}}drawBackground(t,n,i,s){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=t,{width:c,height:u}=i,{topLeft:d,topRight:f,bottomLeft:p,bottomRight:m}=Vi(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(a+d,l),o==="top"&&this.drawCaret(t,n,i,s),n.lineTo(a+c-f,l),n.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&r==="right"&&this.drawCaret(t,n,i,s),n.lineTo(a+c,l+u-m),n.quadraticCurveTo(a+c,l+u,a+c-m,l+u),o==="bottom"&&this.drawCaret(t,n,i,s),n.lineTo(a+p,l+u),n.quadraticCurveTo(a,l+u,a,l+u-p),o==="center"&&r==="left"&&this.drawCaret(t,n,i,s),n.lineTo(a,l+d),n.quadraticCurveTo(a,l,a+d,l),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,i=this.$animations,s=i&&i.x,r=i&&i.y;if(s||r){const o=kr[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=ay(this,t),l=Object.assign({},o,this._size),c=ly(n,t,l),u=cy(t,l,c,n);(s._to!==u.x||r._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=et(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(t.save(),t.globalAlpha=i,this.drawBackground(r,t,s,n),ob(t,n.textDirection),r.y+=o.top,this.drawTitle(r,t,n),this.drawBody(r,t,n),this.drawFooter(r,t,n),ab(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const i=this._active,s=t.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),r=!Al(i,s),o=this._positionChanged(s,n);(r||o)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,r=this._active||[],o=this._getActiveElements(t,r,n,i),a=this._positionChanged(o,t),l=n||!Al(o,r)||a;return l&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),l}_getActiveElements(t,n,i,s){const r=this.options;if(t.type==="mouseout")return[];if(!s)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,r.mode,r,i);return r.reverse&&o.reverse(),o}_positionChanged(t,n){const{caretX:i,caretY:s,options:r}=this,o=kr[r.position].call(this,t,n);return o!==!1&&(i!==o.x||s!==o.y)}}G(ih,"positioners",kr);var lL={id:"tooltip",_element:ih,positioners:kr,afterInit(e,t,n){n&&(e.tooltip=new ih({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Tb},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const cL=(e,t,n,i)=>(typeof t=="string"?(n=e.push(t)-1,i.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function uL(e,t,n,i){const s=e.indexOf(t);if(s===-1)return cL(e,t,n,i);const r=e.lastIndexOf(t);return s!==r?n:s}const dL=(e,t)=>e===null?null:xt(Math.round(e),0,t);function hy(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class sh extends Zi{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:r}of n)i[s]===r&&i.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(oe(t))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===t?n:uL(i,t,ee(n,t),this._addedLabels),dL(n,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,n=this.max,i=this.options.offset,s=[];let r=this.getLabels();r=t===0&&n===r.length-1?r:r.slice(t,n+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=t;o<=n;o++)s.push({value:o});return s}getLabelForValue(t){return hy.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}G(sh,"id","category"),G(sh,"defaults",{ticks:{callback:hy}});function hL(e,t){const n=[],{bounds:s,step:r,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:f}=e,p=r||1,m=u-1,{min:g,max:b}=t,y=!oe(o),w=!oe(a),S=!oe(c),E=(b-g)/(d+1);let k=m0((b-g)/m/p)*p,N,j,P,R;if(k<1e-14&&!y&&!w)return[{value:g},{value:b}];R=Math.ceil(b/k)-Math.floor(g/k),R>m&&(k=m0(R*k/m/p)*p),oe(l)||(N=Math.pow(10,l),k=Math.ceil(k*N)/N),s==="ticks"?(j=Math.floor(g/k)*k,P=Math.ceil(b/k)*k):(j=g,P=b),y&&w&&r&&BD((a-o)/r,k/1e3)?(R=Math.round(Math.min((a-o)/k,u)),k=(a-o)/R,j=o,P=a):S?(j=y?o:j,P=w?a:P,R=c-1,k=(P-j)/R):(R=(P-j)/k,Vr(R,Math.round(R),k/1e3)?R=Math.round(R):R=Math.ceil(R));const F=Math.max(g0(k),g0(j));N=Math.pow(10,oe(l)?F:l),j=Math.round(j*N)/N,P=Math.round(P*N)/N;let D=0;for(y&&(f&&j!==o?(n.push({value:o}),j<o&&D++,Vr(Math.round((j+D*k)*N)/N,o,fy(o,E,e))&&D++):j<o&&D++);D<R;++D){const B=Math.round((j+D*k)*N)/N;if(w&&B>a)break;n.push({value:B})}return w&&f&&P!==a?n.length&&Vr(n[n.length-1].value,a,fy(a,E,e))?n[n.length-1].value=a:n.push({value:a}):(!w||P===a)&&n.push({value:P}),n}function fy(e,t,{horizontal:n,minRotation:i}){const s=Kn(i),r=(n?Math.sin(s):Math.cos(s))||.001,o=.75*t*(""+e).length;return Math.min(t/r,o)}class Il extends Zi{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return oe(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:r}=this;const o=l=>s=n?s:l,a=l=>r=i?r:l;if(t){const l=un(s),c=un(r);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(s===r){let l=r===0?1:Math.abs(r*.05);a(r+l),t||o(s-l)}this.min=s,this.max=r}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=t,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,o=hL(s,r);return t.bounds==="ticks"&&$1(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-n)/Math.max(t.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(t){return op(t,this.chart.options.locale,this.options.ticks.format)}}class rh extends Il{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Ue(t)?t:0,this.max=Ue(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,i=Kn(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}G(rh,"id","linear"),G(rh,"defaults",{ticks:{callback:yc.formatters.numeric}});const Co=e=>Math.floor($n(e)),Ci=(e,t)=>Math.pow(10,Co(e)+t);function py(e){return e/Math.pow(10,Co(e))===1}function my(e,t,n){const i=Math.pow(10,n),s=Math.floor(e/i);return Math.ceil(t/i)-s}function fL(e,t){const n=t-e;let i=Co(n);for(;my(e,t,i)>10;)i++;for(;my(e,t,i)<10;)i--;return Math.min(i,Co(e))}function pL(e,{min:t,max:n}){t=ft(e.min,t);const i=[],s=Co(t);let r=fL(t,n),o=r<0?Math.pow(10,Math.abs(r)):1;const a=Math.pow(10,r),l=s>r?Math.pow(10,s):0,c=Math.round((t-l)*o)/o,u=Math.floor((t-l)/a/10)*a*10;let d=Math.floor((c-u)/Math.pow(10,r)),f=ft(e.min,Math.round((l+u+d*Math.pow(10,r))*o)/o);for(;f<n;)i.push({value:f,major:py(f),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(r++,d=2,o=r>=0?1:o),f=Math.round((l+u+d*Math.pow(10,r))*o)/o;const p=ft(e.max,f);return i.push({value:p,major:py(p),significand:d}),i}class gy extends Zi{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,n){const i=Il.prototype.parse.apply(this,[t,n]);if(i===0){this._zero=!0;return}return Ue(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Ue(t)?Math.max(0,t):null,this.max=Ue(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ue(this._userMin)&&(this.min=t===Ci(this.min,0)?Ci(this.min,-1):Ci(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let i=this.min,s=this.max;const r=a=>i=t?i:a,o=a=>s=n?s:a;i===s&&(i<=0?(r(1),o(10)):(r(Ci(i,-1)),o(Ci(s,1)))),i<=0&&r(Ci(s,-1)),s<=0&&o(Ci(i,1)),this.min=i,this.max=s}buildTicks(){const t=this.options,n={min:this._userMin,max:this._userMax},i=pL(n,this);return t.bounds==="ticks"&&$1(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":op(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=$n(t),this._valueRange=$n(this.max)-$n(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:($n(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const n=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+n*this._valueRange)}}G(gy,"id","logarithmic"),G(gy,"defaults",{ticks:{callback:yc.formatters.logarithmic,major:{enabled:!0}}});function oh(e){const t=e.ticks;if(t.display&&e.display){const n=et(t.backdropPadding);return ee(t.font&&t.font.size,Ae.font.size)+n.height}return 0}function mL(e,t,n){return n=we(n)?n:[n],{w:oM(e,t.string,n),h:n.length*t.lineHeight}}function yy(e,t,n,i,s){return e===i||e===s?{start:t-n/2,end:t+n/2}:e<i||e>s?{start:t-n,end:t}:{start:t,end:t+n}}function gL(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),i=[],s=[],r=e._pointLabels.length,o=e.options.pointLabels,a=o.centerPointLabels?Me/r:0;for(let l=0;l<r;l++){const c=o.setContext(e.getPointLabelContext(l));s[l]=c.padding;const u=e.getPointPosition(l,e.drawingArea+s[l],a),d=Le(c.font),f=mL(e.ctx,d,e._pointLabels[l]);i[l]=f;const p=Ht(e.getIndexAngle(l)+a),m=Math.round(np(p)),g=yy(m,u.x,f.w,0,180),b=yy(m,u.y,f.h,90,270);yL(n,t,p,g,b)}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=wL(e,i,s)}function yL(e,t,n,i,s){const r=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;i.start<t.l?(a=(t.l-i.start)/r,e.l=Math.min(e.l,t.l-a)):i.end>t.r&&(a=(i.end-t.r)/r,e.r=Math.max(e.r,t.r+a)),s.start<t.t?(l=(t.t-s.start)/o,e.t=Math.min(e.t,t.t-l)):s.end>t.b&&(l=(s.end-t.b)/o,e.b=Math.max(e.b,t.b+l))}function xL(e,t,n){const i=e.drawingArea,{extra:s,additionalAngle:r,padding:o,size:a}=n,l=e.getPointPosition(t,i+s+o,r),c=Math.round(np(Ht(l.angle+yt))),u=_L(l.y,a.h,c),d=bL(c),f=SL(l.x,a.w,d);return{visible:!0,x:l.x,y:u,textAlign:d,left:f,top:u,right:f+a.w,bottom:u+a.h}}function vL(e,t){if(!t)return!0;const{left:n,top:i,right:s,bottom:r}=e;return!(Sn({x:n,y:i},t)||Sn({x:n,y:r},t)||Sn({x:s,y:i},t)||Sn({x:s,y:r},t))}function wL(e,t,n){const i=[],s=e._pointLabels.length,r=e.options,{centerPointLabels:o,display:a}=r.pointLabels,l={extra:oh(r)/2,additionalAngle:o?Me/s:0};let c;for(let u=0;u<s;u++){l.padding=n[u],l.size=t[u];const d=xL(e,u,l);i.push(d),a==="auto"&&(d.visible=vL(d,c),d.visible&&(c=d))}return i}function bL(e){return e===0||e===180?"center":e<180?"left":"right"}function SL(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function _L(e,t,n){return n===90||n===270?e-=t/2:(n>270||n<90)&&(e-=t),e}function CL(e,t,n){const{left:i,top:s,right:r,bottom:o}=n,{backdropColor:a}=t;if(!oe(a)){const l=Vi(t.borderRadius),c=et(t.backdropPadding);e.fillStyle=a;const u=i-c.left,d=s-c.top,f=r-i+c.width,p=o-s+c.height;Object.values(l).some(m=>m!==0)?(e.beginPath(),So(e,{x:u,y:d,w:f,h:p,radius:l}),e.fill()):e.fillRect(u,d,f,p)}}function EL(e,t){const{ctx:n,options:{pointLabels:i}}=e;for(let s=t-1;s>=0;s--){const r=e._pointLabelItems[s];if(!r.visible)continue;const o=i.setContext(e.getPointLabelContext(s));CL(n,o,r);const a=Le(o.font),{x:l,y:c,textAlign:u}=r;qi(n,e._pointLabels[s],l,c+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function kb(e,t,n,i){const{ctx:s}=e;if(n)s.arc(e.xCenter,e.yCenter,t,0,Ft);else{let r=e.getPointPosition(0,t);s.moveTo(r.x,r.y);for(let o=1;o<i;o++)r=e.getPointPosition(o,t),s.lineTo(r.x,r.y)}}function TL(e,t,n,i,s){const r=e.ctx,o=t.circular,{color:a,lineWidth:l}=t;!o&&!i||!a||!l||n<0||(r.save(),r.strokeStyle=a,r.lineWidth=l,r.setLineDash(s.dash||[]),r.lineDashOffset=s.dashOffset,r.beginPath(),kb(e,n,o,i),r.closePath(),r.stroke(),r.restore())}function kL(e,t,n){return gi(e,{label:n,index:t,type:"pointLabel"})}class _a extends Il{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=et(oh(this.options)/2),n=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+n/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=Ue(t)&&!isNaN(t)?t:0,this.max=Ue(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/oh(this.options))}generateTickLabels(t){Il.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,i)=>{const s=pe(this.options.pointLabels.callback,[n,i],this);return s||s===0?s:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?gL(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,n,i,s){this.xCenter+=Math.floor((t-n)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,n,i,s))}getIndexAngle(t){const n=Ft/(this._pointLabels.length||1),i=this.options.startAngle||0;return Ht(t*n+Kn(i))}getDistanceFromCenterForValue(t){if(oe(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if(oe(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const i=n[t];return kL(this.getContext(),t,i)}}getPointPosition(t,n,i=0){const s=this.getIndexAngle(t)-yt+i;return{x:Math.cos(s)*n+this.xCenter,y:Math.sin(s)*n+this.yCenter,angle:s}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:i,right:s,bottom:r}=this._pointLabelItems[t];return{left:n,top:i,right:s,bottom:r}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),kb(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:i,grid:s,border:r}=n,o=this._pointLabels.length;let a,l,c;if(n.pointLabels.display&&EL(this,o),s.display&&this.ticks.forEach((u,d)=>{if(d!==0||d===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);const f=this.getContext(d),p=s.setContext(f),m=r.setContext(f);TL(this,p,l,o,m)}}),i.display){for(t.save(),a=o-1;a>=0;a--){const u=i.setContext(this.getPointLabelContext(a)),{color:d,lineWidth:f}=u;!f||!d||(t.lineWidth=f,t.strokeStyle=d,t.setLineDash(u.borderDash),t.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),c=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let r,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(s),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;const c=i.setContext(this.getContext(l)),u=Le(c.font);if(r=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=u.string,o=t.measureText(a.label).width,t.fillStyle=c.backdropColor;const d=et(c.backdropPadding);t.fillRect(-o/2-d.left,-r-u.size/2-d.top,o+d.width,u.size+d.height)}qi(t,a.label,0,-r,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),t.restore()}drawTitle(){}}G(_a,"id","radialLinear"),G(_a,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:yc.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),G(_a,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),G(_a,"descriptors",{angleLines:{_fallback:"grid"}});const wc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},lt=Object.keys(wc);function xy(e,t){return e-t}function vy(e,t){if(oe(t))return null;const n=e._adapter,{parser:i,round:s,isoWeekday:r}=e._parseOpts;let o=t;return typeof i=="function"&&(o=i(o)),Ue(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(s&&(o=s==="week"&&(bo(r)||r===!0)?n.startOf(o,"isoWeek",r):n.startOf(o,s)),+o)}function wy(e,t,n,i){const s=lt.length;for(let r=lt.indexOf(e);r<s-1;++r){const o=wc[lt[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(a*o.size))<=i)return lt[r]}return lt[s-1]}function PL(e,t,n,i,s){for(let r=lt.length-1;r>=lt.indexOf(n);r--){const o=lt[r];if(wc[o].common&&e._adapter.diff(s,i,o)>=t-1)return o}return lt[n?lt.indexOf(n):0]}function AL(e){for(let t=lt.indexOf(e)+1,n=lt.length;t<n;++t)if(wc[lt[t]].common)return lt[t]}function by(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:i,hi:s}=ip(n,t),r=n[i]>=t?n[i]:n[s];e[r]=!0}}function NL(e,t,n,i){const s=e._adapter,r=+s.startOf(t[0].value,i),o=t[t.length-1].value;let a,l;for(a=r;a<=o;a=+s.add(a,1,i))l=n[a],l>=0&&(t[l].major=!0);return t}function Sy(e,t,n){const i=[],s={},r=t.length;let o,a;for(o=0;o<r;++o)a=t[o],s[a]=o,i.push({value:a,major:!1});return r===0||!n?i:NL(e,i,s,n)}class Ll extends Zi{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const i=t.time||(t.time={}),s=this._adapter=new CR._date(t.adapters.date);s.init(n),Br(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:vy(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,i=t.time.unit||"day";let{min:s,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!a&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=Ue(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),r=Ue(r)&&!isNaN(r)?r:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],i=t[t.length-1]),{min:n,max:i}}buildTicks(){const t=this.options,n=t.time,i=t.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const r=this.min,o=this.max,a=$D(s,r,o);return this._unit=n.unit||(i.autoSkip?wy(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):PL(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:AL(this._unit),this.initOffsets(s),t.reverse&&a.reverse(),Sy(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,i=0,s,r;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?n=1-s:n=(this.getDecimalForValue(t[1])-s)/2,r=this.getDecimalForValue(t[t.length-1]),t.length===1?i=r:i=(r-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;n=xt(n,0,o),i=xt(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const t=this._adapter,n=this.min,i=this.max,s=this.options,r=s.time,o=r.unit||wy(r.minUnit,n,i,this._getLabelCapacity(n)),a=ee(s.ticks.stepSize,1),l=o==="week"?r.isoWeekday:!1,c=bo(l)||l===!0,u={};let d=n,f,p;if(c&&(d=+t.startOf(d,"isoWeek",l)),d=+t.startOf(d,c?"day":o),t.diff(i,n,o)>1e5*a)throw new Error(n+" and "+i+" are too far apart with stepSize of "+a+" "+o);const m=s.ticks.source==="data"&&this.getDataTimestamps();for(f=d,p=0;f<i;f=+t.add(f,a,o),p++)by(u,f,m);return(f===i||s.bounds==="ticks"||p===1)&&by(u,f,m),Object.keys(u).sort(xy).map(g=>+g)}getLabelForValue(t){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(t,i.tooltipFormat):n.format(t,i.displayFormats.datetime)}format(t,n){const s=this.options.time.displayFormats,r=this._unit,o=n||s[r];return this._adapter.format(t,o)}_tickFormatFunction(t,n,i,s){const r=this.options,o=r.ticks.callback;if(o)return pe(o,[t,n,i],this);const a=r.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],d=c&&a[c],f=i[n],p=c&&d&&f&&f.major;return this._adapter.format(t,s||(p?d:u))}generateTickLabels(t){let n,i,s;for(n=0,i=t.length;n<i;++n)s=t[n],s.label=this._tickFormatFunction(s.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,i=this.ctx.measureText(t).width,s=Kn(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:i*r+a*o,h:i*o+a*r}}_getLabelCapacity(t){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,r=this._tickFormatFunction(t,0,Sy(this,[t],this._majorUnit),s),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],n,i;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)t=t.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,i;if(t.length)return t;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)t.push(vy(this,s[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Y1(t.sort(xy))}}G(Ll,"id","time"),G(Ll,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Ca(e,t,n){let i=0,s=e.length-1,r,o,a,l;n?(t>=e[i].pos&&t<=e[s].pos&&({lo:i,hi:s}=Li(e,"pos",t)),{pos:r,time:a}=e[i],{pos:o,time:l}=e[s]):(t>=e[i].time&&t<=e[s].time&&({lo:i,hi:s}=Li(e,"time",t)),{time:r,pos:a}=e[i],{time:o,pos:l}=e[s]);const c=o-r;return c?a+(l-a)*(t-r)/c:a}class _y extends Ll{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Ca(n,this.min),this._tableRange=Ca(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:i}=this,s=[],r=[];let o,a,l,c,u;for(o=0,a=t.length;o<a;++o)c=t[o],c>=n&&c<=i&&s.push(c);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,a=s.length;o<a;++o)u=s[o+1],l=s[o-1],c=s[o],Math.round((u+l)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_generate(){const t=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((s,r)=>s-r)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?t=this.normalize(n.concat(i)):t=n.length?n:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Ca(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return Ca(this._table,i*this._tableRange+this._minPos,!0)}}G(_y,"id","timeseries"),G(_y,"defaults",Ll.defaults);const Pb="label";function Cy(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function jL(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function Ab(e,t){e.labels=t}function Nb(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Pb;const i=[];e.datasets=t.map(s=>{const r=e.datasets.find(o=>o[n]===s[n]);return!r||!s.data||i.includes(r)?{...s}:(i.push(r),Object.assign(r,s),r)})}function DL(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Pb;const n={labels:[],datasets:[]};return Ab(n,e.labels),Nb(n,e.datasets,t),n}function ML(e,t){const{height:n=150,width:i=300,redraw:s=!1,datasetIdKey:r,type:o,data:a,options:l,plugins:c=[],fallbackContent:u,updateMode:d,...f}=e,p=C.useRef(null),m=C.useRef(null),g=()=>{p.current&&(m.current=new vc(p.current,{type:o,data:DL(a,r),options:l&&{...l},plugins:c}),Cy(t,m.current))},b=()=>{Cy(t,null),m.current&&(m.current.destroy(),m.current=null)};return C.useEffect(()=>{!s&&m.current&&l&&jL(m.current,l)},[s,l]),C.useEffect(()=>{!s&&m.current&&Ab(m.current.config.data,a.labels)},[s,a.labels]),C.useEffect(()=>{!s&&m.current&&a.datasets&&Nb(m.current.config.data,a.datasets,r)},[s,a.datasets]),C.useEffect(()=>{m.current&&(s?(b(),setTimeout(g)):m.current.update(d))},[s,l,a.labels,a.datasets,d]),C.useEffect(()=>{m.current&&(b(),setTimeout(g))},[o]),C.useEffect(()=>(g(),()=>b()),[]),Gt.createElement("canvas",{ref:p,role:"img",height:n,width:i,...f},u)}const RL=C.forwardRef(ML);function jb(e,t){return vc.register(t),C.forwardRef((n,i)=>Gt.createElement(RL,{...n,ref:i,type:e}))}const IL=jb("line",$a),LL=jb("bar",Wa);vc.register(sh,rh,Ya,Tr,eL,lL,QI,qa);function FL({userEmail:e}){const[t,n]=C.useState(null),[i,s]=C.useState(!0),[r,o]=C.useState(null);C.useEffect(()=>{e&&a()},[e]);const a=async()=>{try{s(!0),o(null);const m=await DA(e,7);console.log("Analytics data:",m),n(m)}catch(m){console.error("Error fetching analytics:",m),o(m.message)}finally{s(!1)}},l=t?{labels:t.dailyAverages.map(m=>m.label),datasets:[{label:"Daily Mood Average",data:t.dailyAverages.map(m=>m.average),borderColor:"rgb(75, 192, 192)",backgroundColor:"rgba(75, 192, 192, 0.1)",borderWidth:3,pointBackgroundColor:"rgb(75, 192, 192)",pointBorderColor:"#fff",pointBorderWidth:2,pointRadius:6,fill:!0,tension:.4}]}:null,c={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:"white",font:{size:12}}},title:{display:!0,text:"7-Day Mood Trend",color:"white",font:{size:16,weight:"bold"}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"white",bodyColor:"white",borderColor:"rgba(75, 192, 192, 0.5)",borderWidth:1,callbacks:{label:function(m){const g=m.parsed.y;return g===null?"No entries":`Average: ${g}/5`}}}},scales:{y:{beginAtZero:!0,max:5,grid:{color:"rgba(255, 255, 255, 0.1)"},ticks:{color:"white",stepSize:1}},x:{grid:{color:"rgba(255, 255, 255, 0.1)"},ticks:{color:"white"}}}},u=t?{labels:["😢 Very Sad","😔 Sad","😐 Neutral","😊 Happy","😄 Very Happy"],datasets:[{label:"Mood Distribution",data:[t.moodDistribution[1]||0,t.moodDistribution[2]||0,t.moodDistribution[3]||0,t.moodDistribution[4]||0,t.moodDistribution[5]||0],backgroundColor:["rgba(239, 68, 68, 0.7)","rgba(245, 101, 101, 0.7)","rgba(156, 163, 175, 0.7)","rgba(34, 197, 94, 0.7)","rgba(16, 185, 129, 0.7)"],borderColor:["rgba(239, 68, 68, 1)","rgba(245, 101, 101, 1)","rgba(156, 163, 175, 1)","rgba(34, 197, 94, 1)","rgba(16, 185, 129, 1)"],borderWidth:2}]}:null,d={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},title:{display:!0,text:"Mood Distribution (Last 7 Days)",color:"white",font:{size:16,weight:"bold"}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"white",bodyColor:"white",borderColor:"rgba(75, 192, 192, 0.5)",borderWidth:1}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(255, 255, 255, 0.1)"},ticks:{color:"white",stepSize:1}},x:{grid:{color:"rgba(255, 255, 255, 0.1)"},ticks:{color:"white"}}}};if(i)return h.jsxs("div",{className:"space-y-6",children:[h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[1,2,3].map(m=>h.jsx("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-3xl mb-2 animate-pulse",children:"📊"}),h.jsx("div",{className:"text-2xl font-bold text-white/50 mb-1",children:"-.-"}),h.jsx("div",{className:"text-white/50 text-sm",children:"Loading..."})]})},m))}),h.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[1,2].map(m=>h.jsx("div",{className:"bg-white/10 backdrop-blur-lg rounded-3xl p-6 border border-white/20",children:h.jsx("div",{className:"text-center",style:{height:"300px"},children:h.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[h.jsx("div",{className:"text-6xl mb-4 animate-spin",children:"📊"}),h.jsxs("div",{className:"text-xl font-bold text-white mb-2",children:["Loading Chart ",m]}),h.jsx("div",{className:"text-white/70",children:"Calculating trends..."})]})})},m))})]});if(r)return h.jsxs("div",{className:"space-y-6",children:[h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[1,2,3].map(m=>h.jsx("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-3xl mb-2",children:"❌"}),h.jsx("div",{className:"text-2xl font-bold text-red-300 mb-1",children:"Error"}),h.jsx("div",{className:"text-white/50 text-sm",children:"No data"})]})},m))}),h.jsx("div",{className:"bg-white/10 backdrop-blur-lg rounded-3xl p-8 border border-white/20",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-6xl mb-6",children:"⚠️"}),h.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Analytics Unavailable"}),h.jsx("p",{className:"text-white/70 mb-4 text-lg",children:"Unable to load your mood analytics"}),h.jsx("div",{className:"bg-red-500/10 border border-red-400/30 rounded-2xl p-4 mb-6",children:h.jsx("p",{className:"text-red-300 text-sm",children:r})}),h.jsx("button",{onClick:a,className:"px-6 py-3 rounded-2xl bg-white/20 text-white hover:bg-white/30 transition-colors font-medium",children:"🔄 Try Again"})]})})]});if(!t||t.totalEntries===0)return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsx("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-3xl mb-2",children:"😊"}),h.jsx("div",{className:"text-2xl font-bold text-white/50 mb-1",children:"0/5"}),h.jsx("div",{className:"text-white/70 text-sm",children:"Average Mood"})]})}),h.jsx("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-3xl mb-2",children:"📝"}),h.jsx("div",{className:"text-2xl font-bold text-white/50 mb-1",children:"0"}),h.jsx("div",{className:"text-white/70 text-sm",children:"Entries (7 days)"})]})}),h.jsx("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-3xl mb-2",children:"📊"}),h.jsx("div",{className:"text-2xl font-bold text-blue-300 mb-1",children:"Stable"}),h.jsx("div",{className:"text-white/70 text-sm",children:"Weekly Trend"})]})})]}),h.jsx("div",{className:"bg-white/10 backdrop-blur-lg rounded-3xl p-8 border border-white/20",children:h.jsx("div",{className:"text-center",style:{minHeight:"300px"},children:h.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[h.jsx("div",{className:"text-8xl mb-6",children:"📝"}),h.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"No Data Yet"}),h.jsx("p",{className:"text-white/70 text-lg mb-6",children:"Start tracking your mood to see beautiful analytics here!"}),h.jsx("div",{className:"bg-blue-500/10 border border-blue-400/30 rounded-2xl p-6",children:h.jsx("p",{className:"text-blue-300 font-medium",children:'💡 Tip: Switch to "Mood Entries" tab to add your first mood entry'})})]})})})]});const p=(m=>{switch(m){case"improving":return{emoji:"📈",text:"Improving",color:"text-green-300"};case"declining":return{emoji:"📉",text:"Declining",color:"text-red-300"};default:return{emoji:"📊",text:"Stable",color:"text-blue-300"}}})(t.weeklyTrend);return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsx("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-3xl mb-2",children:"😊"}),h.jsxs("div",{className:"text-2xl font-bold text-white",children:[t.averageMood,"/5"]}),h.jsx("div",{className:"text-white/70 text-sm",children:"Average Mood"})]})}),h.jsx("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-3xl mb-2",children:"📝"}),h.jsx("div",{className:"text-2xl font-bold text-white",children:t.totalEntries}),h.jsx("div",{className:"text-white/70 text-sm",children:"Entries (7 days)"})]})}),h.jsx("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-3xl mb-2",children:p.emoji}),h.jsx("div",{className:`text-2xl font-bold ${p.color}`,children:p.text}),h.jsx("div",{className:"text-white/70 text-sm",children:"Weekly Trend"})]})})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsx("div",{className:"bg-white/10 backdrop-blur-lg rounded-3xl p-6 border border-white/20",children:h.jsx("div",{style:{height:"300px"},children:l&&h.jsx(IL,{data:l,options:c})})}),h.jsx("div",{className:"bg-white/10 backdrop-blur-lg rounded-3xl p-6 border border-white/20",children:h.jsx("div",{style:{height:"300px"},children:u&&h.jsx(LL,{data:u,options:d})})})]})]})}const Db="moodtracker_entries",mp=(e,t)=>{try{const n=Mb(),i=e.replace(/[^a-zA-Z0-9]/g,"_");n[i]=t,localStorage.setItem(Db,JSON.stringify(n))}catch(n){console.error("Error saving entries to localStorage:",n)}},$s=e=>{try{const t=Mb(),n=e.replace(/[^a-zA-Z0-9]/g,"_");return t[n]||[]}catch(t){return console.error("Error loading entries from localStorage:",t),[]}},OL=(e,t)=>{try{const n=$s(e),i={...t,id:t.id||Date.now(),timestamp:t.timestamp||new Date().toISOString()};return n.unshift(i),mp(e,n),i}catch(n){throw console.error("Error adding entry to localStorage:",n),n}},UL=(e,t)=>{try{const n=$s(e),i=n.findIndex(s=>s.id===t.id);i!==-1&&(n[i]={...n[i],...t},mp(e,n))}catch(n){throw console.error("Error updating entry in localStorage:",n),n}},Mb=()=>{try{const e=localStorage.getItem(Db);return e?JSON.parse(e):{}}catch(e){return console.error("Error getting all entries from localStorage:",e),{}}},Yn=e=>e.photos&&Array.isArray(e.photos)&&e.photos.length>0,BL=(e,t)=>{var r,o;if(e.id===t.id)return!0;const n=new Date(e.createdAt||e.timestamp||0).getTime(),i=new Date(t.createdAt||t.timestamp||0).getTime(),s=Math.abs(n-i);if(console.log("🔍 Checking for duplicates:",{entry1:{id:e.id,mood:e.mood,intensity:e.intensity,note:((r=e.note)==null?void 0:r.substring(0,20))+"...",tags:e.tags,timestamp:e.createdAt||e.timestamp,hasPhotos:Yn(e)},entry2:{id:t.id,mood:t.mood,intensity:t.intensity,note:((o=t.note)==null?void 0:o.substring(0,20))+"...",tags:t.tags,timestamp:t.createdAt||t.timestamp,hasPhotos:Yn(t)},timeDiff:s+"ms"}),s===0)return console.log("❗ EXACT TIMESTAMP MATCH - likely duplicate from double-save"),!0;if(s<3e4){const a=e.mood===t.mood,l=e.intensity===t.intensity,c=(e.note||"").trim()===(t.note||"").trim(),u=(e.tags||[]).sort(),d=(t.tags||[]).sort(),f=JSON.stringify(u)===JSON.stringify(d),p=a&&l&&c&&f;if(console.log("🔄 Content comparison:",{sameMood:a,sameIntensity:l,sameNote:c,sameTags:f,overall:p}),p)return console.log("✅ DUPLICATE DETECTED:",{entry1Id:e.id,entry2Id:t.id,timeDiff:s+"ms",entry1HasPhotos:Yn(e),entry2HasPhotos:Yn(t)}),!0}return!1},Ey=e=>{console.log("🧽 Starting manual duplicate cleanup for:",e);const t=$s(e);if(console.log("📁 Found entries in localStorage:",t.length),t.length===0)return;const n=[];t.forEach(s=>{const r=n.findIndex(o=>BL(o,s));if(r===-1)n.push(s);else{const o=n[r];console.log("🗝 Found duplicate in localStorage:",{existingId:o.id,duplicateId:s.id,existingHasPhotos:Yn(o),duplicateHasPhotos:Yn(s)}),Yn(s)&&!Yn(o)?(n[r]=s,console.log("➡️ Keeping version with photos")):console.log("➡️ Keeping existing version")}});const i=t.length-n.length;return i>0?(console.log("🧽 Cleanup result:",{originalCount:t.length,cleanedCount:n.length,duplicatesRemoved:i}),mp(e,n),console.log("✅ Cleaned localStorage entries saved")):console.log("✅ No duplicates found in localStorage"),i},Rb="https://e7a99njzra.execute-api.us-east-1.amazonaws.com/prod";function VL(){return!!Rb}const zL=async(e,t=null,n=[])=>{var i;try{VL(),console.log("🤖 Calling secure AI Lambda function");const s=await fetch(`${Rb}/ai-chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userMessage:e,moodContext:t,conversationHistory:n})});if(!s.ok){const o=await s.json().catch(()=>({}));throw new Error(o.message||`HTTP ${s.status}: ${s.statusText}`)}const r=await s.json();return console.log(`✅ AI response received from ${((i=r.provider)==null?void 0:i.toUpperCase())||"Lambda"}`),r.response}catch(s){return console.error("❌ AI service error:",s),s.message.includes("fetch")?"I'm having trouble connecting right now. Your feelings are still valid and important. Would you like to try again in a moment, or is there something specific you'd like to talk about?":"I'm having trouble responding right now, but I want you to know that your feelings are valid. Sometimes it helps to write down your thoughts or talk to someone you trust. What's the most important thing you'd like support with today?"}},HL=()=>{const{user:e}=hn(),[t,n]=C.useState([{id:1,sender:"ai",content:"Hello! I'm here to listen and support you. How are you feeling right now?",timestamp:new Date}]),[i,s]=C.useState(""),[r,o]=C.useState(!1),[a,l]=C.useState(!1),c=C.useRef(null),u=C.useRef(null),d=()=>{var b;(b=c.current)==null||b.scrollIntoView({behavior:"smooth"})};C.useEffect(()=>{d()},[t]),C.useEffect(()=>{if(e!=null&&e.email&&!a){const b=$s(e.email).slice(0,3);if(b.length>0){const y=b[0],w=f(y);n([{id:1,sender:"ai",content:w,timestamp:new Date}])}l(!0)}},[e==null?void 0:e.email,a]);const f=(b,y)=>{if(!b)return"Hello! I'm here to listen and support you. How are you feeling right now?";const w=b.mood,S=b.intensity,E=b.photos&&b.photos.length>0;let k="Hello! I'm your AI wellness companion. ";return w<=2?k+="I noticed you've been having a challenging time lately. ":w>=4?k+="It looks like you've been feeling pretty good recently! ":k+="I see you've been tracking your moods consistently. ",S>=8&&(k+="Those feelings seem quite intense right now. "),E&&(k+="I love that you've been capturing moments with photos - that shows mindfulness. "),k+="I'm here to listen without judgment and help you process whatever you're experiencing. What's on your mind today?",k},p=async(b,y)=>{try{const w=e!=null&&e.email?$s(e.email).slice(0,5):[],S=w.length>0?{currentMood:w[0],recentPattern:w.map(k=>({mood:k.mood,intensity:k.intensity,tags:k.tags,date:k.date}))}:null;return await zL(b,S,y)}catch(w){return console.error("Error getting AI response:",w),"I'm having trouble connecting right now. But I want you to know that your feelings are valid, and I'm here when you're ready to talk."}},m=async()=>{if(!i.trim())return;const b={id:Date.now(),sender:"user",content:i.trim(),timestamp:new Date};n(y=>[...y,b]),s(""),o(!0);try{const y=await p(b.content,t),w={id:Date.now()+1,sender:"ai",content:y,timestamp:new Date};n(S=>[...S,w])}catch(y){console.error("Error sending message:",y);const w={id:Date.now()+1,sender:"ai",content:"I'm sorry, I'm having trouble responding right now. Your feelings are still valid and important.",timestamp:new Date};n(S=>[...S,w])}finally{o(!1)}},g=b=>{b.key==="Enter"&&!b.shiftKey&&(b.preventDefault(),m())};return h.jsxs("div",{className:"h-full flex flex-col bg-gradient-to-br from-blue-50/20 to-purple-50/20 rounded-3xl border border-white/20 backdrop-blur-sm",children:[h.jsx("div",{className:"p-4 sm:p-6 border-b border-white/20",children:h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-blue-400 to-purple-500 flex items-center justify-center",children:h.jsx("span",{className:"text-xl",children:"🤖"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-white",children:"AI Wellness Companion"}),h.jsx("p",{className:"text-sm text-white/70",children:"Here to listen and support you"})]})]})}),h.jsxs("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6 space-y-4",children:[t.map(b=>h.jsx("div",{className:`flex ${b.sender==="user"?"justify-end":"justify-start"}`,children:h.jsxs("div",{className:`max-w-xs sm:max-w-md px-4 py-3 rounded-2xl ${b.sender==="user"?"bg-gradient-to-r from-purple-500 to-blue-500 text-white":"bg-white/20 backdrop-blur-sm text-white border border-white/20"}`,children:[h.jsx("p",{className:"text-sm leading-relaxed",children:b.content}),h.jsx("p",{className:`text-xs mt-2 ${b.sender==="user"?"text-white/70":"text-white/60"}`,children:b.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},b.id)),r&&h.jsx("div",{className:"flex justify-start",children:h.jsx("div",{className:"bg-white/20 backdrop-blur-sm text-white border border-white/20 px-4 py-3 rounded-2xl",children:h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsxs("div",{className:"flex space-x-1",children:[h.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce"}),h.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),h.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),h.jsx("span",{className:"text-xs text-white/60",children:"Thinking..."})]})})}),h.jsx("div",{ref:c})]}),h.jsxs("div",{className:"p-4 sm:p-6 border-t border-white/20",children:[h.jsxs("div",{className:"flex space-x-3",children:[h.jsx("textarea",{ref:u,value:i,onChange:b=>s(b.target.value),onKeyPress:g,placeholder:"Share what's on your mind...",className:"flex-1 px-4 py-3 rounded-2xl bg-white/10 backdrop-blur-sm border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-white/40 focus:border-transparent transition-all duration-300 resize-none",rows:"1",style:{minHeight:"48px",maxHeight:"120px"},onInput:b=>{b.target.style.height="auto",b.target.style.height=Math.min(b.target.scrollHeight,120)+"px"}}),h.jsxs("button",{onClick:m,disabled:!i.trim()||r,className:"px-6 py-3 rounded-2xl bg-gradient-to-r from-purple-500 to-blue-500 text-white font-medium hover:from-purple-600 hover:to-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 flex items-center space-x-2",children:[h.jsx("span",{className:"text-sm",children:"Send"}),h.jsx("span",{className:"text-lg",children:"💙"})]})]}),h.jsxs("p",{className:"text-xs text-white/50 mt-3 text-center",children:["This AI companion provides support but isn't a replacement for professional therapy."," ",h.jsx("span",{className:"text-white/70",children:"In crisis? Call 988 (Suicide & Crisis Lifeline)"})]})]})]})},WL=()=>{const e=new Date().getHours();return e<5?"Good night":e<12?"Good morning":e<17?"Good afternoon":e<22?"Good evening":"Good night"},$L=()=>["Keep shining","You're doing great","Stay awesome","Keep pushing forward","You've got this","Stay strong","Keep growing","Believe in yourself","You're amazing","Stay positive","Keep exploring","Trust the journey","You're unstoppable","Keep dreaming","Stay curious","You're incredible","Keep creating","Stay inspired","You're wonderful","Keep thriving"],KL=()=>["How are you feeling today","What's on your mind today","Ready to track your mood","Let's check in on your emotions","Time to reflect on your day","How's your energy today","What emotions are you experiencing","Let's explore your feelings","Ready to capture your mood","How's your mental space today"],GL=()=>["Welcome back","Great to see you again","Hello there","Hey there","Nice to see you","Welcome","Glad you're here","Hope you're well","Ready for today","Let's get started"],Ib=(e,t=0)=>{const n=WL(),i=$L(),s=KL(),r=GL(),o=Math.random();let a="",l="";return o<.3?(a=`${n}, ${e}!`,l="time"):o<.6?(a=`${i[Math.floor(Math.random()*i.length)]}, ${e}!`,l="inspirational"):o<.8?(a=`${s[Math.floor(Math.random()*s.length)]}, ${e}?`,l="mood"):(a=`${r[Math.floor(Math.random()*r.length)]}, ${e}!`,l="casual"),{message:a,type:l,timestamp:new Date().toISOString()}},YL=(e,t=[])=>{var r,o;let n=0,i="";if(t.length>=2){const a=t.slice(0,2),l=((r=a[0])==null?void 0:r.mood)||3,c=((o=a[1])==null?void 0:o.mood)||3;l>c?(n=1,i="You seem to be feeling better lately! 🌟"):l<c?(n=-1,i="Take care of yourself today 💚"):(n=0,i="Consistency is strength 💪")}return{...Ib(e,n),contextMessage:i,moodTrend:n,hasContext:t.length>=2}};function qL({username:e="User",recentMoods:t=[],rotationInterval:n=20}){const[i,s]=C.useState(null),[r,o]=C.useState(!0);return C.useEffect(()=>{const a=YL(e,t);s(a),o(!1)},[e,t]),C.useEffect(()=>{if(r)return;const a=setInterval(()=>{const l=Ib(e);s(l)},n*1e3);return()=>clearInterval(a)},[e,n,r]),i?h.jsx("div",{className:"greeting-container",children:h.jsx(T1,{mode:"wait",children:h.jsxs(ke.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.5,ease:"easeOut"},className:"flex flex-col space-y-2",children:[h.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-theme-primary",children:i.message}),i.hasContext&&i.contextMessage&&h.jsx(ke.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.4},className:"text-theme-secondary text-sm sm:text-base",children:i.contextMessage}),!1]},i.timestamp)})}):h.jsx("div",{className:"h-16 flex items-center",children:h.jsx("div",{className:"animate-pulse bg-theme-glass rounded-lg h-8 w-48"})})}const XL="https://e7a99njzra.execute-api.us-east-1.amazonaws.com/prod",JL=async(e,t)=>{console.log("📤 Starting S3 photo upload:",e.name);try{const n=await fetch(`${XL}/photos/upload`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fileName:e.name,fileType:e.type,fileSize:e.size,userEmail:t})});if(!n.ok){const o=await n.text();throw new Error(`Failed to get upload URL: ${o}`)}const{upload:i,photo:s}=await n.json();console.log("✅ Got presigned URL:",i.photoId);const r=await fetch(i.presignedUrl,{method:"PUT",body:e,headers:{"Content-Type":e.type}});if(!r.ok)throw new Error(`S3 upload failed: ${r.status} ${r.statusText}`);return console.log("📸 Photo uploaded to S3:",s.id),{id:s.id,fileName:s.fileName,fileType:s.fileType,fileSize:s.fileSize,url:s.url,s3Key:s.s3Key,createdAt:s.createdAt,dataUrl:s.url}}catch(n){throw console.error("❌ S3 photo upload failed:",n),new Error(`Photo upload failed: ${n.message}`)}},QL=async(e,t)=>{console.log("📤 Starting batch S3 photo upload:",e.length,"files"),console.log("📁 Files to upload:",e.map(i=>({name:i.name,size:i.size,type:i.type})));const n=e.map((i,s)=>(console.log(`🚀 Starting upload ${s+1}/${e.length}: ${i.name}`),JL(i,t)));try{const i=await Promise.allSettled(n),s=[],r=[];return i.forEach((o,a)=>{o.status==="fulfilled"?(console.log(`✅ Upload ${a+1} successful:`,o.value.fileName),s.push(o.value)):(console.error(`❌ Upload ${a+1} failed:`,o.reason.message),r.push({file:e[a].name,error:o.reason.message}))}),r.length>0&&console.warn("⚠️ Some photos failed to upload:",r),console.log("✅ Batch upload complete:",s.length,"successful,",r.length,"failed"),s}catch(i){throw console.error("❌ Batch photo upload failed:",i),i}},ZL=(e,t=1920,n=1080,i=.8)=>new Promise((s,r)=>{const o=document.createElement("canvas"),a=o.getContext("2d"),l=new Image;l.onload=()=>{let{width:c,height:u}=l;if(c>t||u>n){const d=Math.min(t/c,n/u);c*=d,u*=d}o.width=c,o.height=u,a.drawImage(l,0,0,c,u),o.toBlob(d=>{if(d){const f=new File([d],e.name,{type:"image/jpeg",lastModified:Date.now()});s(f)}else r(new Error("Failed to compress image"))},"image/jpeg",i)},l.onerror=()=>r(new Error("Failed to load image for compression")),l.src=URL.createObjectURL(e)}),eF=async(e,t)=>{console.log("⚙️ Processing and uploading photos:",e.length),console.log("📋 Photo data structure:",e.map(s=>({id:s.id,fileName:s.fileName,fileSize:s.fileSize,hasFile:!!s.file,hasDataUrl:!!s.dataUrl})));const n=[];for(const s of e)try{if(!s.file){console.error("❌ Photo data missing file object:",s);continue}let r=s.file;console.log(`📁 Processing file: ${r.name} (${(r.size/1024).toFixed(1)}KB)`),r.size>1024*1024&&(console.log(`🗜️ Compressing ${r.name} (${(r.size/1024/1024).toFixed(2)}MB)`),r=await ZL(r,1920,1080,.8),console.log(`✅ Compressed to ${(r.size/1024/1024).toFixed(2)}MB`)),n.push(r)}catch(r){console.error("❌ Error processing photo:",s.fileName,r)}if(console.log(`📤 Ready to upload ${n.length} files to S3`),n.length===0)return console.warn("⚠️ No valid files to upload to S3"),[];const i=await QL(n,t);return console.log(`✅ Successfully uploaded ${i.length} photos to S3`),i};function tF({user:e}){const{signOut:t}=hn(),[n,i]=C.useState([]),[s,r]=C.useState(!0),[o,a]=C.useState("entries"),[l,c]=C.useState(!1);C.useEffect(()=>{const f=async()=>{if(i([]),r(!0),e&&e.email)try{const p=Ey(e.email);p>0&&console.log("🧽 Cleaned up",p,"duplicate entries");const m=$s(e.email);console.log("📊 Loading from localStorage only:",m.length,"entries"),console.log("🚫 API sync temporarily disabled to prevent duplicates"),i(m)}catch(p){console.error("❌ Failed to load entries:",p),i([])}r(!1)};f(),e!=null&&e.email&&typeof window<"u"&&(window.cleanupDuplicates=()=>{const p=Ey(e.email);return console.log("🧽 Manual cleanup completed. Removed",p,"duplicates"),f(),p},window.refreshEntries=f)},[e==null?void 0:e.email]);const u=async f=>{try{i(p=>p.map(m=>m.id===f.id?f:m)),e&&e.email&&(UL(e.email,f),console.log("📝 Entry updated in localStorage:",f.id))}catch(p){console.error("Failed to update entry:",p),alert("Failed to update entry. Please try again.")}},d=async f=>{const p=new Date;let m=[];if(f.photos&&f.photos.length>0){console.log("📷 Processing photos for entry:",f.photos.length,"photos"),console.log("📅 Photo data structure:",f.photos.map(b=>({id:b.id,fileName:b.fileName,fileSize:b.fileSize,hasFile:!!b.file,hasDataUrl:!!b.dataUrl,fileType:b.fileType})));try{console.log("🚀 Starting S3 upload process..."),m=await eF(f.photos,e.email),console.log("🏢 Uploaded photos to S3:",m.length),console.log("🖼️ S3 photo URLs:",m.map(b=>b.url)),m.length===0&&(console.warn("⚠️ S3 upload returned 0 photos, trying localStorage fallback"),m=await qd(f.photos),console.log("💾 Fallback: stored photos locally:",m.length))}catch(b){console.error("❌ Error uploading photos to S3:",b),console.error("🗏 Stack trace:",b.stack);try{console.log("💾 Attempting localStorage fallback..."),m=await qd(f.photos),console.log("💾 Fallback: stored photos locally after S3 error:",m.length)}catch(y){console.error("❌ Fallback storage also failed:",y),alert("Failed to store photos. Entry will be saved without photos. You can edit the entry later to add photos.")}}}const g={id:Date.now(),date:p.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),createdAt:p.toISOString(),timestamp:p.toISOString(),...f,photos:m};console.log("💾 Creating entry with ID:",g.id);try{if(e&&e.email){OL(e.email,g),console.log("💾 Entry saved to localStorage with photos"),console.log("🚫 API sync disabled to prevent duplicates - data is safe in localStorage");const b=[g,...n];i(b),console.log("✅ Entry added to UI state, total entries:",b.length)}c(!0),setTimeout(()=>c(!1),3e3)}catch(b){console.error("❌ Failed to save entry:",b),alert("Failed to save entry. Please try again.")}};return h.jsxs("div",{className:"min-h-screen relative w-full",style:{margin:0,padding:0},children:[h.jsx("div",{className:"fixed top-20 right-20 w-32 h-32 theme-orb-1 rounded-full blur-2xl",style:{animation:"floatOrb1 22s ease-in-out infinite"}}),h.jsx("div",{className:"fixed bottom-20 left-20 w-40 h-40 theme-orb-2 rounded-full blur-2xl",style:{animation:"floatOrb2 28s ease-in-out infinite reverse"}}),h.jsx("nav",{className:"bg-theme-glass border-b border-theme-glass sticky top-0 z-20",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-4",children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{className:"flex items-center space-x-3 cursor-pointer hover:opacity-80 transition-opacity duration-300",onClick:()=>{a("entries"),window.scrollTo({top:0,behavior:"smooth"})},title:"Go to Mood Entries",children:[h.jsx("span",{className:"text-2xl",children:"🌈"}),h.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-theme-primary",children:"MoodFlow"})]}),h.jsx("button",{onClick:()=>t(),className:"px-4 py-2 rounded-2xl bg-theme-glass text-theme-primary hover:bg-theme-glass border border-theme-glass hover:border-theme-glass transition-all duration-300 font-medium",children:"Logout"})]})})}),h.jsxs("div",{className:"max-w-7xl mx-auto px-2 sm:px-6 py-6 sm:py-12",children:[h.jsx("div",{className:"mb-12 text-center sm:text-left",children:h.jsx(qL,{username:e.displayUsername||e.username||e.email.split("@")[0],recentMoods:n.slice(0,5),rotationInterval:30})}),h.jsx("div",{className:"mb-6 sm:mb-8 mx-2 sm:mx-0",children:h.jsxs("div",{className:"flex space-x-1 bg-theme-glass rounded-2xl p-1",children:[h.jsx("button",{onClick:()=>a("entries"),className:`flex-1 px-3 sm:px-6 py-2 sm:py-3 rounded-xl font-medium transition-all duration-300 text-xs sm:text-base ${o==="entries"?"bg-white text-purple-700 shadow-lg":"text-theme-primary hover:bg-theme-glass"}`,children:"📝 Mood Entries"}),h.jsx("button",{onClick:()=>a("calendar"),className:`flex-1 px-3 sm:px-6 py-2 sm:py-3 rounded-xl font-medium transition-all duration-300 text-xs sm:text-base ${o==="calendar"?"bg-white text-purple-700 shadow-lg":"text-theme-primary hover:bg-theme-glass"}`,children:"📅 Calendar"}),h.jsx("button",{onClick:()=>a("analytics"),className:`flex-1 px-3 sm:px-6 py-2 sm:py-3 rounded-xl font-medium transition-all duration-300 text-xs sm:text-base ${o==="analytics"?"bg-white text-purple-700 shadow-lg":"text-theme-primary hover:bg-theme-glass"}`,children:"📆 Analytics"}),h.jsx("button",{onClick:()=>a("therapy"),className:`flex-1 px-3 sm:px-6 py-2 sm:py-3 rounded-xl font-medium transition-all duration-300 text-xs sm:text-base ${o==="therapy"?"bg-white text-purple-700 shadow-lg":"text-theme-primary hover:bg-theme-glass"}`,children:"🤖 AI Chat"})]})}),l&&h.jsx("div",{className:"mb-8 p-4 rounded-2xl bg-emerald-500/20 border border-emerald-400/30 text-white backdrop-blur-sm",children:h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("span",{className:"text-2xl",children:"✨"}),h.jsx("span",{className:"font-medium",children:"Mood entry saved successfully!"})]})}),h.jsxs("div",{style:{minHeight:"600px"},className:"overflow-hidden px-2 sm:px-0",children:[o==="entries"&&h.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-2 gap-6 lg:gap-8",children:[h.jsx(Yj,{onAddEntry:d}),h.jsx(sD,{entries:n,isLoading:s,onEntryUpdate:u})]}),o==="calendar"&&h.jsx(oD,{userEmail:e.email}),o==="analytics"&&h.jsx(FL,{userEmail:e.email}),o==="therapy"&&h.jsx("div",{style:{height:"70vh",minHeight:"500px"},children:h.jsx(HL,{})})]})]})]})}function nF(){const[e,t]=C.useState(""),[n,i]=C.useState(""),[s,r]=C.useState(""),[o,a]=C.useState(()=>{try{return localStorage.getItem("moodtracker_form_mode")==="signup"}catch{return!1}}),[l,c]=C.useState(!1),[u,d]=C.useState("");C.useEffect(()=>(console.log("📝 LoginForm mounted"),()=>console.log("📝 LoginForm unmounted")),[]),C.useEffect(()=>{console.log("📝 Form mode changed to:",o?"SIGN_UP":"SIGN_IN")},[o]);const{signUp:f,signIn:p,isLoading:m,error:g,clearError:b}=hn(),y=async E=>{if(E.preventDefault(),b(),!(!e||!n)&&!(o&&(!s||s.length<3||s.length>20))){console.log("📧 Form submission:",{isSignUp:o,email:e,username:o?s:"N/A",passwordLength:n.length,action:o?"SIGN_UP":"SIGN_IN"});try{if(o){console.log("✨ Attempting sign up...");const k=await f({username:s,email:e,password:n});console.log("✅ Sign up successful:",k),d(k.message),c(!0),setTimeout(()=>c(!1),5e3)}else console.log("🔑 Attempting sign in..."),await p({email:e,password:n}),console.log("✅ Sign in successful")}catch(k){console.error("❌ Authentication error:",k),console.error("Error details:",{code:k.code,message:k.message,isSignUp:o,email:e})}}},w=()=>{b(),c(!1)},S=()=>{console.log("🔄 Toggling form mode from",o?"SIGN_UP":"SIGN_IN","to",o?"SIGN_IN":"SIGN_UP");const E=!o;a(E);try{localStorage.setItem("moodtracker_form_mode",E?"signup":"signin")}catch(k){console.warn("Failed to save form mode to localStorage:",k)}b(),c(!1),t(""),i(""),r("")};return h.jsxs("form",{onSubmit:y,className:"space-y-6",children:[o&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-theme-secondary text-sm font-medium mb-3",children:"Username"}),h.jsx("input",{type:"text",value:s,onChange:E=>{r(E.target.value.replace(/[^a-zA-Z0-9_]/g,"")),w()},className:"w-full px-4 py-4 rounded-2xl bg-theme-glass border border-theme-glass text-theme-primary placeholder-theme-tertiary focus:outline-none focus:ring-2 focus:ring-white/40 focus:border-transparent transition-all duration-300",placeholder:"your_username",minLength:3,maxLength:20,pattern:"[a-zA-Z0-9_]+",required:o}),h.jsx("p",{className:"text-theme-tertiary text-xs mt-1",children:"3-20 characters, letters, numbers, and underscores only"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-theme-secondary text-sm font-medium mb-3",children:o?"Email":"Email or Username"}),h.jsx("input",{type:o?"email":"text",value:e,onChange:E=>{t(E.target.value),w()},className:"w-full px-4 py-4 rounded-2xl bg-theme-glass border border-theme-glass text-theme-primary placeholder-theme-tertiary focus:outline-none focus:ring-2 focus:ring-white/40 focus:border-transparent transition-all duration-300",placeholder:o?"you@example.com":"email or username",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-theme-secondary text-sm font-medium mb-3",children:"Password"}),h.jsx("input",{type:"password",value:n,onChange:E=>{i(E.target.value),w()},className:"w-full px-4 py-4 rounded-2xl bg-theme-glass border border-theme-glass text-theme-primary placeholder-theme-tertiary focus:outline-none focus:ring-2 focus:ring-white/40 focus:border-transparent transition-all duration-300",placeholder:o?"Min 8 chars, mixed case, number, symbol":"••••••••",required:!0,minLength:8})]}),g&&h.jsx("div",{className:"p-4 rounded-2xl bg-red-500/20 border border-red-400/30 text-theme-primary",children:h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("span",{className:"text-2xl",children:"⚠️"}),h.jsx("span",{className:"font-medium",children:g.message})]})}),l&&h.jsx("div",{className:"p-4 rounded-2xl bg-green-500/20 border border-green-400/30 text-theme-primary",children:h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("span",{className:"text-2xl",children:"✅"}),h.jsx("span",{className:"font-medium",children:u})]})}),h.jsx("button",{type:"submit",disabled:m||!e||!n||o&&(!s||s.length<3),className:"w-full py-4 px-6 rounded-2xl bg-gradient-to-r from-white to-gray-100 text-purple-700 font-semibold hover:from-gray-100 hover:to-white transform hover:scale-[1.02] transition-all duration-300 shadow-xl disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:m?o?"Creating Account...":"Signing In...":o?"Create Account":"Sign In"}),h.jsx("div",{className:"text-center pt-2",children:h.jsx("button",{type:"button",onClick:S,className:"text-theme-tertiary hover:text-theme-primary transition-colors duration-300 text-sm",children:o?"Already have an account? Sign In":"Don't have an account? Sign Up"})})]})}function iF({onLogin:e}){const t=jo(),{isAuthenticated:n}=hn(),i=()=>{t(n?"/dashboard":"/")};return h.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 relative overflow-hidden",children:[h.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 theme-orb-1 rounded-full blur-xl",style:{animation:"floatOrb1 20s ease-in-out infinite"}}),h.jsx("div",{className:"absolute bottom-20 right-20 w-40 h-40 theme-orb-2 rounded-full blur-xl",style:{animation:"floatOrb2 25s ease-in-out infinite reverse"}}),h.jsx("div",{className:"absolute top-1/2 right-1/4 w-24 h-24 theme-orb-3 rounded-full blur-xl",style:{animation:"floatOrb3 18s ease-in-out infinite"}}),h.jsxs("div",{className:"bg-theme-glass rounded-3xl p-8 sm:p-10 w-full max-w-md border border-theme-glass shadow-2xl relative z-10",children:[h.jsxs("div",{className:"text-center mb-10",children:[h.jsx("div",{className:"text-5xl mb-4 cursor-pointer hover:scale-110 transition-transform duration-300",onClick:i,title:n?"Go to Dashboard":"Go to Home",children:"🌈"}),h.jsx("h1",{className:"text-4xl sm:text-5xl font-bold text-theme-primary mb-3 cursor-pointer hover:opacity-80 transition-opacity duration-300",onClick:i,title:n?"Go to Dashboard":"Go to Home",children:"MoodFlow"}),h.jsx("p",{className:"text-theme-secondary text-lg",children:"Track your emotional journey"}),h.jsx("div",{className:"mt-4",children:h.jsx("button",{onClick:()=>t("/"),className:"text-theme-tertiary hover:text-theme-primary text-sm transition-colors duration-300 bg-transparent border-none cursor-pointer",children:"← Back to Home"})})]}),h.jsx(nF,{onLogin:e})]})]})}const _u=({icon:e,title:t,description:n,delay:i=0})=>{const s=Kf(),r=Gt.useRef(null),o=Gf(r,{once:!0});return C.useEffect(()=>{o&&s.start("visible")},[s,o]),h.jsx(ke.div,{ref:r,initial:"hidden",animate:s,variants:{hidden:{opacity:0,y:50},visible:{opacity:1,y:0}},transition:{duration:.6,delay:i},className:"group",children:h.jsxs("div",{className:"bg-white/10 backdrop-blur-lg p-8 rounded-3xl border border-white/20 hover:bg-white/15 transition-all duration-500 hover:scale-105 hover:shadow-2xl",children:[h.jsx("div",{className:"text-5xl mb-6 group-hover:scale-110 transition-transform duration-300",children:e}),h.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:t}),h.jsx("p",{className:"text-white/80 leading-relaxed",children:n})]})})},Cu=({number:e,title:t,description:n,delay:i=0})=>{const s=Kf(),r=Gt.useRef(null),o=Gf(r,{once:!0});return C.useEffect(()=>{o&&s.start("visible")},[s,o]),h.jsxs(ke.div,{ref:r,initial:"hidden",animate:s,variants:{hidden:{opacity:0,x:-50},visible:{opacity:1,x:0}},transition:{duration:.6,delay:i},className:"flex items-start space-x-6 group",children:[h.jsx("div",{className:"bg-gradient-to-r from-cyan-400 to-purple-500 text-white w-12 h-12 rounded-full flex items-center justify-center font-bold text-lg shadow-lg group-hover:scale-110 transition-transform duration-300",children:e}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:t}),h.jsx("p",{className:"text-white/70 leading-relaxed",children:n})]})]})},ss=({icon:e,text:t,delay:n=0})=>{const i=Kf(),s=Gt.useRef(null),r=Gf(s,{once:!0});return C.useEffect(()=>{r&&i.start("visible")},[i,r]),h.jsxs(ke.div,{ref:s,initial:"hidden",animate:i,variants:{hidden:{opacity:0,scale:.8},visible:{opacity:1,scale:1}},transition:{duration:.5,delay:n},className:"flex items-center space-x-4 bg-white/10 backdrop-blur-sm p-4 rounded-2xl border border-white/20 hover:bg-white/15 transition-all duration-300",children:[h.jsx("span",{className:"text-2xl",children:e}),h.jsx("span",{className:"text-white font-medium",children:t})]})};function Ty(){const{isAuthenticated:e}=hn(),t=jo(),[n,i]=C.useState(0),s=[{text:"MoodFlow has completely changed how I understand my emotional patterns. I love seeing the beautiful visualizations of my mood journey!",author:"Sarah M.",rating:5},{text:"The calendar heatmap is incredible - it's like seeing my year in pixels but for my emotions. Perfect for tracking progress.",author:"Alex K.",rating:5},{text:"Simple, beautiful, and powerful. I've tried many mood trackers but this one actually keeps me coming back every day.",author:"Maria L.",rating:5}];C.useEffect(()=>{const o=setInterval(()=>{i(a=>(a+1)%s.length)},4e3);return()=>clearInterval(o)},[]);const r=()=>{t("/login")};return h.jsxs("div",{className:"min-h-screen relative overflow-hidden bg-transparent",children:[h.jsx("div",{className:"fixed top-20 right-20 w-32 h-32 theme-orb-1 rounded-full blur-2xl",style:{animation:"floatOrb1 22s ease-in-out infinite"}}),h.jsx("div",{className:"fixed bottom-20 left-20 w-40 h-40 theme-orb-2 rounded-full blur-2xl",style:{animation:"floatOrb2 28s ease-in-out infinite reverse"}}),h.jsx("div",{className:"fixed top-1/2 left-1/3 w-24 h-24 theme-orb-3 rounded-full blur-3xl",style:{animation:"floatOrb3 25s ease-in-out infinite"}}),h.jsx("header",{className:"relative z-10 bg-theme-glass border-b border-theme-glass",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-4",children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{className:"flex items-center space-x-3 cursor-pointer hover:opacity-80 transition-opacity duration-300",onClick:()=>e?t("/dashboard"):null,children:[h.jsx("span",{className:"text-3xl",children:"🌈"}),h.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-theme-primary",children:"MoodFlow"})]}),h.jsx("button",{onClick:r,className:"px-4 py-2 sm:px-6 sm:py-3 rounded-2xl bg-white text-purple-700 hover:bg-gray-100 transition-all duration-300 font-semibold shadow-lg hover:shadow-xl hover:scale-105 focus:outline-none focus:ring-2 focus:ring-white/50 text-sm sm:text-base mr-20 sm:mr-0","aria-label":"Get Started with MoodFlow",children:"Get Started"})]})})}),h.jsx("section",{className:"relative z-10 pt-20 pb-32",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 text-center",children:h.jsxs(ke.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8},children:[h.jsx("div",{className:"text-8xl mb-8 animate-bounce cursor-pointer hover:scale-110 transition-transform duration-300",onClick:()=>e?t("/dashboard"):null,title:e?"Go to Dashboard":"MoodFlow",children:"🌈"}),h.jsxs("h1",{className:"text-4xl sm:text-6xl font-bold text-white mb-8 leading-tight",children:["Track Your ",h.jsx("span",{className:"bg-gradient-to-r from-cyan-400 to-purple-400 bg-clip-text text-transparent",children:"Emotional"})," Journey"]}),h.jsx("p",{className:"text-lg sm:text-xl text-white/80 mb-12 max-w-3xl mx-auto leading-relaxed",children:"Beautiful, intuitive mood tracking with powerful analytics and insights. Discover patterns, build better habits, and nurture your mental wellness."}),h.jsx(ke.button,{onClick:r,className:"px-12 py-6 rounded-3xl bg-gradient-to-r from-cyan-500 to-purple-600 text-white font-bold text-xl shadow-2xl hover:shadow-3xl hover:scale-105 transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-cyan-400/50",whileHover:{scale:1.05},whileTap:{scale:.95},"aria-label":"Start your mood tracking journey",children:"Start Your Journey 🚀"})]})})}),h.jsx("section",{className:"relative z-10 py-20",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:[h.jsxs(ke.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-16",children:[h.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-white mb-6",children:"Powerful Features for Your Wellbeing"}),h.jsx("p",{className:"text-lg text-white/70 max-w-2xl mx-auto",children:"Everything you need to understand and improve your emotional health"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[h.jsx(_u,{icon:"📊",title:"Smart Analytics",description:"Visualize your mood patterns with beautiful charts and insights. Discover what affects your wellbeing most.",delay:.1}),h.jsx(_u,{icon:"📅",title:"Calendar Heatmap",description:"See your entire year at a glance with our colorful calendar heatmap. Track streaks and spot trends easily.",delay:.2}),h.jsx(_u,{icon:"🎯",title:"Goal Tracking",description:"Set wellness goals and track your progress. Build positive habits that stick and celebrate your wins.",delay:.3})]})]})}),h.jsx("section",{className:"relative z-10 py-20",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:[h.jsxs(ke.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-16",children:[h.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-white mb-6",children:"See Your Progress in Action"}),h.jsx("p",{className:"text-lg text-white/70 max-w-2xl mx-auto",children:"Beautiful visualizations that make your emotional journey clear and actionable"})]}),h.jsxs("div",{className:"space-y-24",children:[h.jsxs(ke.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},transition:{duration:.6},className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-2xl font-bold text-white mb-6",children:"Beautiful Analytics Dashboard"}),h.jsx("p",{className:"text-white/80 text-base mb-8 leading-relaxed",children:"Transform your mood data into stunning visualizations. Our advanced analytics help you understand patterns, identify triggers, and celebrate progress with interactive charts and insights."}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center space-x-3 text-white/90",children:[h.jsx("span",{className:"text-cyan-400",children:"✓"}),h.jsx("span",{children:"Interactive mood trend charts"})]}),h.jsxs("div",{className:"flex items-center space-x-3 text-white/90",children:[h.jsx("span",{className:"text-cyan-400",children:"✓"}),h.jsx("span",{children:"Activity correlation insights"})]}),h.jsxs("div",{className:"flex items-center space-x-3 text-white/90",children:[h.jsx("span",{className:"text-cyan-400",children:"✓"}),h.jsx("span",{children:"Weekly and monthly summaries"})]})]})]}),h.jsx("div",{className:"bg-white/10 backdrop-blur-lg p-6 rounded-3xl border border-white/20",children:h.jsxs("div",{className:"bg-gradient-to-br from-cyan-500/20 to-purple-600/20 p-6 rounded-2xl",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h4",{className:"text-white font-semibold",children:"Mood Trends"}),h.jsx("span",{className:"text-white/60 text-sm",children:"Last 30 days"})]}),h.jsx("div",{className:"h-32 flex items-end justify-between space-x-1",children:[...Array(15)].map((o,a)=>h.jsx("div",{className:"bg-gradient-to-t from-cyan-400 to-purple-500 rounded-t",style:{height:`${Math.random()*100+20}%`,width:"100%",animationDelay:`${a*.1}s`}},a))}),h.jsxs("div",{className:"flex justify-between text-white/60 text-xs mt-2",children:[h.jsx("span",{children:"Week 1"}),h.jsx("span",{children:"Week 2"}),h.jsx("span",{children:"Week 3"}),h.jsx("span",{children:"Week 4"})]})]})})]}),h.jsxs(ke.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},transition:{duration:.6},className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[h.jsxs("div",{className:"lg:order-2",children:[h.jsx("h3",{className:"text-2xl font-bold text-white mb-6",children:"Year in Pixels Heatmap"}),h.jsx("p",{className:"text-white/80 text-base mb-8 leading-relaxed",children:"See your entire emotional year at a glance with our beautiful calendar heatmap. Each day is a pixel colored by your mood, creating a stunning visual story of your journey."}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center space-x-3 text-white/90",children:[h.jsx("span",{className:"text-cyan-400",children:"✓"}),h.jsx("span",{children:"365 days in one beautiful view"})]}),h.jsxs("div",{className:"flex items-center space-x-3 text-white/90",children:[h.jsx("span",{className:"text-cyan-400",children:"✓"}),h.jsx("span",{children:"Color-coded mood intensity"})]}),h.jsxs("div",{className:"flex items-center space-x-3 text-white/90",children:[h.jsx("span",{className:"text-cyan-400",children:"✓"}),h.jsx("span",{children:"Streak tracking and highlights"})]})]})]}),h.jsx("div",{className:"lg:order-1 bg-white/10 backdrop-blur-lg p-6 rounded-3xl border border-white/20",children:h.jsxs("div",{className:"bg-gradient-to-br from-purple-500/20 to-cyan-600/20 p-6 rounded-2xl",children:[h.jsx("h4",{className:"text-white font-semibold mb-4",children:"2024 Mood Calendar"}),h.jsx("div",{className:"grid grid-cols-12 gap-1",children:[...Array(365)].map((o,a)=>{const l=["bg-gray-600/30","bg-red-400/60","bg-yellow-400/60","bg-green-400/60","bg-cyan-400/60","bg-purple-400/60"];return h.jsx("div",{className:`w-2 h-2 rounded-sm ${l[Math.floor(Math.random()*l.length)]}`,style:{animationDelay:`${a*.001}s`}},a)})}),h.jsxs("div",{className:"flex justify-between text-white/60 text-xs mt-4",children:[h.jsx("span",{children:"Jan"}),h.jsx("span",{children:"Mar"}),h.jsx("span",{children:"May"}),h.jsx("span",{children:"Jul"}),h.jsx("span",{children:"Sep"}),h.jsx("span",{children:"Nov"})]})]})})]})]})]})}),h.jsx("section",{className:"relative z-10 py-20",children:h.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6",children:[h.jsxs(ke.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-16",children:[h.jsx("h2",{className:"text-4xl sm:text-5xl font-bold text-white mb-6",children:"How MoodFlow Works"}),h.jsx("p",{className:"text-xl text-white/70 max-w-2xl mx-auto",children:"Simple, intuitive, and effective - start tracking your mood in seconds"})]}),h.jsxs("div",{className:"space-y-12",children:[h.jsx(Cu,{number:1,title:"Log Your Mood",description:"Quick and easy mood logging with our beautiful emoji interface. Add notes and tags to capture the full picture.",delay:.1}),h.jsx(Cu,{number:2,title:"Add Context",description:"Tag activities, add notes, and capture what influenced your mood. The more context, the better insights.",delay:.2}),h.jsx(Cu,{number:3,title:"Discover Insights",description:"View beautiful analytics, spot patterns, and understand what makes you happiest. Knowledge is power.",delay:.3})]})]})}),h.jsx("section",{className:"relative z-10 py-20",children:h.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6",children:[h.jsx(ke.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-16",children:h.jsx("h2",{className:"text-4xl sm:text-5xl font-bold text-white mb-6",children:"Why Choose MoodFlow?"})}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsx(ss,{icon:"🎨",text:"Beautiful, intuitive design",delay:.1}),h.jsx(ss,{icon:"📈",text:"Advanced analytics & insights",delay:.2}),h.jsx(ss,{icon:"🔒",text:"Your data stays private & secure",delay:.3}),h.jsx(ss,{icon:"⚡",text:"Lightning-fast performance",delay:.4}),h.jsx(ss,{icon:"📱",text:"Works perfectly on all devices",delay:.5}),h.jsx(ss,{icon:"🎯",text:"Habit & goal tracking built-in",delay:.6})]})]})}),h.jsx("section",{className:"relative z-10 py-20",children:h.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 text-center",children:[h.jsx(ke.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-16",children:h.jsx("h2",{className:"text-4xl sm:text-5xl font-bold text-white mb-6",children:"Loved by Users Worldwide"})}),h.jsx("div",{className:"bg-white/10 backdrop-blur-lg p-8 rounded-3xl border border-white/20",children:h.jsxs(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[h.jsx("div",{className:"flex justify-center mb-4",children:[...Array(s[n].rating)].map((o,a)=>h.jsx("span",{className:"text-yellow-400 text-2xl",children:"⭐"},a))}),h.jsxs("p",{className:"text-xl text-white/90 mb-6 italic leading-relaxed",children:['"',s[n].text,'"']}),h.jsxs("p",{className:"text-white/70 font-semibold",children:["— ",s[n].author]})]},n)})]})}),h.jsx("section",{className:"relative z-10 py-20",children:h.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 text-center",children:h.jsxs(ke.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-gradient-to-r from-cyan-500/20 to-purple-600/20 backdrop-blur-lg p-12 rounded-3xl border border-white/20",children:[h.jsx("h2",{className:"text-4xl sm:text-5xl font-bold text-white mb-6",children:"Ready to Start Your Journey?"}),h.jsx("p",{className:"text-xl text-white/80 mb-8 leading-relaxed",children:"Join thousands of users who are already improving their mental wellness with MoodFlow. Your emotional health journey starts with a single click."}),h.jsx(ke.button,{onClick:r,className:"px-12 py-6 rounded-3xl bg-gradient-to-r from-cyan-500 to-purple-600 text-white font-bold text-xl shadow-2xl hover:shadow-3xl transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-purple-400/50",whileHover:{scale:1.05},whileTap:{scale:.95},"aria-label":"Get started with MoodFlow for free",children:"Get Started Free ✨"})]})})}),h.jsx("footer",{className:"relative z-10 py-12 border-t border-white/20",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:h.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[h.jsxs("div",{className:"flex items-center space-x-3 mb-4 md:mb-0 cursor-pointer hover:opacity-80 transition-opacity duration-300",onClick:()=>e?t("/dashboard"):null,title:e?"Go to Dashboard":"Home",children:[h.jsx("span",{className:"text-2xl",children:"🌈"}),h.jsx("span",{className:"text-xl font-bold text-white",children:"MoodFlow"})]}),h.jsx("div",{className:"text-white/60",children:"© 2024 MoodFlow. Made with 💜 for your wellbeing."})]})})})]})}function sF(){const e=jo(),[t,n]=C.useState(""),[i,s]=C.useState(!1),[r,o]=C.useState(""),[a,l]=C.useState(!1),[c,u]=C.useState(""),{confirmSignUp:d,resendConfirmationCode:f,isLoading:p,error:m,clearError:g,pendingVerificationEmail:b,isAuthenticated:y}=hn(),w=b,S=()=>{e(y?"/dashboard":"/")},E=async j=>{if(j.preventDefault(),g(),!(!w||!t))try{const P=await d({email:w,code:t});l(!0),u(P.message),P.autoSignedIn?(console.log("✅ Auto-signed in after verification!"),setTimeout(()=>{},1500)):console.log("ℹ️ Verification complete, please sign in")}catch(P){console.error("Verification error:",P),l(!1)}},k=async()=>{if(w){s(!0),o("");try{await f({email:w}),o("Verification code sent! Please check your email.")}catch(j){console.error("Resend error:",j)}finally{s(!1)}}},N=j=>{n(j.target.value),g()};return h.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 relative overflow-hidden",children:[h.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 bg-purple-400/30 rounded-full blur-xl",style:{animation:"floatOrb1 20s ease-in-out infinite"}}),h.jsx("div",{className:"absolute bottom-20 right-20 w-40 h-40 bg-pink-400/30 rounded-full blur-xl",style:{animation:"floatOrb2 25s ease-in-out infinite reverse"}}),h.jsx("div",{className:"absolute top-1/2 right-1/4 w-24 h-24 bg-cyan-400/30 rounded-full blur-xl",style:{animation:"floatOrb3 18s ease-in-out infinite"}}),h.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-3xl p-8 sm:p-10 w-full max-w-md border border-white/20 shadow-2xl relative z-10",children:[h.jsxs("div",{className:"text-center mb-10",children:[h.jsx("div",{className:"text-5xl mb-4 cursor-pointer hover:scale-110 transition-transform duration-300",onClick:S,title:y?"Go to Dashboard":"Go to Home",children:"📧"}),h.jsx("h1",{className:"text-4xl sm:text-5xl font-bold text-white mb-3 cursor-pointer hover:opacity-80 transition-opacity duration-300",onClick:S,title:y?"Go to Dashboard":"Go to Home",children:"Verify Email"}),h.jsx("p",{className:"text-white/80 text-lg",children:"Enter the verification code sent to your email"})]}),h.jsxs("form",{onSubmit:E,className:"space-y-6",children:[h.jsxs("div",{className:"text-center mb-6",children:[h.jsx("p",{className:"text-white/70 text-sm mb-2",children:"Verification code sent to:"}),h.jsx("p",{className:"text-white font-medium",children:w})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-white/90 text-sm font-medium mb-3",children:"Verification Code"}),h.jsx("input",{type:"text",value:t,onChange:N,className:"w-full px-4 py-4 rounded-2xl bg-white/10 backdrop-blur-sm border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-white/40 focus:border-transparent transition-all duration-300",placeholder:"123456",required:!0,maxLength:6})]}),m&&h.jsx("div",{className:"p-4 rounded-2xl bg-red-500/20 border border-red-400/30 text-white",children:h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("span",{className:"text-2xl",children:"⚠️"}),h.jsx("span",{className:"font-medium",children:m.message})]})}),r&&h.jsx("div",{className:"p-4 rounded-2xl bg-green-500/20 border border-green-400/30 text-white",children:h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("span",{className:"text-2xl",children:"✅"}),h.jsx("span",{className:"font-medium",children:r})]})}),a&&c&&h.jsx("div",{className:"p-4 rounded-2xl bg-emerald-500/20 border border-emerald-400/30 text-white",children:h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("span",{className:"text-2xl",children:"✨"}),h.jsx("span",{className:"font-medium",children:c})]})}),h.jsx("button",{type:"submit",disabled:p||!w||!t,className:"w-full py-4 px-6 rounded-2xl bg-gradient-to-r from-white to-gray-100 text-purple-700 font-semibold hover:from-gray-100 hover:to-white transform hover:scale-[1.02] transition-all duration-300 shadow-xl disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:p?"Verifying...":"Verify Email"})]}),h.jsxs("div",{className:"mt-6 text-center",children:[h.jsx("p",{className:"text-white/70 text-sm mb-3",children:"Didn't receive the code?"}),h.jsx("button",{type:"button",onClick:k,disabled:i||!w,className:"text-white hover:text-white/80 transition-colors duration-300 text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Sending...":"Resend Code"})]})]})]})}const Lb=C.createContext(),bc=()=>{const e=C.useContext(Lb);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},rF=({children:e})=>{const t=localStorage.getItem("moodflow-theme")||"light";typeof document<"u"&&(document.documentElement.setAttribute("data-theme",t),document.documentElement.style.setProperty("--current-theme",t));const[n,i]=C.useState(t),[s,r]=C.useState(!1),[o,a]=C.useState(!0);C.useEffect(()=>{localStorage.setItem("moodflow-theme",n),r(!0),document.documentElement.setAttribute("data-theme",n);const d=setTimeout(()=>{r(!1),a(!0)},1500);return()=>clearTimeout(d)},[n]);const u={theme:n,isDark:n==="dark",toggleTheme:()=>{i(n==="light"?"dark":"light")},isTransitioning:s,isLoaded:o};return h.jsx(Lb.Provider,{value:u,children:e})},oF=({className:e=""})=>{const{isDark:t,toggleTheme:n,theme:i,isTransitioning:s}=bc(),r=()=>{n()};return h.jsxs("button",{onClick:r,className:`
        flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-medium
        bg-theme-glass backdrop-blur-lg hover:bg-theme-glass 
        border border-theme-glass hover:border-theme-glass
        hover:scale-105 active:scale-95
        focus:outline-none focus:ring-2 focus:ring-white/40
        transition-all duration-300 shadow-lg hover:shadow-xl
        text-theme-primary cursor-pointer
        ${s?"animate-pulse":""}
        ${e}
      `,style:{backdropFilter:"blur(16px)",WebkitBackdropFilter:"blur(16px)",backgroundColor:t?"rgba(139, 92, 246, 0.4)":"rgba(255, 255, 255, 0.2)",borderColor:t?"rgba(139, 92, 246, 0.6)":"rgba(255, 255, 255, 0.4)",transition:"all 0.3s ease"},children:[h.jsx("span",{className:"text-sm",children:t?"🌙":"☀️"}),h.jsx("span",{className:"hidden sm:inline",children:t?"Dark":"Light"})]})};function aF(){const{signOut:e}=hn(),{isDark:t}=bc();return Gt.useEffect(()=>{(async()=>{try{await e(),console.log("✅ Logged out successfully"),window.location.href="/"}catch(i){console.error("❌ Logout error:",i),window.location.href="/"}})()},[]),h.jsxs("div",{className:"font-sans relative min-h-screen w-full",children:[h.jsx("div",{className:"fixed inset-0 -z-10",style:{background:"linear-gradient(-45deg, #dc6b47, #d1375e, #1f8bb8, #1fb894, #5a73d9, #6a4291)",backgroundSize:"400% 400%",animation:"gradientMove 25s ease infinite",opacity:t?0:1,transition:"opacity 1s ease-in-out",minHeight:"120vh",top:"-10vh",bottom:"-10vh"}}),h.jsx("div",{className:"fixed inset-0 -z-10",style:{background:"linear-gradient(-45deg, #0a0a1a, #101020, #0e1428, #0c1f35, #1a1a35, #2d1f4f)",backgroundSize:"400% 400%",animation:"gradientMove 25s ease infinite",opacity:t?1:0,transition:"opacity 1s ease-in-out",minHeight:"120vh",top:"-10vh",bottom:"-10vh"}}),h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsxs("div",{className:"text-center text-white",children:[h.jsx("div",{className:"text-6xl mb-4 animate-spin",children:"🌈"}),h.jsx("div",{className:"text-2xl font-bold mb-2",children:"Logging out..."}),h.jsx("div",{className:"text-white/80",children:"Redirecting to landing page"})]})})]})}function lF({children:e}){const{isAuthenticated:t,isLoading:n}=hn(),{isDark:i}=bc();return n?h.jsxs("div",{className:"font-sans relative min-h-screen w-full",children:[h.jsx("div",{className:"fixed inset-0 -z-10",style:{background:"linear-gradient(-45deg, #dc6b47, #d1375e, #1f8bb8, #1fb894, #5a73d9, #6a4291)",backgroundSize:"400% 400%",animation:"gradientMove 25s ease infinite",opacity:i?0:1,transition:"opacity 1s ease-in-out",minHeight:"120vh",top:"-10vh",bottom:"-10vh"}}),h.jsx("div",{className:"fixed inset-0 -z-10",style:{background:"linear-gradient(-45deg, #0a0a1a, #101020, #0e1428, #0c1f35, #1a1a35, #2d1f4f)",backgroundSize:"400% 400%",animation:"gradientMove 25s ease infinite",opacity:i?1:0,transition:"opacity 1s ease-in-out",minHeight:"120vh",top:"-10vh",bottom:"-10vh"}}),h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsxs("div",{className:"text-center text-white",children:[h.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:"🌈"}),h.jsx("div",{className:"text-2xl font-bold mb-2",children:"MoodFlow"}),h.jsx("div",{className:"text-white/80",children:"Loading..."})]})})]}):t?e:h.jsx(br,{to:"/login",replace:!0})}function cF(){const{user:e,isAuthenticated:t,isLoading:n,authStatus:i}=hn(),{isLoaded:s,isDark:r}=bc();return console.log("📊 Auth state:",{user:!!e,isAuthenticated:t,isLoading:n,authStatus:i}),console.log("🔍 Current URL:",window.location.pathname),n?(console.log("⏳ Showing loading screen..."),h.jsxs("div",{className:"font-sans relative min-h-screen w-full",children:[h.jsx("div",{className:"fixed inset-0 -z-10",style:{background:"linear-gradient(-45deg, #dc6b47, #d1375e, #1f8bb8, #1fb894, #5a73d9, #6a4291)",backgroundSize:"400% 400%",animation:"gradientMove 20s ease infinite",opacity:r?0:1,transition:"opacity 1.5s ease-in-out",minHeight:"120vh",top:"-10vh",bottom:"-10vh"}}),h.jsx("div",{className:"fixed inset-0 -z-10",style:{background:"linear-gradient(-45deg, #0a0a1a, #101020, #0e1428, #0c1f35, #1a1a35, #2d1f4f)",backgroundSize:"400% 400%",animation:"gradientMove 20s ease infinite",opacity:r?1:0,transition:"opacity 1.5s ease-in-out",minHeight:"120vh",top:"-10vh",bottom:"-10vh"}}),h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsxs("div",{className:"text-center text-white",children:[h.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:"🌈"}),h.jsx("div",{className:"text-2xl font-bold mb-2",children:"MoodFlow"}),h.jsx("div",{className:"text-white/80",children:"Loading..."})]})})]})):h.jsx(R2,{children:h.jsxs("div",{className:"font-sans relative min-h-screen w-full",children:[h.jsx("div",{className:"fixed inset-0 -z-10",style:{background:"linear-gradient(-45deg, #dc6b47, #d1375e, #1f8bb8, #1fb894, #5a73d9, #6a4291)",backgroundSize:"400% 400%",animation:"gradientMove 25s ease infinite",opacity:r?0:1,transition:"opacity 1s ease-in-out",minHeight:"120vh",top:"-10vh",bottom:"-10vh"}}),h.jsx("div",{className:"fixed inset-0 -z-10",style:{background:"linear-gradient(-45deg, #0a0a1a, #101020, #0e1428, #0c1f35, #1a1a35, #2d1f4f)",backgroundSize:"400% 400%",animation:"gradientMove 25s ease infinite",opacity:r?1:0,transition:"opacity 1s ease-in-out",minHeight:"120vh",top:"-10vh",bottom:"-10vh"}}),h.jsx(oF,{className:"fixed top-4 right-4 z-50"}),h.jsx(T1,{mode:"wait",children:h.jsxs(u2,{children:[h.jsx(Ln,{path:"/",element:h.jsx(ke.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:h.jsx(Ty,{})})}),h.jsx(Ln,{path:"/verify",element:i==="needsConfirmation"?h.jsx(ke.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},children:h.jsx(sF,{})}):h.jsx(br,{to:t?"/dashboard":"/login",replace:!0})}),h.jsx(Ln,{path:"/login",element:t?h.jsx(br,{to:"/dashboard",replace:!0}):i==="needsConfirmation"?h.jsx(br,{to:"/verify",replace:!0}):h.jsx(ke.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},children:h.jsx(iF,{})})}),h.jsx(Ln,{path:"/dashboard",element:h.jsx(lF,{children:h.jsx(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:h.jsx(tF,{user:e})})})}),h.jsx(Ln,{path:"/landing",element:h.jsx(ke.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:h.jsx(Ty,{})})}),h.jsx(Ln,{path:"/logout",element:h.jsx(aF,{})}),h.jsx(Ln,{path:"*",element:h.jsx(br,{to:"/",replace:!0})})]})})]})})}function uF(){return h.jsx(rF,{children:h.jsx(cF,{})})}class dF extends Gt.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,n){console.error("❌ React Error Boundary caught an error:",t,n),this.setState({error:t,errorInfo:n})}render(){return this.state.hasError?h.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",style:{background:"linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab, #667eea, #764ba2)",backgroundSize:"400% 400%",animation:"gradientMove 15s ease infinite"},children:h.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-3xl p-8 w-full max-w-2xl border border-white/20 shadow-2xl",children:[h.jsxs("div",{className:"text-center mb-6",children:[h.jsx("div",{className:"text-5xl mb-4",children:"⚠️"}),h.jsx("h1",{className:"text-3xl font-bold text-white mb-3",children:"Something went wrong"}),h.jsx("p",{className:"text-white/80",children:"The app encountered an unexpected error."})]}),h.jsxs("div",{className:"bg-white/5 rounded-2xl p-4 mb-6",children:[h.jsx("h3",{className:"text-white font-medium mb-2",children:"Error Details:"}),h.jsx("pre",{className:"text-white/70 text-sm overflow-auto",children:this.state.error&&this.state.error.toString()})]}),h.jsx("div",{className:"text-center",children:h.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 rounded-2xl bg-white/20 text-white hover:bg-white/30 transition-all duration-300 font-medium",children:"Reload Page"})}),h.jsx("div",{className:"mt-6 text-center",children:h.jsx("p",{className:"text-white/60 text-sm",children:"Check the browser console for more details"})})]})}):this.props.children}}Eu.createRoot(document.getElementById("root")).render(h.jsx(Gt.StrictMode,{children:h.jsx(dF,{children:h.jsx(Gj,{children:h.jsx(uF,{})})})}));
